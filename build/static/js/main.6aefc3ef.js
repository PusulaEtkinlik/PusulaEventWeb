/*! For license information please see main.6aefc3ef.js.LICENSE.txt */
(()=>{var e={4:(e,t,r)=>{const n=r(421),a=r(900),i=r(642),s=r(697),o=r(200),l=r(511),c=r(969),u=r(347);function h(e){return unescape(encodeURIComponent(e)).length}function d(e,t,r){const n=[];let a;for(;null!==(a=e.exec(r));)n.push({data:a[0],index:a.index,mode:t,length:a[0].length});return n}function f(e){const t=d(l.NUMERIC,n.NUMERIC,e),r=d(l.ALPHANUMERIC,n.ALPHANUMERIC,e);let a,i;c.isKanjiModeEnabled()?(a=d(l.BYTE,n.BYTE,e),i=d(l.KANJI,n.KANJI,e)):(a=d(l.BYTE_KANJI,n.BYTE,e),i=[]);return t.concat(r,a,i).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case n.NUMERIC:return a.getBitsLength(e);case n.ALPHANUMERIC:return i.getBitsLength(e);case n.KANJI:return o.getBitsLength(e);case n.BYTE:return s.getBitsLength(e)}}function g(e,t){let r;const l=n.getBestModeForData(e);if(r=n.from(t,l),r!==n.BYTE&&r.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(l));switch(r!==n.KANJI||c.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new a(e);case n.ALPHANUMERIC:return new i(e);case n.KANJI:return new o(e);case n.BYTE:return new s(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"===typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e}),[])},t.fromString=function(e,r){const a=function(e){const t=[];for(let r=0;r<e.length;r++){const a=e[r];switch(a.mode){case n.NUMERIC:t.push([a,{data:a.data,mode:n.ALPHANUMERIC,length:a.length},{data:a.data,mode:n.BYTE,length:a.length}]);break;case n.ALPHANUMERIC:t.push([a,{data:a.data,mode:n.BYTE,length:a.length}]);break;case n.KANJI:t.push([a,{data:a.data,mode:n.BYTE,length:h(a.data)}]);break;case n.BYTE:t.push([{data:a.data,mode:n.BYTE,length:h(a.data)}])}}return t}(f(e,c.isKanjiModeEnabled())),i=function(e,t){const r={},a={start:{}};let i=["start"];for(let s=0;s<e.length;s++){const o=e[s],l=[];for(let e=0;e<o.length;e++){const c=o[e],u=""+s+e;l.push(u),r[u]={node:c,lastCount:0},a[u]={};for(let e=0;e<i.length;e++){const s=i[e];r[s]&&r[s].node.mode===c.mode?(a[s][u]=p(r[s].lastCount+c.length,c.mode)-p(r[s].lastCount,c.mode),r[s].lastCount+=c.length):(r[s]&&(r[s].lastCount=c.length),a[s][u]=p(c.length,c.mode)+4+n.getCharCountIndicator(c.mode,t))}}i=l}for(let n=0;n<i.length;n++)a[i[n]].end=0;return{map:a,table:r}}(a,r),s=u.find_path(i.map,"start","end"),o=[];for(let t=1;t<s.length-1;t++)o.push(i.table[s[t]].node);return t.fromArray(function(e){return e.reduce((function(e,t){const r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(o))},t.rawSplit=function(e){return t.fromArray(f(e,c.isKanjiModeEnabled()))}},21:(e,t,r)=>{const n=r(969).getSymbolSize;t.getPositions=function(e){const t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},43:(e,t,r)=>{"use strict";e.exports=r(202)},72:function(e,t,r){!function(e){"use strict";function t(e){return null===e||void 0===e}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function a(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function i(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function s(e,t){void 0===t&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var o,l=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),i(n,r.prototype),s(n),n}return a(t,e),t}(Error);class c extends l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;super(e),this.message=e}getKind(){return this.constructor.kind}}c.kind="Exception";class u extends c{}u.kind="ArgumentException";class h extends c{}h.kind="IllegalArgumentException";class d{constructor(e){if(this.binarizer=e,null===e)throw new h("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const a=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new d(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new d(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new d(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class f extends c{static getChecksumInstance(){return new f}}f.kind="ChecksumException";class p{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class g{static arraycopy(e,t,r,n,a){for(;a--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class m extends c{}m.kind="IndexOutOfBoundsException";class v extends m{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(t),this.index=e,this.message=t}}v.kind="ArrayIndexOutOfBoundsException";class w{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){w.rangeCheck(e.length,t,r);for(let a=t;a<r;a++)e[a]=n}static rangeCheck(e,t,r){if(t>r)throw new h("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new v(t);if(r>e)throw new v(r)}static asList(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t}static create(e,t,r){return Array.from({length:e}).map((e=>Array.from({length:t}).fill(r)))}static createInt32Array(e,t,r){return Array.from({length:e}).map((e=>Int32Array.from({length:t}).fill(r)))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,a=new Int32Array(n);return g.arraycopy(e,t,a,0,n),a}static binarySearch(e,t,r){void 0===r&&(r=w.numberComparator);let n=0,a=e.length-1;for(;n<=a;){const i=a+n>>1,s=r(t,e[i]);if(s>0)n=i+1;else{if(!(s<0))return i;a=i-1}}return-n-1}static numberComparator(e,t){return e-t}}class y{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let r=31;return t=e<<16,0!==t&&(r-=16,e=t),t=e<<8,0!==t&&(r-=8,e=t),t=e<<4,0!==t&&(r-=4,e=t),t=e<<2,0!==t&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}y.MIN_VALUE_32_BITS=-2147483648,y.MAX_VALUE=Number.MAX_SAFE_INTEGER;class b{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=void 0===t||null===t?b.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=b.makeArray(e);g.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),a=r[n];a&=~((1<<(31&e))-1);const i=r.length;for(;0===a;){if(++n===i)return t;a=r[n]}const s=32*n+y.numberOfTrailingZeros(a);return s>t?t:s}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),a=~r[n];a&=~((1<<(31&e))-1);const i=r.length;for(;0===a;){if(++n===i)return t;a=~r[n]}const s=32*n+y.numberOfTrailingZeros(a);return s>t?t:s}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new h;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),a=this.bits;for(let i=r;i<=n;i++){const s=(2<<(i<n?31:31&t))-(1<<(i>r?0:31&e));a[i]|=s}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new h;if(t===e)return!0;t--;const n=Math.floor(e/32),a=Math.floor(t/32),i=this.bits;for(let s=n;s<=a;s++){const o=(2<<(s<a?31:31&t))-(1<<(s>n?0:31&e))&4294967295;if((i[s]&o)!==(r?o:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new h("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit(1===(e>>r-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new h("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let a=0;a<n;a++){let n=0;for(let t=0;t<8;t++)this.get(e)&&(n|=1<<7-t),e++;t[r+a]=n}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let a=0;a<r;a++){let r=n[a];r=r>>1&1431655765|(1431655765&r)<<1,r=r>>2&858993459|(858993459&r)<<2,r=r>>4&252645135|(252645135&r)<<4,r=r>>8&16711935|(16711935&r)<<8,r=r>>16&65535|(65535&r)<<16,e[t-a]=r}if(this.size!==32*r){const t=32*r-this.size;let n=e[0]>>>t;for(let a=1;a<r;a++){const r=e[a];n|=r<<32-t,e[a-1]=n,n=r>>>t}e[r-1]=n}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof b))return!1;const t=e;return this.size===t.size&&w.equals(this.bits,t.bits)}hashCode(){return 31*this.size+w.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new b(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(o||(o={}));var E,S=o;class T extends c{static getFormatInstance(){return new T}}T.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(E||(E={}));class C{constructor(e,t,r){this.valueIdentifier=e,this.name=r,this.values="number"===typeof t?Int32Array.from([t]):t;for(var n=arguments.length,a=new Array(n>3?n-3:0),i=3;i<n;i++)a[i-3]=arguments[i];this.otherEncodingNames=a,C.VALUE_IDENTIFIER_TO_ECI.set(e,this),C.NAME_TO_ECI.set(r,this);const s=this.values;for(let o=0,l=s.length;o!==l;o++){const e=s[o];C.VALUES_TO_ECI.set(e,this)}for(const o of a)C.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new T("incorect value");const t=C.VALUES_TO_ECI.get(e);if(void 0===t)throw new T("incorect value");return t}static getCharacterSetECIByName(e){const t=C.NAME_TO_ECI.get(e);if(void 0===t)throw new T("incorect value");return t}equals(e){if(!(e instanceof C))return!1;const t=e;return this.getName()===t.getName()}}C.VALUE_IDENTIFIER_TO_ECI=new Map,C.VALUES_TO_ECI=new Map,C.NAME_TO_ECI=new Map,C.Cp437=new C(E.Cp437,Int32Array.from([0,2]),"Cp437"),C.ISO8859_1=new C(E.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),C.ISO8859_2=new C(E.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),C.ISO8859_3=new C(E.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),C.ISO8859_4=new C(E.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),C.ISO8859_5=new C(E.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),C.ISO8859_6=new C(E.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),C.ISO8859_7=new C(E.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),C.ISO8859_8=new C(E.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),C.ISO8859_9=new C(E.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),C.ISO8859_10=new C(E.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),C.ISO8859_11=new C(E.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),C.ISO8859_13=new C(E.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),C.ISO8859_14=new C(E.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),C.ISO8859_15=new C(E.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),C.ISO8859_16=new C(E.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),C.SJIS=new C(E.SJIS,20,"SJIS","Shift_JIS"),C.Cp1250=new C(E.Cp1250,21,"Cp1250","windows-1250"),C.Cp1251=new C(E.Cp1251,22,"Cp1251","windows-1251"),C.Cp1252=new C(E.Cp1252,23,"Cp1252","windows-1252"),C.Cp1256=new C(E.Cp1256,24,"Cp1256","windows-1256"),C.UnicodeBigUnmarked=new C(E.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),C.UTF8=new C(E.UTF8,26,"UTF8","UTF-8"),C.ASCII=new C(E.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),C.Big5=new C(E.Big5,28,"Big5"),C.GB18030=new C(E.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),C.EUC_KR=new C(E.EUC_KR,30,"EUC_KR","EUC-KR");class _ extends c{}_.kind="UnsupportedOperationException";class A{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!A.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"===typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof C?e:C.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(A.isDecodeFallbackSupported(r)){let t="";for(let r=0,n=e.length;r<n;r++){let n=e[r].toString(16);n.length<2&&(n="0"+n),t+="%"+n}return decodeURIComponent(t)}if(r.equals(C.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(C.UTF8)||e.equals(C.ISO8859_1)||e.equals(C.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let n=0;n<t.length;n++)r.push(t[n].charCodeAt(0));return new Uint8Array(r)}}class I{static castAsNonUtf8Char(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=t?t.getName():this.ISO88591;return A.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(null!==t&&void 0!==t&&void 0!==t.get(S.CHARACTER_SET))return t.get(S.CHARACTER_SET).toString();const r=e.length;let n=!0,a=!0,i=!0,s=0,o=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,g=0,m=0;const v=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let w=0;w<r&&(n||a||i);w++){const t=255&e[w];i&&(s>0?0===(128&t)?i=!1:s--:0!==(128&t)&&(0===(64&t)?i=!1:(s++,0===(32&t)?o++:(s++,0===(16&t)?l++:(s++,0===(8&t)?c++:i=!1))))),n&&(t>127&&t<160?n=!1:t>159&&(t<192||215===t||247===t)&&m++),a&&(u>0?t<64||127===t||t>252?a=!1:u--:128===t||160===t||t>239?a=!1:t>160&&t<224?(h++,f=0,d++,d>p&&(p=d)):t>127?(u++,d=0,f++,f>g&&(g=f)):(d=0,f=0))}return i&&s>0&&(i=!1),a&&u>0&&(a=!1),i&&(v||o+l+c>0)?I.UTF8:a&&(I.ASSUME_SHIFT_JIS||p>=3||g>=3)?I.SHIFT_JIS:n&&a?2===p&&2===h||10*m>=r?I.SHIFT_JIS:I.ISO88591:n?I.ISO88591:a?I.SHIFT_JIS:i?I.UTF8:I.PLATFORM_DEFAULT_ENCODING}static format(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a=-1;function i(e,t,n,i,s,o){if("%%"===e)return"%";if(void 0===r[++a])return;e=i?parseInt(i.substr(1)):void 0;let l,c=s?parseInt(s.substr(1)):void 0;switch(o){case"s":l=r[a];break;case"c":l=r[a][0];break;case"f":l=parseFloat(r[a]).toFixed(e);break;case"p":l=parseFloat(r[a]).toPrecision(e);break;case"e":l=parseFloat(r[a]).toExponential(e);break;case"x":l=parseInt(r[a]).toString(c||16);break;case"d":l=parseFloat(parseInt(r[a],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(n),h=n&&n[0]+""==="0"?"0":" ";for(;l.length<u;)l=void 0!==t?l+h:h+l;return l}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)}static getBytes(e,t){return A.encode(e,t)}static getCharCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}I.SHIFT_JIS=C.SJIS.getName(),I.GB2312="GB2312",I.ISO88591=C.ISO8859_1.getName(),I.EUC_JP="EUC_JP",I.UTF8=C.UTF8.getName(),I.PLATFORM_DEFAULT_ENCODING=I.UTF8,I.ASSUME_SHIFT_JIS=!1;class k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=I.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class N{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new h("Both dimensions must be greater than 0");void 0!==r&&null!==r||(r=Math.floor((e+31)/32)),this.rowSize=r,void 0!==n&&null!==n||(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new N(r,t);for(let a=0;a<t;a++){const t=e[a];for(let e=0;e<r;e++)t[e]&&n.set(e,a)}return n}static parseFromString(e,t,r){if(null===e)throw new h("stringRepresentation cannot be null");const n=new Array(e.length);let a=0,i=0,s=-1,o=0,l=0;for(;l<e.length;)if("\n"===e.charAt(l)||"\r"===e.charAt(l)){if(a>i){if(-1===s)s=a-i;else if(a-i!==s)throw new h("row lengths do not match");i=a,o++}l++}else if(e.substring(l,l+t.length)===t)l+=t.length,n[a]=!0,a++;else{if(e.substring(l,l+r.length)!==r)throw new h("illegal character encountered: "+e.substring(l));l+=r.length,n[a]=!1,a++}if(a>i){if(-1===s)s=a-i;else if(a-i!==s)throw new h("row lengths do not match");o++}const c=new N(s,o);for(let u=0;u<a;u++)n[u]&&c.set(Math.floor(u%s),Math.floor(u/s));return c}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[r]>>>(31&e)&1)}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new h("input matrix dimensions do not match");const t=new b(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let a=0,i=this.height;a<i;a++){const i=a*r,s=e.getRow(a,t).getBitArray();for(let e=0;e<r;e++)n[i+e]^=s[e]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new h("Left and top must be nonnegative");if(n<1||r<1)throw new h("Height and width must be at least 1");const a=e+r,i=t+n;if(i>this.height||a>this.width)throw new h("The region must fit inside the matrix");const s=this.rowSize,o=this.bits;for(let l=t;l<i;l++){const t=l*s;for(let r=e;r<a;r++)o[t+Math.floor(r/32)]|=1<<(31&r)&4294967295}}getRow(e,t){null===t||void 0===t||t.getSize()<this.width?t=new b(this.width):t.clear();const r=this.rowSize,n=this.bits,a=e*r;for(let i=0;i<r;i++)t.setBulk(32*i,n[a+i]);return t}setRow(e,t){g.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new b(e),n=new b(e);for(let a=0,i=Math.floor((t+1)/2);a<i;a++)r=this.getRow(a,r),n=this.getRow(t-1-a,n),r.reverse(),n.reverse(),this.setRow(a,n),this.setRow(t-1-a,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let a=e,i=t,s=-1,o=-1;for(let l=0;l<t;l++)for(let e=0;e<r;e++){const t=n[l*r+e];if(0!==t){if(l<i&&(i=l),l>o&&(o=l),32*e<a){let r=0;for(;0===(t<<31-r&4294967295);)r++;32*e+r<a&&(a=32*e+r)}if(32*e+31>s){let r=31;for(;t>>>r===0;)r--;32*e+r>s&&(s=32*e+r)}}}return s<a||o<i?null:Int32Array.from([a,i,s-a+1,o-i+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&0===t[r];)r++;if(r===t.length)return null;const n=r/e;let a=r%e*32;const i=t[r];let s=0;for(;0===(i<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&0===t[r];)r--;if(r<0)return null;const n=Math.floor(r/e);let a=32*Math.floor(r%e);const i=t[r];let s=31;for(;i>>>s===0;)s--;return a+=s,Int32Array.from([a,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof N))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&w.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+w.hashCode(this.bits),e}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"X ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new k;for(let a=0,i=this.height;a<i;a++){for(let r=0,i=this.width;r<i;r++)n.append(this.get(r,a)?e:t);n.append(r)}return n.toString()}clone(){return new N(this.width,this.height,this.rowSize,this.bits.slice())}}class x extends c{static getNotFoundInstance(){return new x}}x.kind="NotFoundException";class D extends p{constructor(e){super(e),this.luminances=D.EMPTY,this.buckets=new Int32Array(D.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();void 0===t||null===t||t.getSize()<n?t=new b(n):t.clear(),this.initArrays(n);const a=r.getRow(e,this.luminances),i=this.buckets;for(let o=0;o<n;o++)i[(255&a[o])>>D.LUMINANCE_SHIFT]++;const s=D.estimateBlackPoint(i);if(n<3)for(let o=0;o<n;o++)(255&a[o])<s&&t.set(o);else{let e=255&a[0],r=255&a[1];for(let i=1;i<n-1;i++){const n=255&a[i+1];(4*r-e-n)/2<s&&t.set(i),e=r,r=n}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new N(t,r);this.initArrays(t);const a=this.buckets;for(let o=1;o<5;o++){const n=Math.floor(r*o/5),i=e.getRow(n,this.luminances),s=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<s;e++)a[(255&i[e])>>D.LUMINANCE_SHIFT]++}const i=D.estimateBlackPoint(a),s=e.getMatrix();for(let o=0;o<r;o++){const e=o*t;for(let r=0;r<t;r++)(255&s[e+r])<i&&n.set(r,o)}return n}createBinarizer(e){return new D(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<D.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,a=0;for(let c=0;c<t;c++)e[c]>a&&(n=c,a=e[c]),e[c]>r&&(r=e[c]);let i=0,s=0;for(let c=0;c<t;c++){const t=c-n,r=e[c]*t*t;r>s&&(i=c,s=r)}if(n>i){const e=n;n=i,i=e}if(i-n<=t/16)throw new x;let o=i-1,l=-1;for(let c=i-1;c>n;c--){const t=c-n,a=t*t*(i-c)*(r-e[c]);a>l&&(o=c,l=a)}return o<<D.LUMINANCE_SHIFT}}D.LUMINANCE_BITS=5,D.LUMINANCE_SHIFT=8-D.LUMINANCE_BITS,D.LUMINANCE_BUCKETS=1<<D.LUMINANCE_BITS,D.EMPTY=Uint8ClampedArray.from([0]);class R extends D{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=R.MINIMUM_DIMENSION&&r>=R.MINIMUM_DIMENSION){const n=e.getMatrix();let a=t>>R.BLOCK_SIZE_POWER;0!==(t&R.BLOCK_SIZE_MASK)&&a++;let i=r>>R.BLOCK_SIZE_POWER;0!==(r&R.BLOCK_SIZE_MASK)&&i++;const s=R.calculateBlackPoints(n,a,i,t,r),o=new N(t,r);R.calculateThresholdForBlock(n,a,i,t,r,s,o),this.matrix=o}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new R(e)}static calculateThresholdForBlock(e,t,r,n,a,i,s){const o=a-R.BLOCK_SIZE,l=n-R.BLOCK_SIZE;for(let c=0;c<r;c++){let a=c<<R.BLOCK_SIZE_POWER;a>o&&(a=o);const u=R.cap(c,2,r-3);for(let r=0;r<t;r++){let o=r<<R.BLOCK_SIZE_POWER;o>l&&(o=l);const c=R.cap(r,2,t-3);let h=0;for(let e=-2;e<=2;e++){const t=i[u+e];h+=t[c-2]+t[c-1]+t[c]+t[c+1]+t[c+2]}const d=h/25;R.thresholdBlock(e,o,a,d,n,s)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,a,i){for(let s=0,o=r*a+t;s<R.BLOCK_SIZE;s++,o+=a)for(let a=0;a<R.BLOCK_SIZE;a++)(255&e[o+a])<=n&&i.set(t+a,r+s)}static calculateBlackPoints(e,t,r,n,a){const i=a-R.BLOCK_SIZE,s=n-R.BLOCK_SIZE,o=new Array(r);for(let l=0;l<r;l++){o[l]=new Int32Array(t);let r=l<<R.BLOCK_SIZE_POWER;r>i&&(r=i);for(let a=0;a<t;a++){let t=a<<R.BLOCK_SIZE_POWER;t>s&&(t=s);let i=0,c=255,u=0;for(let a=0,s=r*n+t;a<R.BLOCK_SIZE;a++,s+=n){for(let t=0;t<R.BLOCK_SIZE;t++){const r=255&e[s+t];i+=r,r<c&&(c=r),r>u&&(u=r)}if(u-c>R.MIN_DYNAMIC_RANGE)for(a++,s+=n;a<R.BLOCK_SIZE;a++,s+=n)for(let t=0;t<R.BLOCK_SIZE;t++)i+=255&e[s+t]}let h=i>>2*R.BLOCK_SIZE_POWER;if(u-c<=R.MIN_DYNAMIC_RANGE&&(h=c/2,l>0&&a>0)){const e=(o[l-1][a]+2*o[l][a-1]+o[l-1][a-1])/4;c<e&&(h=e)}o[l][a]=h}}return o}}R.BLOCK_SIZE_POWER=3,R.BLOCK_SIZE=1<<R.BLOCK_SIZE_POWER,R.BLOCK_SIZE_MASK=R.BLOCK_SIZE-1,R.MINIMUM_DIMENSION=5*R.BLOCK_SIZE,R.MIN_DYNAMIC_RANGE=24;class M{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new _("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new k;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let e=0;e<this.width;e++){const r=255&n[e];let a;a=r<64?"#":r<128?"+":r<192?".":" ",t.append(a)}t.append("\n")}return t.toString()}}class O extends M{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let a=0;a<n;a++)r[a]=255-(255&r[a]);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(255&e[n]);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new O(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new O(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new O(this.delegate.rotateCounterClockwise45())}}class P extends M{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=P.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return P.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let a=0,i=0,s=e.length;a<s;a+=4,i++){let t;t=0===e[a+3]?255:306*e[a]+601*e[a+1]+117*e[a+2]+512>>10,n[i]=t}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new h("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*P.DEGREE_TO_RADIANS,a=this.canvas.width,i=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(n))*a+Math.abs(Math.sin(n))*i),o=Math.ceil(Math.abs(Math.sin(n))*a+Math.abs(Math.cos(n))*i);return t.width=s,t.height=o,r.translate(s/2,o/2),r.rotate(n),r.drawImage(this.canvas,a/-2,i/-2),this.buffer=P.makeBufferFromCanvasImageData(t),this}invert(){return new O(this)}}P.DEGREE_TO_RADIANS=Math.PI/180;class L{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var F,B=(globalThis||r.g||self||window?(globalThis||r.g||self||window||void 0).__awaiter:void 0)||function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?r(e.value):a(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())}))};class U{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2?arguments[2]:void 0;this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!==typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return B(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const e="video"===r.kind?"videoinput":r.kind;if("videoinput"!==e)continue;const n={deviceId:r.deviceId||r.id,label:r.label||`Video device ${t.length+1}`,kind:e,groupId:r.groupId};t.push(n)}return t}))}getVideoInputDevices(){return B(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((e=>new L(e.deviceId,e.label)))}))}findDeviceById(e){return B(this,void 0,void 0,(function*(){const t=yield this.listVideoInputDevices();return t?t.find((t=>t.deviceId===e)):null}))}decodeFromInputVideoDevice(e,t){return B(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(e,t)}))}decodeOnceFromVideoDevice(e,t){return B(this,void 0,void 0,(function*(){let r;this.reset(),r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)}))}decodeOnceFromConstraints(e,t){return B(this,void 0,void 0,(function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)}))}decodeOnceFromStream(e,t){return B(this,void 0,void 0,(function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)}))}decodeFromInputVideoDeviceContinuously(e,t,r){return B(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(e,t,r)}))}decodeFromVideoDevice(e,t,r){return B(this,void 0,void 0,(function*(){let n;n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const a={video:n};return yield this.decodeFromConstraints(a,t,r)}))}decodeFromConstraints(e,t,r){return B(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)}))}decodeFromStream(e,t,r){return B(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return B(this,void 0,void 0,(function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r}))}playVideoOnLoadAsync(e){return new Promise(((t,r)=>this.playVideoOnLoad(e,(()=>t()))))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return B(this,void 0,void 0,(function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(t){console.warn("It was not possible to play the video.")}}))}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new u(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new u(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new u("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(void 0===e&&void 0===t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new u("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let r;return this.imageElement=t,r=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new u("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new u("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise(((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)}))}_decodeOnLoadVideo(e){return B(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)}))}_decodeOnLoadVideoContinuously(e,t){return B(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)}))}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return"undefined"===typeof e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"===typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._stopAsyncDecode=!1;const n=(a,i)=>{if(this._stopAsyncDecode)return i(new x("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{a(this.decode(e))}catch(s){if(t&&s instanceof x||(s instanceof f||s instanceof T)&&r)return setTimeout(n,this._timeBetweenDecodingAttempts,a,i);i(s)}};return new Promise(((e,t)=>n(e,t)))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(n){t(null,n),(n instanceof f||n instanceof T||n instanceof x)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.captureCanvasContext;t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new P(t),n=new R(r);return new d(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach((e=>e.stop())),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(r){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class V{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?0:8*t.length,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:g.currentTimeMillis();this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=a,this.timestamp=i,this.text=e,this.rawBytes=t,this.numBits=void 0===r||null===r?null===t||void 0===t?0:8*t.length:r,this.resultPoints=n,this.format=a,this.resultMetadata=null,this.timestamp=void 0===i||null===i?g.currentTimeMillis():i}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const r=new Array(t.length+e.length);g.arraycopy(t,0,r,0,t.length),g.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(F||(F={}));var j,H=F;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(j||(j={}));var z,W,Y,G,$,K,X=j;class q{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=i,this.numBits=void 0===e||null===e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Q{exp(e){return this.expTable[e]}log(e){if(0===e)throw new h;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class Z{constructor(e,t){if(0===t.length)throw new h;this.field=e;const r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-e),g.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let r;if(1===e){r=0;for(let e=0,n=t.length;e!==n;e++){const n=t[e];r=Q.addOrSubtract(r,n)}return r}r=t[0];const n=t.length,a=this.field;for(let i=1;i<n;i++)r=Q.addOrSubtract(a.multiply(e,r),t[i]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new h("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const e=t;t=r,r=e}let n=new Int32Array(r.length);const a=r.length-t.length;g.arraycopy(r,0,n,0,a);for(let i=a;i<r.length;i++)n[i]=Q.addOrSubtract(t[i-a],r[i]);return new Z(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new h("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,a=n.length,i=new Int32Array(r+a-1),s=this.field;for(let o=0;o<r;o++){const e=t[o];for(let t=0;t<a;t++)i[o+t]=Q.addOrSubtract(i[o+t],s.multiply(e,n[t]))}return new Z(s,i)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),a=this.coefficients;for(let i=0;i<t;i++)n[i]=r.multiply(a[i],e);return new Z(r,n)}multiplyByMonomial(e,t){if(e<0)throw new h;if(0===t)return this.field.getZero();const r=this.coefficients,n=r.length,a=new Int32Array(n+e),i=this.field;for(let s=0;s<n;s++)a[s]=i.multiply(r[s],t);return new Z(i,a)}divide(e){if(!this.field.equals(e.field))throw new h("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new h("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const a=e.getCoefficient(e.getDegree()),i=t.inverse(a);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const a=n.getDegree()-e.getDegree(),s=t.multiply(n.getCoefficient(n.getDegree()),i),o=e.multiplyByMonomial(a,s),l=t.buildMonomial(a,s);r=r.addOrSubtract(l),n=n.addOrSubtract(o)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){const t=this.field.log(r);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class J extends c{}J.kind="ArithmeticException";class ee extends Q{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let a=1;for(let s=0;s<t;s++)n[s]=a,a*=2,a>=t&&(a^=e,a&=t-1);this.expTable=n;const i=new Int32Array(t);for(let s=0;s<t-1;s++)i[n[s]]=s;this.logTable=i,this.zero=new Z(this,Int32Array.from([0])),this.one=new Z(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new h;if(0===t)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new Z(this,r)}inverse(e){if(0===e)throw new J;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+y.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ee.AZTEC_DATA_12=new ee(4201,4096,1),ee.AZTEC_DATA_10=new ee(1033,1024,1),ee.AZTEC_DATA_6=new ee(67,64,1),ee.AZTEC_PARAM=new ee(19,16,1),ee.QR_CODE_FIELD_256=new ee(285,256,0),ee.DATA_MATRIX_FIELD_256=new ee(301,256,1),ee.AZTEC_DATA_8=ee.DATA_MATRIX_FIELD_256,ee.MAXICODE_FIELD_64=ee.AZTEC_DATA_6;class te extends c{}te.kind="ReedSolomonException";class re extends c{}re.kind="IllegalStateException";class ne{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new Z(r,e),a=new Int32Array(t);let i=!0;for(let d=0;d<t;d++){const e=n.evaluateAt(r.exp(d+r.getGeneratorBase()));a[a.length-1-d]=e,0!==e&&(i=!1)}if(i)return;const s=new Z(r,a),o=this.runEuclideanAlgorithm(r.buildMonomial(t,1),s,t),l=o[0],c=o[1],u=this.findErrorLocations(l),h=this.findErrorMagnitudes(c,u);for(let d=0;d<u.length;d++){const t=e.length-1-r.log(u[d]);if(t<0)throw new te("Bad error location");e[t]=ee.addOrSubtract(e[t],h[d])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const r=e;e=t,t=r}const n=this.field;let a=e,i=t,s=n.getZero(),o=n.getOne();for(;i.getDegree()>=(r/2|0);){let e=a,t=s;if(a=i,s=o,a.isZero())throw new te("r_{i-1} was zero");i=e;let r=n.getZero();const l=a.getCoefficient(a.getDegree()),c=n.inverse(l);for(;i.getDegree()>=a.getDegree()&&!i.isZero();){const e=i.getDegree()-a.getDegree(),t=n.multiply(i.getCoefficient(i.getDegree()),c);r=r.addOrSubtract(n.buildMonomial(e,t)),i=i.addOrSubtract(a.multiplyByMonomial(e,t))}if(o=r.multiply(s).addOrSubtract(t),i.getDegree()>=a.getDegree())throw new re("Division algorithm failed to reduce polynomial?")}const l=o.getCoefficient(0);if(0===l)throw new te("sigmaTilde(0) was zero");const c=n.inverse(l);return[o.multiplyScalar(c),i.multiplyScalar(c)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const a=this.field;for(let i=1;i<a.getSize()&&n<t;i++)0===e.evaluateAt(i)&&(r[n]=a.inverse(i),n++);if(n!==t)throw new te("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),a=this.field;for(let i=0;i<r;i++){const s=a.inverse(t[i]);let o=1;for(let e=0;e<r;e++)if(i!==e){const r=a.multiply(t[e],s),n=0===(1&r)?1|r:-2&r;o=a.multiply(o,n)}n[i]=a.multiply(e.evaluateAt(s),a.inverse(o)),0!==a.getGeneratorBase()&&(n[i]=a.multiply(n[i],s))}return n}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(z||(z={}));class ae{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),a=ae.convertBoolArrayToByteArray(n),i=ae.getEncodedData(n),s=new q(a,i,null,null);return s.setNumBits(n.length),s}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=z.UPPER,n=z.UPPER,a="",i=0;for(;i<t;)if(n===z.BINARY){if(t-i<5)break;let s=ae.readCode(e,i,5);if(i+=5,0===s){if(t-i<11)break;s=ae.readCode(e,i,11)+31,i+=11}for(let r=0;r<s;r++){if(t-i<8){i=t;break}const r=ae.readCode(e,i,8);a+=I.castAsNonUtf8Char(r),i+=8}n=r}else{let s=n===z.DIGIT?4:5;if(t-i<s)break;let o=ae.readCode(e,i,s);i+=s;let l=ae.getCharacter(n,o);l.startsWith("CTRL_")?(r=n,n=ae.getTable(l.charAt(5)),"L"===l.charAt(6)&&(r=n)):(a+=l,n=r)}return a}static getTable(e){switch(e){case"L":return z.LOWER;case"P":return z.PUNCT;case"M":return z.MIXED;case"D":return z.DIGIT;case"B":return z.BINARY;default:return z.UPPER}}static getCharacter(e,t){switch(e){case z.UPPER:return ae.UPPER_TABLE[t];case z.LOWER:return ae.LOWER_TABLE[t];case z.MIXED:return ae.MIXED_TABLE[t];case z.PUNCT:return ae.PUNCT_TABLE[t];case z.DIGIT:return ae.DIGIT_TABLE[t];default:throw new re("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=ee.AZTEC_DATA_10):(r=12,t=ee.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),a=e.length/r;if(a<n)throw new T;let i=e.length%r,s=new Int32Array(a);for(let d=0;d<a;d++,i+=r)s[d]=ae.readCode(e,i,r);try{new ne(t).decode(s,a-n)}catch(h){throw new T(h)}let o=(1<<r)-1,l=0;for(let d=0;d<n;d++){let e=s[d];if(0===e||e===o)throw new T;1!==e&&e!==o-1||l++}let c=new Array(n*r-l),u=0;for(let d=0;d<n;d++){let e=s[d];if(1===e||e===o-1)c.fill(e>1,u,u+r-1),u+=r-1;else for(let t=r-1;t>=0;--t)c[u++]=0!==(e&1<<t)}return c}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+4*r,a=new Int32Array(n),i=new Array(this.totalBitsInLayer(r,t));if(t)for(let s=0;s<a.length;s++)a[s]=s;else{let e=n+1+2*y.truncDivision(y.truncDivision(n,2)-1,15),t=n/2,r=y.truncDivision(e,2);for(let n=0;n<t;n++){let e=n+y.truncDivision(n,15);a[t-n-1]=r-e-1,a[t+n]=r+e+1}}for(let s=0,o=0;s<r;s++){let l=4*(r-s)+(t?9:12),c=2*s,u=n-1-c;for(let t=0;t<l;t++){let r=2*t;for(let n=0;n<2;n++)i[o+r+n]=e.get(a[c+n],a[c+t]),i[o+2*l+r+n]=e.get(a[c+t],a[u-n]),i[o+4*l+r+n]=e.get(a[u-n],a[u-t]),i[o+6*l+r+n]=e.get(a[u-t],a[c+n])}o+=8*l}return i}static readCode(e,t,r){let n=0;for(let a=t;a<t+r;a++)n<<=1,e[a]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?ae.readCode(e,t,8):ae.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=ae.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ae.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ae.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ae.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ae.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ae.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ie{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const a=e-r,i=t-n;return Math.sqrt(a*a+i*i)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++)t+=e[r];return t}}class se{static floatToIntBits(e){return e}}se.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof oe){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*se.floatToIntBits(this.x)+se.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let a,i,s;if(r>=t&&r>=n?(i=e[0],a=e[1],s=e[2]):n>=r&&n>=t?(i=e[1],a=e[0],s=e[2]):(i=e[2],a=e[0],s=e[1]),this.crossProductZ(a,i,s)<0){const e=a;a=s,s=e}e[0]=a,e[1]=i,e[2]=s}static distance(e,t){return ie.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,a=t.y;return(r.x-n)*(e.y-a)-(r.y-a)*(e.x-n)}}class le{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ce extends le{constructor(e,t,r,n,a){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ue{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),void 0!==t&&null!==t||(t=ue.INIT_SIZE),void 0!==r&&null!==r||(r=e.getWidth()/2|0),void 0!==n&&null!==n||(n=e.getHeight()/2|0);const a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=n-a,this.downInit=n+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new x}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,a=!1,i=!0,s=!1,o=!1,l=!1,c=!1,u=!1;const h=this.width,d=this.height;for(;i;){i=!1;let f=!0;for(;(f||!o)&&t<h;)f=this.containsBlackPoint(r,n,t,!1),f?(t++,i=!0,o=!0):o||t++;if(t>=h){a=!0;break}let p=!0;for(;(p||!l)&&n<d;)p=this.containsBlackPoint(e,t,n,!0),p?(n++,i=!0,l=!0):l||n++;if(n>=d){a=!0;break}let g=!0;for(;(g||!c)&&e>=0;)g=this.containsBlackPoint(r,n,e,!1),g?(e--,i=!0,c=!0):c||e--;if(e<0){a=!0;break}let m=!0;for(;(m||!u)&&r>=0;)m=this.containsBlackPoint(e,t,r,!0),m?(r--,i=!0,u=!0):u||r--;if(r<0){a=!0;break}i&&(s=!0)}if(!a&&s){const a=t-e;let i=null;for(let t=1;null===i&&t<a;t++)i=this.getBlackPointOnSegment(e,n-t,e+t,n);if(null==i)throw new x;let s=null;for(let t=1;null===s&&t<a;t++)s=this.getBlackPointOnSegment(e,r+t,e+t,r);if(null==s)throw new x;let o=null;for(let e=1;null===o&&e<a;e++)o=this.getBlackPointOnSegment(t,r+e,t-e,r);if(null==o)throw new x;let l=null;for(let e=1;null===l&&e<a;e++)l=this.getBlackPointOnSegment(t,n-e,t-e,n);if(null==l)throw new x;return this.centerEdges(l,i,o,s)}throw new x}getBlackPointOnSegment(e,t,r,n){const a=ie.round(ie.distance(e,t,r,n)),i=(r-e)/a,s=(n-t)/a,o=this.image;for(let l=0;l<a;l++){const r=ie.round(e+l*i),n=ie.round(t+l*s);if(o.get(r,n))return new oe(r,n)}return null}centerEdges(e,t,r,n){const a=e.getX(),i=e.getY(),s=t.getX(),o=t.getY(),l=r.getX(),c=r.getY(),u=n.getX(),h=n.getY(),d=ue.CORR;return a<this.width/2?[new oe(u-d,h+d),new oe(s+d,o+d),new oe(l-d,c-d),new oe(a+d,i-d)]:[new oe(u+d,h+d),new oe(s+d,o-d),new oe(l-d,c+d),new oe(a-d,i-d)]}containsBlackPoint(e,t,r,n){const a=this.image;if(n){for(let i=e;i<=t;i++)if(a.get(i,r))return!0}else for(let i=e;i<=t;i++)if(a.get(r,i))return!0;return!1}}ue.INIT_SIZE=10,ue.CORR=1;class he{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let a=!0;for(let i=0;i<t.length&&a;i+=2){const e=Math.floor(t[i]),s=Math.floor(t[i+1]);if(e<-1||e>r||s<-1||s>n)throw new x;a=!1,-1===e?(t[i]=0,a=!0):e===r&&(t[i]=r-1,a=!0),-1===s?(t[i+1]=0,a=!0):s===n&&(t[i+1]=n-1,a=!0)}a=!0;for(let i=t.length-2;i>=0&&a;i-=2){const e=Math.floor(t[i]),s=Math.floor(t[i+1]);if(e<-1||e>r||s<-1||s>n)throw new x;a=!1,-1===e?(t[i]=0,a=!0):e===r&&(t[i]=r-1,a=!0),-1===s?(t[i+1]=0,a=!0):s===n&&(t[i+1]=n-1,a=!0)}}}class de{constructor(e,t,r,n,a,i,s,o,l){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=a,this.a32=i,this.a13=s,this.a23=o,this.a33=l}static quadrilateralToQuadrilateral(e,t,r,n,a,i,s,o,l,c,u,h,d,f,p,g){const m=de.quadrilateralToSquare(e,t,r,n,a,i,s,o);return de.squareToQuadrilateral(l,c,u,h,d,f,p,g).times(m)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,a=this.a13,i=this.a21,s=this.a22,o=this.a23,l=this.a31,c=this.a32,u=this.a33;for(let h=0;h<t;h+=2){const t=e[h],d=e[h+1],f=a*t+o*d+u;e[h]=(r*t+i*d+l)/f,e[h+1]=(n*t+s*d+c)/f}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,a=this.a13,i=this.a21,s=this.a22,o=this.a23,l=this.a31,c=this.a32,u=this.a33,h=e.length;for(let d=0;d<h;d++){const h=e[d],f=t[d],p=a*h+o*f+u;e[d]=(r*h+i*f+l)/p,t[d]=(n*h+s*f+c)/p}}static squareToQuadrilateral(e,t,r,n,a,i,s,o){const l=e-r+a-s,c=t-n+i-o;if(0===l&&0===c)return new de(r-e,a-r,e,n-t,i-n,t,0,0,1);{const u=r-a,h=s-a,d=n-i,f=o-i,p=u*f-h*d,g=(l*f-h*c)/p,m=(u*c-l*d)/p;return new de(r-e+g*r,s-e+m*s,e,n-t+g*n,o-t+m*o,t,g,m,1)}}static quadrilateralToSquare(e,t,r,n,a,i,s,o){return de.squareToQuadrilateral(e,t,r,n,a,i,s,o).buildAdjoint()}buildAdjoint(){return new de(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new de(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class fe extends he{sampleGrid(e,t,r,n,a,i,s,o,l,c,u,h,d,f,p,g,m,v,w){const y=de.quadrilateralToQuadrilateral(n,a,i,s,o,l,c,u,h,d,f,p,g,m,v,w);return this.sampleGridWithTransform(e,t,r,y)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new x;const a=new N(t,r),i=new Float32Array(2*t);for(let o=0;o<r;o++){const t=i.length,r=o+.5;for(let e=0;e<t;e+=2)i[e]=e/2+.5,i[e+1]=r;n.transformPoints(i),he.checkAndNudgePoints(e,i);try{for(let r=0;r<t;r+=2)e.get(Math.floor(i[r]),Math.floor(i[r+1]))&&a.set(r/2,o)}catch(s){throw new x}}return a}}class pe{static setGridSampler(e){pe.gridSampler=e}static getInstance(){return pe.gridSampler}}pe.gridSampler=new fe;class ge{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class me{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let e=r[0];r[0]=r[2],r[2]=e}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new ce(n,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new x;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let i=0;i<4;i++){let e=r[(this.shift+i)%4];this.compact?(n<<=7,n+=e>>1&127):(n<<=10,n+=(e>>2&992)+(e>>1&31))}let a=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))}getRotation(e,t){let r=0;e.forEach(((e,n,a)=>{r=(e>>t-2<<1)+(1&e)+(r<<3)})),r=((1&r)<<11)+(r>>1);for(let n=0;n<4;n++)if(y.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new x}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let a=r-n,i=new Int32Array(r);for(let l=r-1;l>=0;--l)i[l]=15&e,e>>=4;try{new ne(ee.AZTEC_PARAM).decode(i,a)}catch(o){throw new x}let s=0;for(let l=0;l<n;l++)s=(s<<4)+i[l];return s}getBullsEyeCorners(e){let t=e,r=e,n=e,a=e,i=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,i,1,-1),s=this.getFirstDifferent(r,i,1,1),o=this.getFirstDifferent(n,i,-1,1),l=this.getFirstDifferent(a,i,-1,-1);if(this.nbCenterLayers>2){let r=this.distancePoint(l,e)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(r<.75||r>1.25||!this.isWhiteOrBlackRectangle(e,s,o,l))break}t=e,r=s,n=o,a=l,i=!i}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new x;this.compact=5===this.nbCenterLayers;let s=new oe(t.getX()+.5,t.getY()-.5),o=new oe(r.getX()+.5,r.getY()+.5),l=new oe(n.getX()-.5,n.getY()+.5),c=new oe(a.getX()-.5,a.getY()-.5);return this.expandSquare([s,o,l,c],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let a=new ue(this.image).detect();e=a[0],t=a[1],r=a[2],n=a[3]}catch(s){let a=this.image.getWidth()/2,i=this.image.getHeight()/2;e=this.getFirstDifferent(new ge(a+7,i-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ge(a+7,i+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ge(a-7,i+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new ge(a-7,i-7),!1,-1,-1).toResultPoint()}let a=ie.round((e.getX()+n.getX()+t.getX()+r.getX())/4),i=ie.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let s=new ue(this.image,15,a,i).detect();e=s[0],t=s[1],r=s[2],n=s[3]}catch(s){e=this.getFirstDifferent(new ge(a+7,i-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ge(a+7,i+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ge(a-7,i+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new ge(a-7,i-7),!1,-1,-1).toResultPoint()}return a=ie.round((e.getX()+n.getX()+t.getX()+r.getX())/4),i=ie.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new ge(a,i)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,a){let i=pe.getInstance(),s=this.getDimension(),o=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return i.sampleGrid(e,s,s,o,o,l,o,l,l,o,l,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY())}sampleLine(e,t,r){let n=0,a=this.distanceResultPoint(e,t),i=a/r,s=e.getX(),o=e.getY(),l=i*(t.getX()-e.getX())/a,c=i*(t.getY()-e.getY())/a;for(let u=0;u<r;u++)this.image.get(ie.round(s+u*l),ie.round(o+u*c))&&(n|=1<<r-u-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let a=3;e=new ge(e.getX()-a,e.getY()+a),t=new ge(t.getX()-a,t.getY()-a),r=new ge(r.getX()+a,r.getY()-a),n=new ge(n.getX()+a,n.getY()+a);let i=this.getColor(n,e);if(0===i)return!1;let s=this.getColor(e,t);return s===i&&(s=this.getColor(t,r),s===i&&(s=this.getColor(r,n),s===i))}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,i=0,s=e.getX(),o=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(r);for(let h=0;h<c;h++)s+=n,o+=a,this.image.get(ie.round(s),ie.round(o))!==l&&i++;let u=i/r;return u>.1&&u<.9?0:u<=.1===l?1:-1}getFirstDifferent(e,t,r,n){let a=e.getX()+r,i=e.getY()+n;for(;this.isValid(a,i)&&this.image.get(a,i)===t;)a+=r,i+=n;for(a-=r,i-=n;this.isValid(a,i)&&this.image.get(a,i)===t;)a+=r;for(a-=r;this.isValid(a,i)&&this.image.get(a,i)===t;)i+=n;return i-=n,new ge(a,i)}expandSquare(e,t,r){let n=r/(2*t),a=e[0].getX()-e[2].getX(),i=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,o=(e[0].getY()+e[2].getY())/2,l=new oe(s+n*a,o+n*i),c=new oe(s-n*a,o-n*i);return a=e[1].getX()-e[3].getX(),i=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,o=(e[1].getY()+e[3].getY())/2,[l,new oe(s+n*a,o+n*i),c,new oe(s-n*a,o-n*i)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ie.round(e.getX()),r=ie.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return ie.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ie.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(y.truncDivision(this.nbLayers-4,8)+1)+15}}class ve{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=null,n=new me(e.getBlackMatrix()),a=null,i=null;try{let e=n.detectMirror(!1);a=e.getPoints(),this.reportFoundResultPoints(t,a),i=(new ae).decode(e)}catch(c){r=c}if(null==i)try{let e=n.detectMirror(!0);a=e.getPoints(),this.reportFoundResultPoints(t,a),i=(new ae).decode(e)}catch(c){if(null!=r)throw r;throw c}let s=new V(i.getText(),i.getRawBytes(),i.getNumBits(),a,H.AZTEC,g.currentTimeMillis()),o=i.getByteSegments();null!=o&&s.putMetadata(X.BYTE_SEGMENTS,o);let l=i.getECLevel();return null!=l&&s.putMetadata(X.ERROR_CORRECTION_LEVEL,l),s}reportFoundResultPoints(e,t){if(null!=e){let r=e.get(S.NEED_RESULT_POINT_CALLBACK);null!=r&&t.forEach(((e,t,n)=>{r.foundPossibleResultPoint(e)}))}}reset(){}}class we extends U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new ve,e)}}class ye{decode(e,t){try{return this.doDecode(e,t)}catch(r){if(t&&!0===t.get(S.TRY_HARDER)&&e.isRotateSupported()){const r=e.rotateCounterClockwise(),n=this.doDecode(r,t),a=n.getResultMetadata();let i=270;null!==a&&!0===a.get(X.ORIENTATION)&&(i+=a.get(X.ORIENTATION)%360),n.putMetadata(X.ORIENTATION,i);const s=n.getResultPoints();if(null!==s){const e=r.getHeight();for(let t=0;t<s.length;t++)s[t]=new oe(e-s[t].getY()-1,s[t].getX())}return n}throw new x}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let a=new b(r);const i=t&&!0===t.get(S.TRY_HARDER),s=Math.max(1,n>>(i?8:5));let o;o=i?n:15;const l=Math.trunc(n/2);for(let h=0;h<o;h++){const i=Math.trunc((h+1)/2),o=l+s*(0===(1&h)?i:-i);if(o<0||o>=n)break;try{a=e.getBlackRow(o,a)}catch(c){continue}for(let e=0;e<2;e++){if(1===e&&(a.reverse(),t&&!0===t.get(S.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach(((t,r)=>e.set(r,t))),e.delete(S.NEED_RESULT_POINT_CALLBACK),t=e}try{const n=this.decodeRow(o,a,t);if(1===e){n.putMetadata(X.ORIENTATION,180);const e=n.getResultPoints();null!==e&&(e[0]=new oe(r-e[0].getX()-1,e[0].getY()),e[1]=new oe(r-e[1].getX()-1,e[1].getY()))}return n}catch(u){}}}throw new x}static recordPattern(e,t,r){const n=r.length;for(let l=0;l<n;l++)r[l]=0;const a=e.getSize();if(t>=a)throw new x;let i=!e.get(t),s=0,o=t;for(;o<a;){if(e.get(o)!==i)r[s]++;else{if(++s===n)break;r[s]=1,i=!i}o++}if(s!==n&&(s!==n-1||o!==a))throw new x}static recordPatternInReverse(e,t,r){let n=r.length,a=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==a&&(n--,a=!a);if(n>=0)throw new x;ye.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let a=0,i=0;for(let l=0;l<n;l++)a+=e[l],i+=t[l];if(a<i)return Number.POSITIVE_INFINITY;const s=a/i;r*=s;let o=0;for(let l=0;l<n;l++){const n=e[l],a=t[l]*s,i=n>a?n-a:a-n;if(i>r)return Number.POSITIVE_INFINITY;o+=i}return o/a}}class be extends ye{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,a=Int32Array.from([0,0,0,0,0,0]),i=r,s=!1;const o=6;for(let l=r;l<t;l++)if(e.get(l)!==s)a[n]++;else{if(n===o-1){let t=be.MAX_AVG_VARIANCE,r=-1;for(let e=be.CODE_START_A;e<=be.CODE_START_C;e++){const n=ye.patternMatchVariance(a,be.CODE_PATTERNS[e],be.MAX_INDIVIDUAL_VARIANCE);n<t&&(t=n,r=e)}if(r>=0&&e.isRange(Math.max(0,i-(l-i)/2),i,!1))return Int32Array.from([i,l,r]);i+=a[0]+a[1],a=a.slice(2,a.length-1),a[n-1]=0,a[n]=0,n--}else n++;a[n]=1,s=!s}throw new x}static decodeCode(e,t,r){ye.recordPattern(e,r,t);let n=be.MAX_AVG_VARIANCE,a=-1;for(let i=0;i<be.CODE_PATTERNS.length;i++){const e=be.CODE_PATTERNS[i],r=this.patternMatchVariance(t,e,be.MAX_INDIVIDUAL_VARIANCE);r<n&&(n=r,a=i)}if(a>=0)return a;throw new x}decodeRow(e,t,r){const n=r&&!0===r.get(S.ASSUME_GS1),a=be.findStartPattern(t),i=a[2];let s=0;const o=new Uint8Array(20);let l;switch(o[s++]=i,i){case be.CODE_START_A:l=be.CODE_CODE_A;break;case be.CODE_START_B:l=be.CODE_CODE_B;break;case be.CODE_START_C:l=be.CODE_CODE_C;break;default:throw new T}let c=!1,u=!1,h="",d=a[0],p=a[1];const g=Int32Array.from([0,0,0,0,0,0]);let m=0,v=0,w=i,y=0,b=!0,E=!1,C=!1;for(;!c;){const e=u;switch(u=!1,m=v,v=be.decodeCode(t,g,p),o[s++]=v,v!==be.CODE_STOP&&(b=!0),v!==be.CODE_STOP&&(y++,w+=y*v),d=p,p+=g.reduce(((e,t)=>e+t),0),v){case be.CODE_START_A:case be.CODE_START_B:case be.CODE_START_C:throw new T}switch(l){case be.CODE_CODE_A:if(v<64)h+=C===E?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),C=!1;else if(v<96)h+=C===E?String.fromCharCode(v-64):String.fromCharCode(v+64),C=!1;else switch(v!==be.CODE_STOP&&(b=!1),v){case be.CODE_FNC_1:n&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_A:!E&&C?(E=!0,C=!1):E&&C?(E=!1,C=!1):C=!0;break;case be.CODE_SHIFT:u=!0,l=be.CODE_CODE_B;break;case be.CODE_CODE_B:l=be.CODE_CODE_B;break;case be.CODE_CODE_C:l=be.CODE_CODE_C;break;case be.CODE_STOP:c=!0}break;case be.CODE_CODE_B:if(v<96)h+=C===E?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),C=!1;else switch(v!==be.CODE_STOP&&(b=!1),v){case be.CODE_FNC_1:n&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_B:!E&&C?(E=!0,C=!1):E&&C?(E=!1,C=!1):C=!0;break;case be.CODE_SHIFT:u=!0,l=be.CODE_CODE_A;break;case be.CODE_CODE_A:l=be.CODE_CODE_A;break;case be.CODE_CODE_C:l=be.CODE_CODE_C;break;case be.CODE_STOP:c=!0}break;case be.CODE_CODE_C:if(v<100)v<10&&(h+="0"),h+=v;else switch(v!==be.CODE_STOP&&(b=!1),v){case be.CODE_FNC_1:n&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case be.CODE_CODE_A:l=be.CODE_CODE_A;break;case be.CODE_CODE_B:l=be.CODE_CODE_B;break;case be.CODE_STOP:c=!0}}e&&(l=l===be.CODE_CODE_A?be.CODE_CODE_B:be.CODE_CODE_A)}const _=p-d;if(p=t.getNextUnset(p),!t.isRange(p,Math.min(t.getSize(),p+(p-d)/2),!1))throw new x;if(w-=y*m,w%103!==m)throw new f;const A=h.length;if(0===A)throw new x;A>0&&b&&(h=l===be.CODE_CODE_C?h.substring(0,A-2):h.substring(0,A-1));const I=(a[1]+a[0])/2,k=d+_/2,N=o.length,D=new Uint8Array(N);for(let f=0;f<N;f++)D[f]=o[f];const R=[new oe(I,e),new oe(k,e)];return new V(h,D,0,R,H.CODE_128,(new Date).getTime())}}be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],be.MAX_AVG_VARIANCE=.25,be.MAX_INDIVIDUAL_VARIANCE=.7,be.CODE_SHIFT=98,be.CODE_CODE_C=99,be.CODE_CODE_B=100,be.CODE_CODE_A=101,be.CODE_FNC_1=102,be.CODE_FNC_2=97,be.CODE_FNC_3=96,be.CODE_FNC_4_A=101,be.CODE_FNC_4_B=100,be.CODE_START_A=103,be.CODE_START_B=104,be.CODE_START_C=105,be.CODE_STOP=106;class Ee extends ye{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let a,i,s=Ee.findAsteriskPattern(t,n),o=t.getNextSet(s[1]),l=t.getSize();do{Ee.recordPattern(t,o,n);let e=Ee.toNarrowWidePattern(n);if(e<0)throw new x;a=Ee.patternToChar(e),this.decodeRowResult+=a,i=o;for(let t of n)o+=t;o=t.getNextSet(o)}while("*"!==a);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let c,u=0;for(let f of n)u+=f;if(o!==l&&2*(o-i-u)<u)throw new x;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let r=0;r<e;r++)t+=Ee.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(r));if(this.decodeRowResult.charAt(e)!==Ee.ALPHABET_STRING.charAt(t%43))throw new f;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new x;c=this.extendedMode?Ee.decodeExtended(this.decodeRowResult):this.decodeRowResult;let h=(s[1]+s[0])/2,d=i+u/2;return new V(c,null,0,[new oe(h,e),new oe(d,e)],H.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),a=0,i=n,s=!1,o=t.length;for(let l=n;l<r;l++)if(e.get(l)!==s)t[a]++;else{if(a===o-1){if(this.toNarrowWidePattern(t)===Ee.ASTERISK_ENCODING&&e.isRange(Math.max(0,i-Math.floor((l-i)/2)),i,!1))return[i,l];i+=t[0]+t[1],t.copyWithin(0,2,2+a-1),t[a-1]=0,t[a]=0,a--}else a++;t[a]=1,s=!s}throw new x}static toNarrowWidePattern(e){let t,r=e.length,n=0;do{let a=2147483647;for(let t of e)t<a&&t>n&&(a=t);n=a,t=0;let i=0,s=0;for(let o=0;o<r;o++){let a=e[o];a>n&&(s|=1<<r-1-o,t++,i+=a)}if(3===t){for(let a=0;a<r&&t>0;a++){let r=e[a];if(r>n&&(t--,2*r>=i))return-1}return s}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<Ee.CHARACTER_ENCODINGS.length;t++)if(Ee.CHARACTER_ENCODINGS[t]===e)return Ee.ALPHABET_STRING.charAt(t);if(e===Ee.ASTERISK_ENCODING)return"*";throw new x}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let t=e.charAt(n);if("+"===t||"$"===t||"%"===t||"/"===t){let a=e.charAt(n+1),i="\0";switch(t){case"+":if(!(a>="A"&&a<="Z"))throw new T;i=String.fromCharCode(a.charCodeAt(0)+32);break;case"$":if(!(a>="A"&&a<="Z"))throw new T;i=String.fromCharCode(a.charCodeAt(0)-64);break;case"%":if(a>="A"&&a<="E")i=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")i=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")i=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")i=String.fromCharCode(a.charCodeAt(0)+43);else if("U"===a)i="\0";else if("V"===a)i="@";else if("W"===a)i="`";else{if("X"!==a&&"Y"!==a&&"Z"!==a)throw new T;i="\x7f"}break;case"/":if(a>="A"&&a<="O")i=String.fromCharCode(a.charCodeAt(0)-32);else{if("Z"!==a)throw new T;i=":"}}r+=i,n++}else r+=t}return r}}Ee.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ee.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ee.ASTERISK_ENCODING=148;class Se extends ye{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),a=this.decodeEnd(t),i=new k;Se.decodeMiddle(t,n[1],a[0],i);let s=i.toString(),o=null;null!=r&&(o=r.get(S.ALLOWED_LENGTHS)),null==o&&(o=Se.DEFAULT_ALLOWED_LENGTHS);let l=s.length,c=!1,u=0;for(let d of o){if(l===d){c=!0;break}d>u&&(u=d)}if(!c&&l>u&&(c=!0),!c)throw new T;const h=[new oe(n[1],e),new oe(a[0],e)];return new V(s,null,0,h,H.ITF,(new Date).getTime())}static decodeMiddle(e,t,r,n){let a=new Int32Array(10),i=new Int32Array(5),s=new Int32Array(5);for(a.fill(0),i.fill(0),s.fill(0);t<r;){ye.recordPattern(e,t,a);for(let e=0;e<5;e++){let t=2*e;i[e]=a[t],s[e]=a[t+1]}let r=Se.decodeDigit(i);n.append(r.toString()),r=this.decodeDigit(s),n.append(r.toString()),a.forEach((function(e){t+=e}))}}decodeStart(e){let t=Se.skipWhiteSpace(e),r=Se.findGuardPattern(e,t,Se.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=10*this.narrowLineWidth;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(0!==r)throw new x}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new x;return r}decodeEnd(e){e.reverse();try{let r,n=Se.skipWhiteSpace(e);try{r=Se.findGuardPattern(e,n,Se.END_PATTERN_REVERSED[0])}catch(t){t instanceof x&&(r=Se.findGuardPattern(e,n,Se.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let a=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-a,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,a=new Int32Array(n),i=e.getSize(),s=!1,o=0,l=t;a.fill(0);for(let c=t;c<i;c++)if(e.get(c)!==s)a[o]++;else{if(o===n-1){if(ye.patternMatchVariance(a,r,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return[l,c];l+=a[0]+a[1],g.arraycopy(a,2,a,0,o-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,s=!s}throw new x}static decodeDigit(e){let t=Se.MAX_AVG_VARIANCE,r=-1,n=Se.PATTERNS.length;for(let a=0;a<n;a++){let n=Se.PATTERNS[a],i=ye.patternMatchVariance(e,n,Se.MAX_INDIVIDUAL_VARIANCE);i<t?(t=i,r=a):i===t&&(r=-1)}if(r>=0)return r%10;throw new x}}Se.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Se.MAX_AVG_VARIANCE=.38,Se.MAX_INDIVIDUAL_VARIANCE=.5,Se.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Se.START_PATTERN=Int32Array.from([1,1,1,1]),Se.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Te extends ye{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,r=!1,n=0,a=Int32Array.from([0,0,0]);for(;!r;){a=Int32Array.from([0,0,0]),t=Te.findGuardPattern(e,n,!1,this.START_END_PATTERN,a);let i=t[0];n=t[1];let s=i-(n-i);s>=0&&(r=e.isRange(s,i,!1))}return t}static checkChecksum(e){return Te.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Te.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new T;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new T;r+=t}return(1e3-r)%10}static decodeEnd(e,t){return Te.findGuardPattern(e,t,!1,Te.START_END_PATTERN,new Int32Array(Te.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,a){let i=e.getSize(),s=0,o=t=r?e.getNextUnset(t):e.getNextSet(t),l=n.length,c=r;for(let u=t;u<i;u++)if(e.get(u)!==c)a[s]++;else{if(s===l-1){if(ye.patternMatchVariance(a,n,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE)return Int32Array.from([o,u]);o+=a[0]+a[1];let e=a.slice(2,a.length-1);for(let t=0;t<s-1;t++)a[t]=e[t];a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,c=!c}throw new x}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let a=this.MAX_AVG_VARIANCE,i=-1,s=n.length;for(let o=0;o<s;o++){let e=n[o],r=ye.patternMatchVariance(t,e,Te.MAX_INDIVIDUAL_VARIANCE);r<a&&(a=r,i=o)}if(i>=0)return i;throw new x}}Te.MAX_AVG_VARIANCE=.48,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.START_END_PATTERN=Int32Array.from([1,1,1]),Te.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Te.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Te.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ce{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,n),i=n.toString(),s=Ce.parseExtensionString(i),o=[new oe((r[0]+r[1])/2,e),new oe(a,e)],l=new V(i,null,0,o,H.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),i=t[1],s=0;for(let l=0;l<5&&i<a;l++){let t=Te.decodeDigit(e,n,i,Te.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)i+=e;t>=10&&(s|=1<<4-l),4!==l&&(i=e.getNextSet(i),i=e.getNextUnset(i))}if(5!==r.length)throw new x;let o=this.determineCheckDigit(s);if(Ce.extensionChecksum(r.toString())!==o)throw new x;return i}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new x}static parseExtensionString(e){if(5!==e.length)return null;let t=Ce.parseExtension5String(e);return null==t?null:new Map([[X.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())}}class _e{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,n),i=n.toString(),s=_e.parseExtensionString(i),o=[new oe((r[0]+r[1])/2,e),new oe(a,e)],l=new V(i,null,0,o,H.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),i=t[1],s=0;for(let o=0;o<2&&i<a;o++){let t=Te.decodeDigit(e,n,i,Te.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)i+=e;t>=10&&(s|=1<<1-o),1!==o&&(i=e.getNextSet(i),i=e.getNextUnset(i))}if(2!==r.length)throw new x;if(parseInt(r.toString())%4!==s)throw new x;return i}static parseExtensionString(e){return 2!==e.length?null:new Map([[X.ISSUE_NUMBER,parseInt(e)]])}}class Ae{static decodeRow(e,t,r){let n=Te.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Ce).decodeRow(e,t,n)}catch(a){return(new _e).decodeRow(e,t,n)}}}Ae.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ie extends Te{constructor(){super(),this.decodeRowStringBuffer="",Ie.L_AND_G_PATTERNS=Ie.L_PATTERNS.map((e=>Int32Array.from(e)));for(let e=10;e<20;e++){let t=Ie.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let e=0;e<t.length;e++)r[e]=t[t.length-e-1];Ie.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=Ie.findStartGuardPattern(t),a=null==r?null:r.get(S.NEED_RESULT_POINT_CALLBACK);if(null!=a){const t=new oe((n[0]+n[1])/2,e);a.foundPossibleResultPoint(t)}let i=this.decodeMiddle(t,n,this.decodeRowStringBuffer),s=i.rowOffset,o=i.resultString;if(null!=a){const t=new oe(s,e);a.foundPossibleResultPoint(t)}let l=this.decodeEnd(t,s);if(null!=a){const t=new oe((l[0]+l[1])/2,e);a.foundPossibleResultPoint(t)}let c=l[1],u=c+(c-l[0]);if(u>=t.getSize()||!t.isRange(c,u,!1))throw new x;let h=o.toString();if(h.length<8)throw new T;if(!Ie.checkChecksum(h))throw new f;let d=(n[1]+n[0])/2,p=(l[1]+l[0])/2,g=this.getBarcodeFormat(),m=[new oe(d,e),new oe(p,e)],v=new V(h,null,0,m,g,(new Date).getTime()),w=0;try{let r=Ae.decodeRow(e,t,l[1]);v.putMetadata(X.UPC_EAN_EXTENSION,r.getText()),v.putAllMetadata(r.getResultMetadata()),v.addResultPoints(r.getResultPoints()),w=r.getText().length}catch(b){}let y=null==r?null:r.get(S.ALLOWED_EAN_EXTENSIONS);if(null!=y){let e=!1;for(let t in y)if(w.toString()===t){e=!0;break}if(!e)throw new x}return v}decodeEnd(e,t){return Ie.findGuardPattern(e,t,!1,Ie.START_END_PATTERN,new Int32Array(Ie.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ie.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Ie.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new T;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new T;r+=t}return(1e3-r)%10}}class ke extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),i=t[1],s=0;for(let o=0;o<6&&i<a;o++){let t=Ie.decodeDigit(e,n,i,Ie.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)i+=e;t>=10&&(s|=1<<5-o)}r=ke.determineFirstDigit(r,s),i=Ie.findGuardPattern(e,i,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let o=0;o<6&&i<a;o++){let t=Ie.decodeDigit(e,n,i,Ie.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)i+=e}return{rowOffset:i,resultString:r}}getBarcodeFormat(){return H.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e;throw new x}}ke.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ne extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),i=t[1];for(let s=0;s<4&&i<a;s++){let t=Ie.decodeDigit(e,n,i,Ie.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)i+=e}i=Ie.findGuardPattern(e,i,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let s=0;s<4&&i<a;s++){let t=Ie.decodeDigit(e,n,i,Ie.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)i+=e}return{rowOffset:i,resultString:r}}getBarcodeFormat(){return H.EAN_8}}class xe extends Ie{constructor(){super(...arguments),this.ean13Reader=new ke}getBarcodeFormat(){return H.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let r=new V(t.substring(1),null,null,e.getResultPoints(),H.UPC_A);return null!=e.getResultMetadata()&&r.putAllMetadata(e.getResultMetadata()),r}throw new x}reset(){this.ean13Reader.reset()}}class De extends Ie{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map((e=>e));n[0]=0,n[1]=0,n[2]=0,n[3]=0;const a=e.getSize();let i=t[1],s=0;for(let o=0;o<6&&i<a;o++){const t=De.decodeDigit(e,n,i,De.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)i+=e;t>=10&&(s|=1<<5-o)}return{rowOffset:i,resultString:De.determineNumSysAndCheckDigit(r,s)}}decodeEnd(e,t){return De.findGuardPatternWithoutCounters(e,t,!0,De.MIDDLE_END_PATTERN)}checkChecksum(e){return Ie.checkChecksum(De.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n])return String.fromCharCode("0".charCodeAt(0)+r)+e+String.fromCharCode("0".charCodeAt(0)+n);throw x.getNotFoundInstance()}getBarcodeFormat(){return H.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map((e=>e.charCodeAt(0))),r=new k;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n)}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}De.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),De.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Re extends ye{constructor(e){super();let r=null==e?null:e.get(S.POSSIBLE_FORMATS),n=[];t(r)?(n.push(new ke),n.push(new xe),n.push(new Ne),n.push(new De)):(r.indexOf(H.EAN_13)>-1&&n.push(new ke),r.indexOf(H.UPC_A)>-1&&n.push(new xe),r.indexOf(H.EAN_8)>-1&&n.push(new Ne),r.indexOf(H.UPC_E)>-1&&n.push(new De)),this.readers=n}decodeRow(e,t,r){for(let a of this.readers)try{const n=a.decodeRow(e,t,r),i=n.getBarcodeFormat()===H.EAN_13&&"0"===n.getText().charAt(0),s=null==r?null:r.get(S.POSSIBLE_FORMATS),o=null==s||s.includes(H.UPC_A);if(i&&o){const e=n.getRawBytes(),t=new V(n.getText().substring(1),e,e?e.length:null,n.getResultPoints(),H.UPC_A);return t.putAllMetadata(n.getResultMetadata()),t}return n}catch(n){}throw new x}reset(){for(let e of this.readers)e.reset()}}class Me extends ye{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(ye.patternMatchVariance(e,t[r],Me.MAX_INDIVIDUAL_VARIANCE)<Me.MAX_AVG_VARIANCE)return r;throw new x}static count(e){return ie.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let a=1;a<e.length;a++)t[a]>n&&(n=t[a],r=a);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let a=1;a<e.length;a++)t[a]<n&&(n=t[a],r=a);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t/(t+e[2]+e[3]);if(r>=Me.MIN_FINDER_PATTERN_RATIO&&r<=Me.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;for(let n of e)n>r&&(r=n),n<t&&(t=n);return r<10*t}return!1}}Me.MAX_AVG_VARIANCE=.2,Me.MAX_INDIVIDUAL_VARIANCE=.45,Me.MIN_FINDER_PATTERN_RATIO=9.5/12,Me.MAX_FINDER_PATTERN_RATIO=12.5/14;class Oe{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Oe))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Pe{constructor(e,t,r,n,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new oe(r,a)),this.resultPoints.push(new oe(n,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Pe))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Le{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let o of e)n+=o;let a=0,i=0,s=e.length;for(let o=0;o<s-1;o++){let l;for(l=1,i|=1<<o;l<e[o];l++,i&=~(1<<o)){let e=Le.combins(n-l-1,s-o-2);if(r&&0===i&&n-l-(s-o-1)>=s-o-1&&(e-=Le.combins(n-l-(s-o),s-o-2)),s-o-1>1){let r=0;for(let e=n-l-(s-o-2);e>t;e--)r+=Le.combins(n-l-e-1,s-o-3);e-=r*(s-1-o)}else n-l>t&&e--;a+=e}n-=l}return a}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let a=1,i=1;for(let s=e;s>r;s--)a*=s,i<=n&&(a/=i,i++);for(;i<=n;)a/=i,i++;return a}}class Fe{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let r=new b(12*t),n=0,a=e[0].getRightChar().getValue();for(let i=11;i>=0;--i)0!=(a&1<<i)&&r.set(n),n++;for(let i=1;i<e.length;++i){let t=e[i],a=t.getLeftChar().getValue();for(let e=11;e>=0;--e)0!=(a&1<<e)&&r.set(n),n++;if(null!=t.getRightChar()){let e=t.getRightChar().getValue();for(let t=11;t>=0;--t)0!=(e&1<<t)&&r.set(n),n++}}return r}}class Be{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ue{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ve extends Ue{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Ve.FNC1}}Ve.FNC1="$";class je extends Ue{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class He extends Ue{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new T;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===He.FNC1}isSecondDigitFNC1(){return this.secondDigit===He.FNC1}isAnyFNC1(){return this.firstDigit===He.FNC1||this.secondDigit===He.FNC1}}He.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new x;let t=e.substring(0,2);for(let a of ze.TWO_DIGIT_DATA_LENGTH)if(a[0]===t)return a[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,a[2],e):ze.processFixedAI(2,a[1],e);if(e.length<3)throw new x;let r=e.substring(0,3);for(let a of ze.THREE_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,a[2],e):ze.processFixedAI(3,a[1],e);for(let a of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,a[2],e):ze.processFixedAI(4,a[1],e);if(e.length<4)throw new x;let n=e.substring(0,4);for(let a of ze.FOUR_DIGIT_DATA_LENGTH)if(a[0]===n)return a[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,a[2],e):ze.processFixedAI(4,a[1],e);throw new x}static processFixedAI(e,t,r){if(r.length<e)throw new x;let n=r.substring(0,e);if(r.length<e+t)throw new x;let a=r.substring(e,e+t),i=r.substring(e+t),s="("+n+")"+a,o=ze.parseFieldsInGeneralPurpose(i);return null==o?s:s+o}static processVariableAI(e,t,r){let n,a=r.substring(0,e);n=r.length<e+t?r.length:e+t;let i=r.substring(e,n),s=r.substring(n),o="("+a+")"+i,l=ze.parseFieldsInGeneralPurpose(s);return null==l?o:o+l}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class We{constructor(e){this.buffer=new k,this.information=e}decodeAllCodes(e,t){let r=t,n=null;for(;;){let t=this.decodeGeneralPurposeField(r,n),a=ze.parseFieldsInGeneralPurpose(t.getNewString());if(null!=a&&e.append(a),n=t.isRemaining()?""+t.getRemainingValue():null,r===t.getNewPosition())break;r=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new He(this.information.getSize(),0===t?He.FNC1:t-1,He.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new He(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return We.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let a=0;a<r;++a)e.get(t+a)&&(n|=1<<r-a-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return null!=r&&r.isRemaining()?new je(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new je(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),r===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new je(this.current.getPosition(),this.buffer.toString()):new je(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Be(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new je(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Be(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new je(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Be(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new je(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Be(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ve(e+5,Ve.FNC1);if(t>=5&&t<15)return new Ve(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ve(e+7,""+(n+1));if(n>=90&&n<116)return new Ve(e+7,""+(n+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new T}return new Ve(e+8,r)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ve(e+5,Ve.FNC1);if(t>=5&&t<15)return new Ve(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ve(e+6,""+(n+33));switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new re("Decoding invalid alphanumeric value: "+n)}return new Ve(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Ye{constructor(e){this.information=e,this.generalDecoder=new We(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ge extends Ye{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);r/100===0&&e.append("0"),r/10===0&&e.append("0"),e.append(r)}Ge.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let a=e.charAt(n+t).charCodeAt(0)-"0".charCodeAt(0);r+=0===(1&n)?3*a:a}r=10-r%10,10===r&&(r=0),e.append(r)}}Ge.GTIN_SIZE=40;class $e extends Ge{constructor(e){super(e)}parseInformation(){let e=new k;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray($e.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,$e.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,$e.HEADER_SIZE+44)}}$e.HEADER_SIZE=4;class Ke extends Ye{constructor(e){super(e)}parseInformation(){let e=new k;return this.getGeneralDecoder().decodeAllCodes(e,Ke.HEADER_SIZE)}}Ke.HEADER_SIZE=5;class Xe extends Ge{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let a=this.checkWeight(n),i=1e5;for(let s=0;s<5;++s)a/i===0&&e.append("0"),i/=10;e.append(a)}}class qe extends Xe{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=qe.HEADER_SIZE+Xe.GTIN_SIZE+qe.WEIGHT_SIZE)throw new x;let e=new k;return this.encodeCompressedGtin(e,qe.HEADER_SIZE),this.encodeCompressedWeight(e,qe.HEADER_SIZE+Xe.GTIN_SIZE,qe.WEIGHT_SIZE),e.toString()}}qe.HEADER_SIZE=5,qe.WEIGHT_SIZE=15;class Qe extends qe{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ze extends qe{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Je extends Ge{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Je.HEADER_SIZE+Ge.GTIN_SIZE)throw new x;let e=new k;this.encodeCompressedGtin(e,Je.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE+Ge.GTIN_SIZE,Je.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Je.HEADER_SIZE+Ge.GTIN_SIZE+Je.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Je.HEADER_SIZE=8,Je.LAST_DIGIT_SIZE=2;class et extends Ge{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<et.HEADER_SIZE+Ge.GTIN_SIZE)throw new x;let e=new k;this.encodeCompressedGtin(e,et.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+Ge.GTIN_SIZE,et.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+Ge.GTIN_SIZE+et.LAST_DIGIT_SIZE,et.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(et.HEADER_SIZE+Ge.GTIN_SIZE+et.LAST_DIGIT_SIZE+et.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}et.HEADER_SIZE=8,et.LAST_DIGIT_SIZE=2,et.FIRST_THREE_DIGITS_SIZE=10;class tt extends Xe{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new x;let e=new k;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(38400==r)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let a=r%12+1;r/=12;let i=r;i/10==0&&e.append("0"),e.append(i),a/10==0&&e.append("0"),e.append(a),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function rt(e){try{if(e.get(1))return new $e(e);if(!e.get(2))return new Ke(e);switch(We.extractNumericValueFromBitArray(e,1,4)){case 4:return new Qe(e);case 5:return new Ze(e)}switch(We.extractNumericValueFromBitArray(e,1,5)){case 12:return new Je(e);case 13:return new et(e)}switch(We.extractNumericValueFromBitArray(e,1,7)){case 56:return new tt(e,"310","11");case 57:return new tt(e,"320","11");case 58:return new tt(e,"310","13");case 59:return new tt(e,"320","13");case 60:return new tt(e,"310","15");case 61:return new tt(e,"320","15");case 62:return new tt(e,"310","17");case 63:return new tt(e,"320","17")}}catch(t){throw console.log(t),new re("unknown decoder: "+e)}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;class nt{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof nt&&nt.equalsOrNull(e.leftchar,t.leftchar)&&nt.equalsOrNull(e.rightchar,t.rightchar)&&nt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:nt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class at{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof at&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach(((e,n)=>{t.forEach((t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(r=!0)}))})),r}}class it extends Me{constructor(e){super(...arguments),this.pairs=new Array(it.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return it.constructResult(this.decodeRow2pairs(e,t))}catch(n){this.verbose&&console.log(n)}return this.pairs.length=0,this.startFromEven=!0,it.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r,n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(a){if(a instanceof x){if(!this.pairs.length)throw new x;n=!0}}if(this.checkChecksum())return this.pairs;if(r=!!this.rows.length,this.storeRow(e,!1),r){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new x}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let t=this.rows[n];this.pairs.length=0;for(let r of e)this.pairs.push(r.getPairs());if(this.pairs.push(t.getPairs()),!it.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(e);a.push(t);try{return this.checkRows(a,n+1)}catch(r){this.verbose&&console.log(r)}}throw new x}static isValidSequence(e){for(let t of it.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,a=!1;for(;r<this.rows.length;){let t=this.rows[r];if(t.getRowNumber()>e){a=t.isEquivalent(this.pairs);break}n=t.isEquivalent(this.pairs),r++}a||n||it.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new at(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length)for(let t of r.getPairs())for(let r of e)if(nt.equals(t,r))break}static isPartialRow(e,t){for(let r of t){let t=!0;for(let n of e){let e=!1;for(let t of r.getPairs())if(n.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=rt(Fe.buildBitArray(e)).parseInformation(),r=e[0].getFinderPattern().getResultPoints(),n=e[e.length-1].getFinderPattern().getResultPoints(),a=[r[0],r[1],n[0],n[1]];return new V(t,null,null,a,H.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(null==r)return!1;let n=r.getChecksumPortion(),a=2;for(let i=1;i<this.pairs.size();++i){let e=this.pairs.get(i);n+=e.getLeftChar().getChecksumPortion(),a++;let t=e.getRightChar();null!=t&&(n+=t.getChecksumPortion(),a++)}return n%=211,211*(a-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n,a=t.length%2==0;this.startFromEven&&(a=!a);let i=!0,s=-1;do{this.findNextPair(e,t,s),n=this.parseFoundFinderPattern(e,r,a),null==n?s=it.getNextSecondBar(e,this.startEnd[0]):i=!1}while(i);let o,l=this.decodeDataCharacter(e,n,a,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new x;try{o=this.decodeDataCharacter(e,n,a,!1)}catch(c){o=null,this.verbose&&console.log(c)}return new nt(l,o,n,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a,i=e.getSize();a=r>=0?r:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let s=t.length%2!=0;this.startFromEven&&(s=!s);let o=!1;for(;a<i&&(o=!e.get(a),o);)a++;let l=0,c=a;for(let u=a;u<i;u++)if(e.get(u)!=o)n[l]++;else{if(3==l){if(s&&it.reverseCounters(n),it.isFinderPattern(n))return this.startEnd[0]=c,void(this.startEnd[1]=u);s&&it.reverseCounters(n),c+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,l--}else l++;n[l]=1,o=!o}throw new x}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,a,i;if(r){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,n=this.startEnd[0]-t,a=t,i=this.startEnd[1]}else a=this.startEnd[0],i=e.getNextUnset(this.startEnd[1]+1),n=i-this.startEnd[1];let s,o=this.getDecodeFinderCounters();g.arraycopy(o,0,o,1,o.length-1),o[0]=n;try{s=this.parseFinderValue(o,it.FINDER_PATTERNS)}catch(l){return null}return new Pe(s,[a,i],a,i,t)}decodeDataCharacter(e,t,r,n){let a=this.getDataCharacterCounters();for(let C=0;C<a.length;C++)a[C]=0;if(n)it.recordPatternInReverse(e,t.getStartEnd()[0],a);else{it.recordPattern(e,t.getStartEnd()[1],a);for(let e=0,t=a.length-1;e<t;e++,t--){let r=a[e];a[e]=a[t],a[t]=r}}let i=17,s=ie.sum(new Int32Array(a))/i,o=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(s-o)/o>.3)throw new x;let l=this.getOddCounts(),c=this.getEvenCounts(),u=this.getOddRoundingErrors(),h=this.getEvenRoundingErrors();for(let C=0;C<a.length;C++){let e=1*a[C]/s,t=e+.5;if(t<1){if(e<.3)throw new x;t=1}else if(t>8){if(e>8.7)throw new x;t=8}let r=C/2;0==(1&C)?(l[r]=t,u[r]=e-t):(c[r]=t,h[r]=e-t)}this.adjustOddEvenCounts(i);let d=4*t.getValue()+(r?0:2)+(n?0:1)-1,f=0,p=0;for(let C=l.length-1;C>=0;C--){if(it.isNotA1left(t,r,n)){let e=it.WEIGHTS[d][2*C];p+=l[C]*e}f+=l[C]}let g=0;for(let C=c.length-1;C>=0;C--)if(it.isNotA1left(t,r,n)){let e=it.WEIGHTS[d][2*C+1];g+=c[C]*e}let m=p+g;if(0!=(1&f)||f>13||f<4)throw new x;let v=(13-f)/2,w=it.SYMBOL_WIDEST[v],y=9-w,b=Le.getRSSvalue(l,w,!0),E=Le.getRSSvalue(c,y,!1),S=it.EVEN_TOTAL_SUBSET[v],T=it.GSUM[v];return new Oe(b*S+E+T,m)}static isNotA1left(e,t,r){return!(0==e.getValue()&&t&&r)}adjustOddEvenCounts(e){let t=ie.sum(new Int32Array(this.getOddCounts())),r=ie.sum(new Int32Array(this.getEvenCounts())),n=!1,a=!1;t>13?a=!0:t<4&&(n=!0);let i=!1,s=!1;r>13?s=!0:r<4&&(i=!0);let o=t+r-e,l=1==(1&t),c=0==(1&r);if(1==o)if(l){if(c)throw new x;a=!0}else{if(!c)throw new x;s=!0}else if(-1==o)if(l){if(c)throw new x;n=!0}else{if(!c)throw new x;i=!0}else{if(0!=o)throw new x;if(l){if(!c)throw new x;t<r?(n=!0,s=!0):(a=!0,i=!0)}else if(c)throw new x}if(n){if(a)throw new x;it.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&it.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(s)throw new x;it.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&it.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.SYMBOL_WIDEST=[7,5,4,3,1],it.EVEN_TOTAL_SUBSET=[4,20,52,104,204],it.GSUM=[0,348,1388,2948,3988],it.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],it.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],it.FINDER_PAT_A=0,it.FINDER_PAT_B=1,it.FINDER_PAT_C=2,it.FINDER_PAT_D=3,it.FINDER_PAT_E=4,it.FINDER_PAT_F=5,it.FINDER_PATTERN_SEQUENCES=[[it.FINDER_PAT_A,it.FINDER_PAT_A],[it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B],[it.FINDER_PAT_A,it.FINDER_PAT_C,it.FINDER_PAT_B,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_C],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F]],it.MAX_PAIRS=11;class st extends Oe{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ot extends Me{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);ot.addOrTally(this.possibleLeftPairs,n),t.reverse();let a=this.decodePair(t,!0,e,r);ot.addOrTally(this.possibleRightPairs,a),t.reverse();for(let i of this.possibleLeftPairs)if(i.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&ot.checkChecksum(i,e))return ot.constructResult(i,e);throw new x}static addOrTally(e,t){if(null==t)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),a=new k;for(let l=13-n.length;l>0;l--)a.append("0");a.append(n);let i=0;for(let l=0;l<13;l++){let e=a.charAt(l).charCodeAt(0)-"0".charCodeAt(0);i+=0===(1&l)?3*e:e}i=10-i%10,10===i&&(i=0),a.append(i.toString());let s=e.getFinderPattern().getResultPoints(),o=t.getFinderPattern().getResultPoints();return new V(a.toString(),null,0,[s[0],s[1],o[0],o[1]],H.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let a=this.findFinderPattern(e,t),i=this.parseFoundFinderPattern(e,r,t,a),s=null==n?null:n.get(S.NEED_RESULT_POINT_CALLBACK);if(null!=s){let n=(a[0]+a[1])/2;t&&(n=e.getSize()-1-n),s.foundPossibleResultPoint(new oe(n,r))}let o=this.decodeDataCharacter(e,i,!0),l=this.decodeDataCharacter(e,i,!1);return new st(1597*o.getValue()+l.getValue(),o.getChecksumPortion()+4*l.getChecksumPortion(),i)}catch(a){return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let g=0;g<n.length;g++)n[g]=0;if(r)ye.recordPatternInReverse(e,t.getStartEnd()[0],n);else{ye.recordPattern(e,t.getStartEnd()[1]+1,n);for(let e=0,t=n.length-1;e<t;e++,t--){let r=n[e];n[e]=n[t],n[t]=r}}let a=r?16:15,i=ie.sum(new Int32Array(n))/a,s=this.getOddCounts(),o=this.getEvenCounts(),l=this.getOddRoundingErrors(),c=this.getEvenRoundingErrors();for(let g=0;g<n.length;g++){let e=n[g]/i,t=Math.floor(e+.5);t<1?t=1:t>8&&(t=8);let r=Math.floor(g/2);0===(1&g)?(s[r]=t,l[r]=e-t):(o[r]=t,c[r]=e-t)}this.adjustOddEvenCounts(r,a);let u=0,h=0;for(let g=s.length-1;g>=0;g--)h*=9,h+=s[g],u+=s[g];let d=0,f=0;for(let g=o.length-1;g>=0;g--)d*=9,d+=o[g],f+=o[g];let p=h+3*d;if(r){if(0!==(1&u)||u>12||u<4)throw new x;let e=(12-u)/2,t=ot.OUTSIDE_ODD_WIDEST[e],r=9-t,n=Le.getRSSvalue(s,t,!1),a=Le.getRSSvalue(o,r,!0),i=ot.OUTSIDE_EVEN_TOTAL_SUBSET[e],l=ot.OUTSIDE_GSUM[e];return new Oe(n*i+a+l,p)}{if(0!==(1&f)||f>10||f<4)throw new x;let e=(10-f)/2,t=ot.INSIDE_ODD_WIDEST[e],r=9-t,n=Le.getRSSvalue(s,t,!0),a=Le.getRSSvalue(o,r,!1),i=ot.INSIDE_ODD_TOTAL_SUBSET[e],l=ot.INSIDE_GSUM[e];return new Oe(a*i+n+l,p)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),a=!1,i=0;for(;i<n&&(a=!e.get(i),t!==a);)i++;let s=0,o=i;for(let l=i;l<n;l++)if(e.get(l)!==a)r[s]++;else{if(3===s){if(Me.isFinderPattern(r))return[o,l];o+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,s--}else s++;r[s]=1,a=!a}throw new x}parseFoundFinderPattern(e,t,r,n){let a=e.get(n[0]),i=n[0]-1;for(;i>=0&&a!==e.get(i);)i--;i++;const s=n[0]-i,o=this.getDecodeFinderCounters(),l=new Int32Array(o.length);g.arraycopy(o,0,l,1,o.length-1),l[0]=s;const c=this.parseFinderValue(l,ot.FINDER_PATTERNS);let u=i,h=n[1];return r&&(u=e.getSize()-1-u,h=e.getSize()-1-h),new Pe(c,[i,n[1]],u,h,t)}adjustOddEvenCounts(e,t){let r=ie.sum(new Int32Array(this.getOddCounts())),n=ie.sum(new Int32Array(this.getEvenCounts())),a=!1,i=!1,s=!1,o=!1;e?(r>12?i=!0:r<4&&(a=!0),n>12?o=!0:n<4&&(s=!0)):(r>11?i=!0:r<5&&(a=!0),n>10?o=!0:n<4&&(s=!0));let l=r+n-t,c=(1&r)===(e?1:0),u=1===(1&n);if(1===l)if(c){if(u)throw new x;i=!0}else{if(!u)throw new x;o=!0}else if(-1===l)if(c){if(u)throw new x;a=!0}else{if(!u)throw new x;s=!0}else{if(0!==l)throw new x;if(c){if(!u)throw new x;r<n?(a=!0,o=!0):(i=!0,s=!0)}else if(u)throw new x}if(a){if(i)throw new x;Me.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&Me.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(o)throw new x;Me.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&Me.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ot.OUTSIDE_GSUM=[0,161,961,2015,2715],ot.INSIDE_GSUM=[0,336,1036,1516],ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ot.INSIDE_ODD_WIDEST=[2,4,6,8],ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class lt extends ye{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const r=e?e.get(S.POSSIBLE_FORMATS):null,n=e&&void 0!==e.get(S.ASSUME_CODE_39_CHECK_DIGIT);r?((r.includes(H.EAN_13)||r.includes(H.UPC_A)||r.includes(H.EAN_8)||r.includes(H.UPC_E))&&this.readers.push(new Re(e)),r.includes(H.CODE_39)&&this.readers.push(new Ee(n)),r.includes(H.CODE_128)&&this.readers.push(new be),r.includes(H.ITF)&&this.readers.push(new Se),r.includes(H.RSS_14)&&this.readers.push(new ot),r.includes(H.RSS_EXPANDED)&&this.readers.push(new it(this.verbose))):(this.readers.push(new Re(e)),this.readers.push(new Ee),this.readers.push(new Re(e)),this.readers.push(new be),this.readers.push(new Se),this.readers.push(new ot),this.readers.push(new it(this.verbose)))}decodeRow(e,t,r){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(e,t,r)}catch(n){}throw new x}reset(){this.readers.forEach((e=>e.reset()))}}class ct extends U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1?arguments[1]:void 0;super(new lt(t),e,t)}}class ut{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ht{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dt{constructor(e,t,r,n,a,i){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=a,this.ecBlocks=i;let s=0;const o=i.getECCodewords(),l=i.getECBlocks();for(let c of l)s+=c.getCount()*(c.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(0!==(1&e)||0!==(1&t))throw new T;for(let r of dt.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new T}toString(){return""+this.versionNumber}static buildVersions(){return[new dt(1,10,10,8,8,new ut(5,new ht(1,3))),new dt(2,12,12,10,10,new ut(7,new ht(1,5))),new dt(3,14,14,12,12,new ut(10,new ht(1,8))),new dt(4,16,16,14,14,new ut(12,new ht(1,12))),new dt(5,18,18,16,16,new ut(14,new ht(1,18))),new dt(6,20,20,18,18,new ut(18,new ht(1,22))),new dt(7,22,22,20,20,new ut(20,new ht(1,30))),new dt(8,24,24,22,22,new ut(24,new ht(1,36))),new dt(9,26,26,24,24,new ut(28,new ht(1,44))),new dt(10,32,32,14,14,new ut(36,new ht(1,62))),new dt(11,36,36,16,16,new ut(42,new ht(1,86))),new dt(12,40,40,18,18,new ut(48,new ht(1,114))),new dt(13,44,44,20,20,new ut(56,new ht(1,144))),new dt(14,48,48,22,22,new ut(68,new ht(1,174))),new dt(15,52,52,24,24,new ut(42,new ht(2,102))),new dt(16,64,64,14,14,new ut(56,new ht(2,140))),new dt(17,72,72,16,16,new ut(36,new ht(4,92))),new dt(18,80,80,18,18,new ut(48,new ht(4,114))),new dt(19,88,88,20,20,new ut(56,new ht(4,144))),new dt(20,96,96,22,22,new ut(68,new ht(4,174))),new dt(21,104,104,24,24,new ut(56,new ht(6,136))),new dt(22,120,120,18,18,new ut(68,new ht(6,175))),new dt(23,132,132,20,20,new ut(62,new ht(8,163))),new dt(24,144,144,22,22,new ut(62,new ht(8,156),new ht(2,155))),new dt(25,8,18,6,16,new ut(7,new ht(1,5))),new dt(26,8,32,6,14,new ut(11,new ht(1,10))),new dt(27,12,26,10,24,new ut(14,new ht(1,16))),new dt(28,12,36,10,16,new ut(18,new ht(1,22))),new dt(29,16,36,14,16,new ut(24,new ht(1,32))),new dt(30,16,48,14,22,new ut(28,new ht(1,49)))]}}dt.VERSIONS=dt.buildVersions();class ft{constructor(e){const t=e.getHeight();if(t<8||t>144||0!==(1&t))throw new T;this.version=ft.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new N(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return dt.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const a=this.mappingBitMatrix.getHeight(),i=this.mappingBitMatrix.getWidth();let s=!1,o=!1,l=!1,c=!1;do{if(r!==a||0!==n||s)if(r!==a-2||0!==n||0===(3&i)||o)if(r!==a+4||2!==n||0!==(7&i)||l)if(r!==a-2||0!==n||4!==(7&i)||c){do{r<a&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,a,i)),r-=2,n+=2}while(r>=0&&n<i);r+=1,n+=3;do{r>=0&&n<i&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,a,i)),r+=2,n-=2}while(r<a&&n>=0);r+=3,n+=1}else e[t++]=255&this.readCorner4(a,i),r-=2,n+=2,c=!0;else e[t++]=255&this.readCorner3(a,i),r-=2,n+=2,l=!0;else e[t++]=255&this.readCorner2(a,i),r-=2,n+=2,o=!0;else e[t++]=255&this.readCorner1(a,i),r-=2,n+=2,s=!0}while(r<a||n<i);if(t!==this.version.getTotalCodewords())throw new T;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let a=0;return this.readModule(e-2,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t,r,n)&&(a|=1),a<<=1,this.readModule(e,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e,t,r,n)&&(a|=1),a}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new h("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),i=t/n|0,s=r/a|0,o=new N(s*a,i*n);for(let l=0;l<i;++l){const t=l*n;for(let r=0;r<s;++r){const i=r*a;for(let s=0;s<n;++s){const c=l*(n+2)+1+s,u=t+s;for(let t=0;t<a;++t){const n=r*(a+2)+1+t;if(e.get(n,c)){const e=i+t;o.set(e,u)}}}}}return o}}class pt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const a=r.getECBlocks();for(let h of a)n+=h.getCount();const i=new Array(n);let s=0;for(let h of a)for(let e=0;e<h.getCount();e++){const e=h.getDataCodewords(),t=r.getECCodewords()+e;i[s++]=new pt(e,new Uint8Array(t))}const o=i[0].codewords.length-r.getECCodewords(),l=o-1;let c=0;for(let h=0;h<l;h++)for(let t=0;t<s;t++)i[t].codewords[h]=e[c++];const u=24===t.getVersionNumber(),d=u?8:s;for(let h=0;h<d;h++)i[h].codewords[o-1]=e[c++];const f=i[0].codewords.length;for(let h=o;h<f;h++)for(let t=0;t<s;t++){const r=u?(t+8)%s:t,n=u&&r>7?h-1:h;i[r].codewords[n]=e[c++]}if(c!==e.length)throw new h;return i}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class gt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new h(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const a=this.bytes;if(r>0){const i=8-r,s=e<i?e:i,o=i-s,l=255>>8-s<<o;t=(a[n]&l)>>o,e-=s,r+=s,8===r&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|255&a[n],n++,e-=8;if(e>0){const i=8-e,s=255>>i<<i;t=t<<e|(a[n]&s)>>i,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(W||(W={}));class mt{static decode(e){const t=new gt(e),r=new k,n=new k,a=new Array;let i=W.ASCII_ENCODE;do{if(i===W.ASCII_ENCODE)i=this.decodeAsciiSegment(t,r,n);else{switch(i){case W.C40_ENCODE:this.decodeC40Segment(t,r);break;case W.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case W.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case W.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case W.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new T}i=W.ASCII_ENCODE}}while(i!==W.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new q(e,r.toString(),0===a.length?null:a,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let a=e.readBits(8);if(0===a)throw new T;if(a<=128)return n&&(a+=128),t.append(String.fromCharCode(a-1)),W.ASCII_ENCODE;if(129===a)return W.PAD_ENCODE;if(a<=229){const e=a-130;e<10&&t.append("0"),t.append(""+e)}else switch(a){case 230:return W.C40_ENCODE;case 231:return W.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:t.append("[)>\x1e05\x1d"),r.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),r.insert(0,"\x1e\x04");break;case 238:return W.ANSIX12_ENCODE;case 239:return W.TEXT_ENCODE;case 240:return W.EDIFACT_ENCODE;default:if(254!==a||0!==e.available())throw new T}}while(e.available()>0);return W.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let a=0;do{if(8===e.available())return;const i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),n);for(let e=0;e<3;e++){const i=n[e];switch(a){case 0:if(i<3)a=i+1;else{if(!(i<this.C40_BASIC_SET_CHARS.length))throw new T;{const e=this.C40_BASIC_SET_CHARS[i];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(i+128)),r=!1):t.append(String.fromCharCode(i)),a=0;break;case 2:if(i<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[i];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(i){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new T}a=0;break;case 3:r?(t.append(String.fromCharCode(i+224)),r=!1):t.append(String.fromCharCode(i+96)),a=0;break;default:throw new T}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],a=0;do{if(8===e.available())return;const i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),n);for(let e=0;e<3;e++){const i=n[e];switch(a){case 0:if(i<3)a=i+1;else{if(!(i<this.TEXT_BASIC_SET_CHARS.length))throw new T;{const e=this.TEXT_BASIC_SET_CHARS[i];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(i+128)),r=!1):t.append(String.fromCharCode(i)),a=0;break;case 2:if(i<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[i];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(i){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new T}a=0;break;case 3:if(!(i<this.TEXT_SHIFT3_SET_CHARS.length))throw new T;{const e=this.TEXT_SHIFT3_SET_CHARS[i];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e),a=0}break;default:throw new T}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(8===e.available())return;const n=e.readBits(8);if(254===n)return;this.parseTwoBytes(n,e.readBits(8),r);for(let e=0;e<3;e++){const n=r[e];switch(n){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(n<14)t.append(String.fromCharCode(n+44));else{if(!(n<40))throw new T;t.append(String.fromCharCode(n+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,a=Math.floor(n/1600);r[0]=a,n-=1600*a,a=Math.floor(n/40),r[1]=a,r[2]=n-40*a}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let r=e.readBits(6);if(31===r){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}0===(32&r)&&(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),n++);let i;if(i=0===a?e.available()/8|0:a<250?a:250*(a-249)+this.unrandomize255State(e.readBits(8),n++),i<0)throw new T;const s=new Uint8Array(i);for(let l=0;l<i;l++){if(e.available()<8)throw new T;s[l]=this.unrandomize255State(e.readBits(8),n++)}r.push(s);try{t.append(A.decode(s,I.ISO88591))}catch(o){throw new re("Platform does not support required encoding: "+o.message)}}static unrandomize255State(e,t){const r=e-(149*t%255+1);return r>=0?r:r+256}}mt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],mt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],mt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],mt.TEXT_SHIFT2_SET_CHARS=mt.C40_SHIFT2_SET_CHARS,mt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class vt{constructor(){this.rsDecoder=new ne(ee.DATA_MATRIX_FIELD_256)}decode(e){const t=new ft(e),r=t.getVersion(),n=t.readCodewords(),a=pt.getDataBlocks(n,r);let i=0;for(let l of a)i+=l.getNumDataCodewords();const s=new Uint8Array(i),o=a.length;for(let l=0;l<o;l++){const e=a[l],t=e.getCodewords(),r=e.getNumDataCodewords();this.correctErrors(t,r);for(let n=0;n<r;n++)s[n*o+l]=t[n]}return mt.decode(s)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(n){throw new f}for(let a=0;a<t;a++)e[a]=r[a]}}class wt{constructor(e){this.image=e,this.rectangleDetector=new ue(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new x;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],a=t[2],i=t[3];let s=this.transitionsBetween(r,i)+1,o=this.transitionsBetween(a,i)+1;1===(1&s)&&(s+=1),1===(1&o)&&(o+=1),4*s<7*o&&4*o<7*s&&(s=o=Math.max(s,o));let l=wt.sampleGrid(this.image,r,n,a,i,s,o);return new le(l,[r,n,a,i])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new oe(e.getX()+n,e.getY()+a)}static moveAway(e,t,r){let n=e.getX(),a=e.getY();return n<t?n-=1:n+=1,a<r?a-=1:a+=1,new oe(n,a)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],a=e[2],i=this.transitionsBetween(t,r),s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,a),l=this.transitionsBetween(a,t),c=i,u=[a,t,r,n];return c>s&&(c=s,u[0]=t,u[1]=r,u[2]=n,u[3]=a),c>o&&(c=o,u[0]=r,u[1]=n,u[2]=a,u[3]=t),c>l&&(u[0]=n,u[1]=a,u[2]=t,u[3]=r),u}detectSolid2(e){let t=e[0],r=e[1],n=e[2],a=e[3],i=this.transitionsBetween(t,a),s=wt.shiftPoint(r,n,4*(i+1)),o=wt.shiftPoint(n,r,4*(i+1));return this.transitionsBetween(s,t)<this.transitionsBetween(o,a)?(e[0]=t,e[1]=r,e[2]=n,e[3]=a):(e[0]=r,e[1]=n,e[2]=a,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],a=e[3],i=this.transitionsBetween(t,a),s=this.transitionsBetween(r,a),o=wt.shiftPoint(t,r,4*(s+1)),l=wt.shiftPoint(n,r,4*(i+1));i=this.transitionsBetween(o,a),s=this.transitionsBetween(l,a);let c=new oe(a.getX()+(n.getX()-r.getX())/(i+1),a.getY()+(n.getY()-r.getY())/(i+1)),u=new oe(a.getX()+(t.getX()-r.getX())/(s+1),a.getY()+(t.getY()-r.getY())/(s+1));return this.isValid(c)?this.isValid(u)?this.transitionsBetween(o,c)+this.transitionsBetween(l,c)>this.transitionsBetween(o,u)+this.transitionsBetween(l,u)?c:u:c:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],a=e[3],i=this.transitionsBetween(t,a)+1,s=this.transitionsBetween(n,a)+1,o=wt.shiftPoint(t,r,4*s),l=wt.shiftPoint(n,r,4*i);i=this.transitionsBetween(o,a)+1,s=this.transitionsBetween(l,a)+1,1===(1&i)&&(i+=1),1===(1&s)&&(s+=1);let c,u,h=(t.getX()+r.getX()+n.getX()+a.getX())/4,d=(t.getY()+r.getY()+n.getY()+a.getY())/4;return t=wt.moveAway(t,h,d),r=wt.moveAway(r,h,d),n=wt.moveAway(n,h,d),a=wt.moveAway(a,h,d),o=wt.shiftPoint(t,r,4*s),o=wt.shiftPoint(o,a,4*i),c=wt.shiftPoint(r,t,4*s),c=wt.shiftPoint(c,n,4*i),l=wt.shiftPoint(n,a,4*s),l=wt.shiftPoint(l,r,4*i),u=wt.shiftPoint(a,n,4*s),u=wt.shiftPoint(u,t,4*i),[o,c,l,u]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,a,i,s){return pe.getInstance().sampleGrid(e,i,s,.5,.5,i-.5,.5,i-.5,s-.5,.5,s-.5,t.getX(),t.getY(),a.getX(),a.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),a=Math.trunc(t.getX()),i=Math.trunc(t.getY()),s=Math.abs(i-n)>Math.abs(a-r);if(s){let e=r;r=n,n=e,e=a,a=i,i=e}let o=Math.abs(a-r),l=Math.abs(i-n),c=-o/2,u=n<i?1:-1,h=r<a?1:-1,d=0,f=this.image.get(s?n:r,s?r:n);for(let p=r,g=n;p!==a;p+=h){let e=this.image.get(s?g:p,s?p:g);if(e!==f&&(d++,f=e),c+=l,c>0){if(g===i)break;g+=u,c-=o}}return d}}class yt{constructor(){this.decoder=new vt}decode(e){let t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=n&&n.has(S.PURE_BARCODE)){const n=yt.extractPureBits(e.getBlackMatrix());t=this.decoder.decode(n),r=yt.NO_POINTS}else{const n=new wt(e.getBlackMatrix()).detect();t=this.decoder.decode(n.getBits()),r=n.getPoints()}const a=t.getRawBytes(),i=new V(t.getText(),a,8*a.length,r,H.DATA_MATRIX,g.currentTimeMillis()),s=t.getByteSegments();null!=s&&i.putMetadata(X.BYTE_SEGMENTS,s);const o=t.getECLevel();return null!=o&&i.putMetadata(X.ERROR_CORRECTION_LEVEL,o),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new x;const n=this.moduleSize(t,e);let a=t[1];const i=r[1];let s=t[0];const o=(r[0]-s+1)/n,l=(i-a+1)/n;if(o<=0||l<=0)throw new x;const c=n/2;a+=c,s+=c;const u=new N(o,l);for(let h=0;h<l;h++){const t=a+h*n;for(let r=0;r<o;r++)e.get(s+r*n,t)&&u.set(r,h)}return u}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const a=e[1];for(;n<r&&t.get(n,a);)n++;if(n===r)throw new x;const i=n-e[0];if(0===i)throw new x;return i}}yt.NO_POINTS=[];class bt extends U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new yt,e)}}!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(Y||(Y={}));class Et{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,Et.FOR_BITS.set(r,this),Et.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new u(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Et))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Et.FOR_BITS.size)throw new h;return Et.FOR_BITS.get(e)}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.L=new Et(Y.L,"L",1),Et.M=new Et(Y.M,"M",0),Et.Q=new Et(Y.Q,"Q",3),Et.H=new Et(Y.H,"H",2);class St{constructor(e){this.errorCorrectionLevel=Et.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return y.bitCount(e^t)}static decodeFormatInformation(e,t){const r=St.doDecodeFormatInformation(e,t);return null!==r?r:St.doDecodeFormatInformation(e^St.FORMAT_INFO_MASK_QR,t^St.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const a of St.FORMAT_INFO_DECODE_LOOKUP){const i=a[0];if(i===e||i===t)return new St(a[1]);let s=St.numBitsDiffering(e,i);s<r&&(n=a[1],r=s),e!==t&&(s=St.numBitsDiffering(t,i),s<r&&(n=a[1],r=s))}return r<=3?new St(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof St))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}St.FORMAT_INFO_MASK_QR=21522,St.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Tt{constructor(e){this.ecCodewordsPerBlock=e;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Ct{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(e,t){this.versionNumber=e,this.alignmentPatternCenters=t;for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];this.ecBlocks=n;let i=0;const s=n[0].getECCodewordsPerBlock(),o=n[0].getECBlocks();for(const l of o)i+=l.getCount()*(l.getDataCodewords()+s);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new T;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new T}}static getVersionForNumber(e){if(e<1||e>40)throw new h;return _t.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<_t.VERSION_DECODE_INFO.length;n++){const a=_t.VERSION_DECODE_INFO[n];if(a===e)return _t.getVersionForNumber(n+7);const i=St.numBitsDiffering(e,a);i<t&&(r=n+7,t=i)}return t<=3?_t.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new N(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const e=this.alignmentPatternCenters[n]-2;for(let a=0;a<r;a++)0===n&&(0===a||a===r-1)||n===r-1&&0===a||t.setRegion(this.alignmentPatternCenters[a]-2,e,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}_t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_t.VERSIONS=[new _t(1,new Int32Array(0),new Tt(7,new Ct(1,19)),new Tt(10,new Ct(1,16)),new Tt(13,new Ct(1,13)),new Tt(17,new Ct(1,9))),new _t(2,Int32Array.from([6,18]),new Tt(10,new Ct(1,34)),new Tt(16,new Ct(1,28)),new Tt(22,new Ct(1,22)),new Tt(28,new Ct(1,16))),new _t(3,Int32Array.from([6,22]),new Tt(15,new Ct(1,55)),new Tt(26,new Ct(1,44)),new Tt(18,new Ct(2,17)),new Tt(22,new Ct(2,13))),new _t(4,Int32Array.from([6,26]),new Tt(20,new Ct(1,80)),new Tt(18,new Ct(2,32)),new Tt(26,new Ct(2,24)),new Tt(16,new Ct(4,9))),new _t(5,Int32Array.from([6,30]),new Tt(26,new Ct(1,108)),new Tt(24,new Ct(2,43)),new Tt(18,new Ct(2,15),new Ct(2,16)),new Tt(22,new Ct(2,11),new Ct(2,12))),new _t(6,Int32Array.from([6,34]),new Tt(18,new Ct(2,68)),new Tt(16,new Ct(4,27)),new Tt(24,new Ct(4,19)),new Tt(28,new Ct(4,15))),new _t(7,Int32Array.from([6,22,38]),new Tt(20,new Ct(2,78)),new Tt(18,new Ct(4,31)),new Tt(18,new Ct(2,14),new Ct(4,15)),new Tt(26,new Ct(4,13),new Ct(1,14))),new _t(8,Int32Array.from([6,24,42]),new Tt(24,new Ct(2,97)),new Tt(22,new Ct(2,38),new Ct(2,39)),new Tt(22,new Ct(4,18),new Ct(2,19)),new Tt(26,new Ct(4,14),new Ct(2,15))),new _t(9,Int32Array.from([6,26,46]),new Tt(30,new Ct(2,116)),new Tt(22,new Ct(3,36),new Ct(2,37)),new Tt(20,new Ct(4,16),new Ct(4,17)),new Tt(24,new Ct(4,12),new Ct(4,13))),new _t(10,Int32Array.from([6,28,50]),new Tt(18,new Ct(2,68),new Ct(2,69)),new Tt(26,new Ct(4,43),new Ct(1,44)),new Tt(24,new Ct(6,19),new Ct(2,20)),new Tt(28,new Ct(6,15),new Ct(2,16))),new _t(11,Int32Array.from([6,30,54]),new Tt(20,new Ct(4,81)),new Tt(30,new Ct(1,50),new Ct(4,51)),new Tt(28,new Ct(4,22),new Ct(4,23)),new Tt(24,new Ct(3,12),new Ct(8,13))),new _t(12,Int32Array.from([6,32,58]),new Tt(24,new Ct(2,92),new Ct(2,93)),new Tt(22,new Ct(6,36),new Ct(2,37)),new Tt(26,new Ct(4,20),new Ct(6,21)),new Tt(28,new Ct(7,14),new Ct(4,15))),new _t(13,Int32Array.from([6,34,62]),new Tt(26,new Ct(4,107)),new Tt(22,new Ct(8,37),new Ct(1,38)),new Tt(24,new Ct(8,20),new Ct(4,21)),new Tt(22,new Ct(12,11),new Ct(4,12))),new _t(14,Int32Array.from([6,26,46,66]),new Tt(30,new Ct(3,115),new Ct(1,116)),new Tt(24,new Ct(4,40),new Ct(5,41)),new Tt(20,new Ct(11,16),new Ct(5,17)),new Tt(24,new Ct(11,12),new Ct(5,13))),new _t(15,Int32Array.from([6,26,48,70]),new Tt(22,new Ct(5,87),new Ct(1,88)),new Tt(24,new Ct(5,41),new Ct(5,42)),new Tt(30,new Ct(5,24),new Ct(7,25)),new Tt(24,new Ct(11,12),new Ct(7,13))),new _t(16,Int32Array.from([6,26,50,74]),new Tt(24,new Ct(5,98),new Ct(1,99)),new Tt(28,new Ct(7,45),new Ct(3,46)),new Tt(24,new Ct(15,19),new Ct(2,20)),new Tt(30,new Ct(3,15),new Ct(13,16))),new _t(17,Int32Array.from([6,30,54,78]),new Tt(28,new Ct(1,107),new Ct(5,108)),new Tt(28,new Ct(10,46),new Ct(1,47)),new Tt(28,new Ct(1,22),new Ct(15,23)),new Tt(28,new Ct(2,14),new Ct(17,15))),new _t(18,Int32Array.from([6,30,56,82]),new Tt(30,new Ct(5,120),new Ct(1,121)),new Tt(26,new Ct(9,43),new Ct(4,44)),new Tt(28,new Ct(17,22),new Ct(1,23)),new Tt(28,new Ct(2,14),new Ct(19,15))),new _t(19,Int32Array.from([6,30,58,86]),new Tt(28,new Ct(3,113),new Ct(4,114)),new Tt(26,new Ct(3,44),new Ct(11,45)),new Tt(26,new Ct(17,21),new Ct(4,22)),new Tt(26,new Ct(9,13),new Ct(16,14))),new _t(20,Int32Array.from([6,34,62,90]),new Tt(28,new Ct(3,107),new Ct(5,108)),new Tt(26,new Ct(3,41),new Ct(13,42)),new Tt(30,new Ct(15,24),new Ct(5,25)),new Tt(28,new Ct(15,15),new Ct(10,16))),new _t(21,Int32Array.from([6,28,50,72,94]),new Tt(28,new Ct(4,116),new Ct(4,117)),new Tt(26,new Ct(17,42)),new Tt(28,new Ct(17,22),new Ct(6,23)),new Tt(30,new Ct(19,16),new Ct(6,17))),new _t(22,Int32Array.from([6,26,50,74,98]),new Tt(28,new Ct(2,111),new Ct(7,112)),new Tt(28,new Ct(17,46)),new Tt(30,new Ct(7,24),new Ct(16,25)),new Tt(24,new Ct(34,13))),new _t(23,Int32Array.from([6,30,54,78,102]),new Tt(30,new Ct(4,121),new Ct(5,122)),new Tt(28,new Ct(4,47),new Ct(14,48)),new Tt(30,new Ct(11,24),new Ct(14,25)),new Tt(30,new Ct(16,15),new Ct(14,16))),new _t(24,Int32Array.from([6,28,54,80,106]),new Tt(30,new Ct(6,117),new Ct(4,118)),new Tt(28,new Ct(6,45),new Ct(14,46)),new Tt(30,new Ct(11,24),new Ct(16,25)),new Tt(30,new Ct(30,16),new Ct(2,17))),new _t(25,Int32Array.from([6,32,58,84,110]),new Tt(26,new Ct(8,106),new Ct(4,107)),new Tt(28,new Ct(8,47),new Ct(13,48)),new Tt(30,new Ct(7,24),new Ct(22,25)),new Tt(30,new Ct(22,15),new Ct(13,16))),new _t(26,Int32Array.from([6,30,58,86,114]),new Tt(28,new Ct(10,114),new Ct(2,115)),new Tt(28,new Ct(19,46),new Ct(4,47)),new Tt(28,new Ct(28,22),new Ct(6,23)),new Tt(30,new Ct(33,16),new Ct(4,17))),new _t(27,Int32Array.from([6,34,62,90,118]),new Tt(30,new Ct(8,122),new Ct(4,123)),new Tt(28,new Ct(22,45),new Ct(3,46)),new Tt(30,new Ct(8,23),new Ct(26,24)),new Tt(30,new Ct(12,15),new Ct(28,16))),new _t(28,Int32Array.from([6,26,50,74,98,122]),new Tt(30,new Ct(3,117),new Ct(10,118)),new Tt(28,new Ct(3,45),new Ct(23,46)),new Tt(30,new Ct(4,24),new Ct(31,25)),new Tt(30,new Ct(11,15),new Ct(31,16))),new _t(29,Int32Array.from([6,30,54,78,102,126]),new Tt(30,new Ct(7,116),new Ct(7,117)),new Tt(28,new Ct(21,45),new Ct(7,46)),new Tt(30,new Ct(1,23),new Ct(37,24)),new Tt(30,new Ct(19,15),new Ct(26,16))),new _t(30,Int32Array.from([6,26,52,78,104,130]),new Tt(30,new Ct(5,115),new Ct(10,116)),new Tt(28,new Ct(19,47),new Ct(10,48)),new Tt(30,new Ct(15,24),new Ct(25,25)),new Tt(30,new Ct(23,15),new Ct(25,16))),new _t(31,Int32Array.from([6,30,56,82,108,134]),new Tt(30,new Ct(13,115),new Ct(3,116)),new Tt(28,new Ct(2,46),new Ct(29,47)),new Tt(30,new Ct(42,24),new Ct(1,25)),new Tt(30,new Ct(23,15),new Ct(28,16))),new _t(32,Int32Array.from([6,34,60,86,112,138]),new Tt(30,new Ct(17,115)),new Tt(28,new Ct(10,46),new Ct(23,47)),new Tt(30,new Ct(10,24),new Ct(35,25)),new Tt(30,new Ct(19,15),new Ct(35,16))),new _t(33,Int32Array.from([6,30,58,86,114,142]),new Tt(30,new Ct(17,115),new Ct(1,116)),new Tt(28,new Ct(14,46),new Ct(21,47)),new Tt(30,new Ct(29,24),new Ct(19,25)),new Tt(30,new Ct(11,15),new Ct(46,16))),new _t(34,Int32Array.from([6,34,62,90,118,146]),new Tt(30,new Ct(13,115),new Ct(6,116)),new Tt(28,new Ct(14,46),new Ct(23,47)),new Tt(30,new Ct(44,24),new Ct(7,25)),new Tt(30,new Ct(59,16),new Ct(1,17))),new _t(35,Int32Array.from([6,30,54,78,102,126,150]),new Tt(30,new Ct(12,121),new Ct(7,122)),new Tt(28,new Ct(12,47),new Ct(26,48)),new Tt(30,new Ct(39,24),new Ct(14,25)),new Tt(30,new Ct(22,15),new Ct(41,16))),new _t(36,Int32Array.from([6,24,50,76,102,128,154]),new Tt(30,new Ct(6,121),new Ct(14,122)),new Tt(28,new Ct(6,47),new Ct(34,48)),new Tt(30,new Ct(46,24),new Ct(10,25)),new Tt(30,new Ct(2,15),new Ct(64,16))),new _t(37,Int32Array.from([6,28,54,80,106,132,158]),new Tt(30,new Ct(17,122),new Ct(4,123)),new Tt(28,new Ct(29,46),new Ct(14,47)),new Tt(30,new Ct(49,24),new Ct(10,25)),new Tt(30,new Ct(24,15),new Ct(46,16))),new _t(38,Int32Array.from([6,32,58,84,110,136,162]),new Tt(30,new Ct(4,122),new Ct(18,123)),new Tt(28,new Ct(13,46),new Ct(32,47)),new Tt(30,new Ct(48,24),new Ct(14,25)),new Tt(30,new Ct(42,15),new Ct(32,16))),new _t(39,Int32Array.from([6,26,54,82,110,138,166]),new Tt(30,new Ct(20,117),new Ct(4,118)),new Tt(28,new Ct(40,47),new Ct(7,48)),new Tt(30,new Ct(43,24),new Ct(22,25)),new Tt(30,new Ct(10,15),new Ct(67,16))),new _t(40,Int32Array.from([6,30,58,86,114,142,170]),new Tt(30,new Ct(19,118),new Ct(6,119)),new Tt(28,new Ct(18,47),new Ct(31,48)),new Tt(30,new Ct(34,24),new Ct(34,25)),new Tt(30,new Ct(20,15),new Ct(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(G||(G={}));class At{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}At.values=new Map([[G.DATA_MASK_000,new At(G.DATA_MASK_000,((e,t)=>0===(e+t&1)))],[G.DATA_MASK_001,new At(G.DATA_MASK_001,((e,t)=>0===(1&e)))],[G.DATA_MASK_010,new At(G.DATA_MASK_010,((e,t)=>t%3===0))],[G.DATA_MASK_011,new At(G.DATA_MASK_011,((e,t)=>(e+t)%3===0))],[G.DATA_MASK_100,new At(G.DATA_MASK_100,((e,t)=>0===(Math.floor(e/2)+Math.floor(t/3)&1)))],[G.DATA_MASK_101,new At(G.DATA_MASK_101,((e,t)=>e*t%6===0))],[G.DATA_MASK_110,new At(G.DATA_MASK_110,((e,t)=>e*t%6<3))],[G.DATA_MASK_111,new At(G.DATA_MASK_111,((e,t)=>0===(e+t+e*t%3&1)))]]);class It{constructor(e){const t=e.getHeight();if(t<21||1!==(3&t))throw new T;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let a=0;a<6;a++)e=this.copyBit(a,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let a=5;a>=0;a--)e=this.copyBit(8,a,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let a=t-1;a>=n;a--)r=this.copyBit(8,a,r);for(let a=t-8;a<t;a++)r=this.copyBit(a,8,r);if(this.parsedFormatInfo=St.decodeFormatInformation(e,r),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new T}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return _t.getVersionForNumber(t);let r=0;const n=e-11;for(let i=5;i>=0;i--)for(let t=e-9;t>=n;t--)r=this.copyBit(t,i,r);let a=_t.decodeVersionInformation(r);if(null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;r=0;for(let i=5;i>=0;i--)for(let t=e-9;t>=n;t--)r=this.copyBit(i,t,r);if(a=_t.decodeVersionInformation(r),null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new T}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=At.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const a=t.buildFunctionPattern();let i=!0;const s=new Uint8Array(t.getTotalCodewords());let o=0,l=0,c=0;for(let u=n-1;u>0;u-=2){6===u&&u--;for(let e=0;e<n;e++){const t=i?n-1-e:e;for(let e=0;e<2;e++)a.get(u-e,t)||(c++,l<<=1,this.bitMatrix.get(u-e,t)&&(l|=1),8===c&&(s[o++]=l,c=0,l=0))}i=!i}if(o!==t.getTotalCodewords())throw new T;return s}remask(){if(null===this.parsedFormatInfo)return;const e=At.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,a=e.getHeight();n<a;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class kt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new h;const n=t.getECBlocksForLevel(r);let a=0;const i=n.getECBlocks();for(const h of i)a+=h.getCount();const s=new Array(a);let o=0;for(const h of i)for(let e=0;e<h.getCount();e++){const e=h.getDataCodewords(),t=n.getECCodewordsPerBlock()+e;s[o++]=new kt(e,new Uint8Array(t))}const l=s[0].codewords.length;let c=s.length-1;for(;c>=0&&s[c].codewords.length!==l;)c--;c++;const u=l-n.getECCodewordsPerBlock();let d=0;for(let h=0;h<u;h++)for(let t=0;t<o;t++)s[t].codewords[h]=e[d++];for(let h=c;h<o;h++)s[h].codewords[u]=e[d++];const f=s[0].codewords.length;for(let h=u;h<f;h++)for(let t=0;t<o;t++){const r=t<c?h:h+1;s[t].codewords[r]=e[d++]}return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}($||($={}));class Nt{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,Nt.FOR_BITS.set(n,this),Nt.FOR_VALUE.set(e,this)}static forBits(e){const t=Nt.FOR_BITS.get(e);if(void 0===t)throw new h;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return r=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Nt))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}Nt.FOR_BITS=new Map,Nt.FOR_VALUE=new Map,Nt.TERMINATOR=new Nt($.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Nt.NUMERIC=new Nt($.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Nt.ALPHANUMERIC=new Nt($.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Nt.STRUCTURED_APPEND=new Nt($.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Nt.BYTE=new Nt($.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Nt.ECI=new Nt($.ECI,"ECI",Int32Array.from([0,0,0]),7),Nt.KANJI=new Nt($.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Nt.FNC1_FIRST_POSITION=new Nt($.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Nt.FNC1_SECOND_POSITION=new Nt($.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Nt.HANZI=new Nt($.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class xt{static decode(e,t,r,n){const a=new gt(e);let i=new k;const s=new Array;let o=-1,l=-1;try{let e,r=null,c=!1;do{if(a.available()<4)e=Nt.TERMINATOR;else{const t=a.readBits(4);e=Nt.forBits(t)}switch(e){case Nt.TERMINATOR:break;case Nt.FNC1_FIRST_POSITION:case Nt.FNC1_SECOND_POSITION:c=!0;break;case Nt.STRUCTURED_APPEND:if(a.available()<16)throw new T;o=a.readBits(8),l=a.readBits(8);break;case Nt.ECI:const u=xt.parseECIValue(a);if(r=C.getCharacterSetECIByValue(u),null===r)throw new T;break;case Nt.HANZI:const h=a.readBits(4),d=a.readBits(e.getCharacterCountBits(t));h===xt.GB2312_SUBSET&&xt.decodeHanziSegment(a,i,d);break;default:const f=a.readBits(e.getCharacterCountBits(t));switch(e){case Nt.NUMERIC:xt.decodeNumericSegment(a,i,f);break;case Nt.ALPHANUMERIC:xt.decodeAlphanumericSegment(a,i,f,c);break;case Nt.BYTE:xt.decodeByteSegment(a,i,f,r,s,n);break;case Nt.KANJI:xt.decodeKanjiSegment(a,i,f);break;default:throw new T}}}while(e!==Nt.TERMINATOR)}catch(c){throw new T}return new q(e,i.toString(),0===s.length?null:s,null===r?null:r.toString(),o,l)}static decodeHanziSegment(e,t,r){if(13*r>e.available())throw new T;const n=new Uint8Array(2*r);let a=0;for(;r>0;){const t=e.readBits(13);let i=t/96<<8&4294967295|t%96;i+=i<959?41377:42657,n[a]=i>>8&255,n[a+1]=255&i,a+=2,r--}try{t.append(A.decode(n,I.GB2312))}catch(i){throw new T(i)}}static decodeKanjiSegment(e,t,r){if(13*r>e.available())throw new T;const n=new Uint8Array(2*r);let a=0;for(;r>0;){const t=e.readBits(13);let i=t/192<<8&4294967295|t%192;i+=i<7936?33088:49472,n[a]=i>>8,n[a+1]=i,a+=2,r--}try{t.append(A.decode(n,I.SHIFT_JIS))}catch(i){throw new T(i)}}static decodeByteSegment(e,t,r,n,a,i){if(8*r>e.available())throw new T;const s=new Uint8Array(r);for(let c=0;c<r;c++)s[c]=e.readBits(8);let o;o=null===n?I.guessEncoding(s,i):n.getName();try{t.append(A.decode(s,o))}catch(l){throw new T(l)}a.push(s)}static toAlphaNumericChar(e){if(e>=xt.ALPHANUMERIC_CHARS.length)throw new T;return xt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const a=t.length();for(;r>1;){if(e.available()<11)throw new T;const n=e.readBits(11);t.append(xt.toAlphaNumericChar(Math.floor(n/45))),t.append(xt.toAlphaNumericChar(n%45)),r-=2}if(1===r){if(e.available()<6)throw new T;t.append(xt.toAlphaNumericChar(e.readBits(6)))}if(n)for(let i=a;i<t.length();i++)"%"===t.charAt(i)&&(i<t.length()-1&&"%"===t.charAt(i+1)?t.deleteCharAt(i+1):t.setCharAt(i,String.fromCharCode(29)))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new T;const n=e.readBits(10);if(n>=1e3)throw new T;t.append(xt.toAlphaNumericChar(Math.floor(n/100))),t.append(xt.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(xt.toAlphaNumericChar(n%10)),r-=3}if(2===r){if(e.available()<7)throw new T;const r=e.readBits(7);if(r>=100)throw new T;t.append(xt.toAlphaNumericChar(Math.floor(r/10))),t.append(xt.toAlphaNumericChar(r%10))}else if(1===r){if(e.available()<4)throw new T;const r=e.readBits(4);if(r>=10)throw new T;t.append(xt.toAlphaNumericChar(r))}}static parseECIValue(e){const t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new T}}xt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",xt.GB2312_SUBSET=1;class Dt{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Rt{constructor(){this.rsDecoder=new ne(ee.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(N.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new It(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(a){n=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const e=this.decodeBitMatrixParser(r,t);return e.setOther(new Dt(!0)),e}catch(a){if(null!==n)throw n;throw a}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),i=kt.getDataBlocks(a,r,n);let s=0;for(const c of i)s+=c.getNumDataCodewords();const o=new Uint8Array(s);let l=0;for(const c of i){const e=c.getCodewords(),t=c.getNumDataCodewords();this.correctErrors(e,t);for(let r=0;r<t;r++)o[l++]=e[r]}return xt.decode(o,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(n){throw new f}for(let a=0;a<t;a++)e[a]=r[a]}}class Mt extends oe{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,a=(this.getY()+e)/2,i=(this.estimatedModuleSize+r)/2;return new Mt(n,a,i)}}class Ot{constructor(e,t,r,n,a,i,s){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=a,this.moduleSize=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=e+this.width,n=this.startY+t/2,a=new Int32Array(3),i=this.image;for(let s=0;s<t;s++){const t=n+(0===(1&s)?Math.floor((s+1)/2):-Math.floor((s+1)/2));a[0]=0,a[1]=0,a[2]=0;let o=e;for(;o<r&&!i.get(o,t);)o++;let l=0;for(;o<r;){if(i.get(o,t))if(1===l)a[1]++;else if(2===l){if(this.foundPatternCross(a)){const e=this.handlePossibleCenter(a,t,o);if(null!==e)return e}a[0]=a[2],a[1]=1,a[2]=0,l=1}else a[++l]++;else 1===l&&l++,a[l]++;o++}if(this.foundPatternCross(a)){const e=this.handlePossibleCenter(a,t,r);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new x}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const a=this.image,i=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;let o=e;for(;o>=0&&a.get(t,o)&&s[1]<=r;)s[1]++,o--;if(o<0||s[1]>r)return NaN;for(;o>=0&&!a.get(t,o)&&s[0]<=r;)s[0]++,o--;if(s[0]>r)return NaN;for(o=e+1;o<i&&a.get(t,o)&&s[1]<=r;)s[1]++,o++;if(o===i||s[1]>r)return NaN;for(;o<i&&!a.get(t,o)&&s[2]<=r;)s[2]++,o++;if(s[2]>r)return NaN;const l=s[0]+s[1]+s[2];return 5*Math.abs(l-n)>=2*n?NaN:this.foundPatternCross(s)?Ot.centerFromEnd(s,o):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],a=Ot.centerFromEnd(e,r),i=this.crossCheckVertical(t,a,2*e[1],n);if(!isNaN(i)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,i,a))return e.combineEstimate(i,a,t);const r=new Mt(a,i,t);this.possibleCenters.push(r),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(r)}return null}}class Pt extends oe{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,void 0===n&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,a=(this.count*this.getX()+t)/n,i=(this.count*this.getY()+e)/n,s=(this.count*this.estimatedModuleSize+r)/n;return new Pt(a,i,s,n)}}class Lt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ft{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!==e&&void 0!==e&&void 0!==e.get(S.TRY_HARDER),r=null!==e&&void 0!==e&&void 0!==e.get(S.PURE_BARCODE),n=this.image,a=n.getHeight(),i=n.getWidth();let s=Math.floor(3*a/(4*Ft.MAX_MODULES));(s<Ft.MIN_SKIP||t)&&(s=Ft.MIN_SKIP);let o=!1;const l=new Int32Array(5);for(let u=s-1;u<a&&!o;u+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;let e=0;for(let t=0;t<i;t++)if(n.get(t,u))1===(1&e)&&e++,l[e]++;else if(0===(1&e))if(4===e)if(Ft.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,u,t,r)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;continue}if(s=2,!0===this.hasSkipped)o=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>l[2]&&(u+=e-l[2]-s,t=i-1)}e=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;else l[++e]++;else l[e]++;Ft.foundPatternCross(l)&&!0===this.handlePossibleCenter(l,u,i,r)&&(s=l[0],this.hasSkipped&&(o=this.haveMultiplyConfirmedCenters()))}const c=this.selectBestPatterns();return oe.orderBestPatterns(c),new Lt(c)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let a=0;a<5;a++){const r=e[a];if(0===r)return!1;t+=r}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const a=this.getCrossCheckStateCount();let i=0;const s=this.image;for(;e>=i&&t>=i&&s.get(t-i,e-i);)a[2]++,i++;if(e<i||t<i)return!1;for(;e>=i&&t>=i&&!s.get(t-i,e-i)&&a[1]<=r;)a[1]++,i++;if(e<i||t<i||a[1]>r)return!1;for(;e>=i&&t>=i&&s.get(t-i,e-i)&&a[0]<=r;)a[0]++,i++;if(a[0]>r)return!1;const o=s.getHeight(),l=s.getWidth();for(i=1;e+i<o&&t+i<l&&s.get(t+i,e+i);)a[2]++,i++;if(e+i>=o||t+i>=l)return!1;for(;e+i<o&&t+i<l&&!s.get(t+i,e+i)&&a[3]<r;)a[3]++,i++;if(e+i>=o||t+i>=l||a[3]>=r)return!1;for(;e+i<o&&t+i<l&&s.get(t+i,e+i)&&a[4]<r;)a[4]++,i++;if(a[4]>=r)return!1;const c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-n)<2*n&&Ft.foundPatternCross(a)}crossCheckVertical(e,t,r,n){const a=this.image,i=a.getHeight(),s=this.getCrossCheckStateCount();let o=e;for(;o>=0&&a.get(t,o);)s[2]++,o--;if(o<0)return NaN;for(;o>=0&&!a.get(t,o)&&s[1]<=r;)s[1]++,o--;if(o<0||s[1]>r)return NaN;for(;o>=0&&a.get(t,o)&&s[0]<=r;)s[0]++,o--;if(s[0]>r)return NaN;for(o=e+1;o<i&&a.get(t,o);)s[2]++,o++;if(o===i)return NaN;for(;o<i&&!a.get(t,o)&&s[3]<r;)s[3]++,o++;if(o===i||s[3]>=r)return NaN;for(;o<i&&a.get(t,o)&&s[4]<r;)s[4]++,o++;if(s[4]>=r)return NaN;const l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-n)>=2*n?NaN:Ft.foundPatternCross(s)?Ft.centerFromEnd(s,o):NaN}crossCheckHorizontal(e,t,r,n){const a=this.image,i=a.getWidth(),s=this.getCrossCheckStateCount();let o=e;for(;o>=0&&a.get(o,t);)s[2]++,o--;if(o<0)return NaN;for(;o>=0&&!a.get(o,t)&&s[1]<=r;)s[1]++,o--;if(o<0||s[1]>r)return NaN;for(;o>=0&&a.get(o,t)&&s[0]<=r;)s[0]++,o--;if(s[0]>r)return NaN;for(o=e+1;o<i&&a.get(o,t);)s[2]++,o++;if(o===i)return NaN;for(;o<i&&!a.get(o,t)&&s[3]<r;)s[3]++,o++;if(o===i||s[3]>=r)return NaN;for(;o<i&&a.get(o,t)&&s[4]<r;)s[4]++,o++;if(s[4]>=r)return NaN;const l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-n)>=n?NaN:Ft.foundPatternCross(s)?Ft.centerFromEnd(s,o):NaN}handlePossibleCenter(e,t,r,n){const a=e[0]+e[1]+e[2]+e[3]+e[4];let i=Ft.centerFromEnd(e,r),s=this.crossCheckVertical(t,Math.floor(i),e[2],a);if(!isNaN(s)&&(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(s),e[2],a),!isNaN(i)&&(!n||this.crossCheckDiagonal(Math.floor(s),Math.floor(i),e[2],a)))){const e=a/7;let t=!1;const r=this.possibleCenters;for(let n=0,a=r.length;n<a;n++){const a=r[n];if(a.aboutEquals(e,s,i)){r[n]=a.combineEstimate(s,i,e),t=!0;break}}if(!t){const t=new Pt(i,s,e);r.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Ft.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const i of this.possibleCenters)i.getCount()>=Ft.CENTER_QUORUM&&(e++,t+=i.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let a=0;for(const i of this.possibleCenters)a+=Math.abs(i.getEstimatedModuleSize()-n);return a<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new x;const t=this.possibleCenters;let r;if(e>3){let n=0,a=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();n+=t,a+=t*t}r=n/e;let i=Math.sqrt(a/e-r*r);t.sort(((e,t)=>{const n=Math.abs(t.getEstimatedModuleSize()-r),a=Math.abs(e.getEstimatedModuleSize()-r);return n<a?-1:n>a?1:0}));const s=Math.max(.2*r,i);for(let e=0;e<t.length&&t.length>3;e++){const n=t[e];Math.abs(n.getEstimatedModuleSize()-r)>s&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const r of t)e+=r.getEstimatedModuleSize();r=e/t.length,t.sort(((e,t)=>{if(t.getCount()===e.getCount()){const n=Math.abs(t.getEstimatedModuleSize()-r),a=Math.abs(e.getEstimatedModuleSize()-r);return n<a?1:n>a?-1:0}return t.getCount()-e.getCount()})),t.splice(3)}return[t[0],t[1],t[2]]}}Ft.CENTER_QUORUM=2,Ft.MIN_SKIP=3,Ft.MAX_MODULES=57;class Bt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null===e||void 0===e?null:e.get(S.NEED_RESULT_POINT_CALLBACK);const t=new Ft(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),a=this.calculateModuleSize(t,r,n);if(a<1)throw new x("No pattern found in proccess finder.");const i=Bt.computeDimension(t,r,n,a),s=_t.getProvisionalVersionForDimension(i),o=s.getDimensionForVersion()-7;let l=null;if(s.getAlignmentPatternCenters().length>0){const e=r.getX()-t.getX()+n.getX(),i=r.getY()-t.getY()+n.getY(),s=1-3/o,c=Math.floor(t.getX()+s*(e-t.getX())),u=Math.floor(t.getY()+s*(i-t.getY()));for(let t=4;t<=16;t<<=1)try{l=this.findAlignmentInRegion(a,c,u,t);break}catch(d){if(!(d instanceof x))throw d}}const c=Bt.createTransform(t,r,n,l,i),u=Bt.sampleGrid(this.image,c,i);let h;return h=null===l?[n,t,r]:[n,t,r,l],new le(u,h)}static createTransform(e,t,r,n,a){const i=a-3.5;let s,o,l,c;return null!==n?(s=n.getX(),o=n.getY(),l=i-3,c=l):(s=t.getX()-e.getX()+r.getX(),o=t.getY()-e.getY()+r.getY(),l=i,c=i),de.quadrilateralToQuadrilateral(3.5,3.5,i,3.5,l,c,3.5,i,e.getX(),e.getY(),t.getX(),t.getY(),s,o,r.getX(),r.getY())}static sampleGrid(e,t,r){return pe.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const a=ie.round(oe.distance(e,t)/n),i=ie.round(oe.distance(e,r)/n);let s=Math.floor((a+i)/2)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw new x("Dimensions could be not found.")}return s}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let a=this.sizeOfBlackWhiteBlackRun(e,t,r,n),i=1,s=e-(r-e);s<0?(i=e/(e-s),s=0):s>=this.image.getWidth()&&(i=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);let o=Math.floor(t-(n-t)*i);return i=1,o<0?(i=t/(t-o),o=0):o>=this.image.getHeight()&&(i=(this.image.getHeight()-1-t)/(o-t),o=this.image.getHeight()-1),s=Math.floor(e+(s-e)*i),a+=this.sizeOfBlackWhiteBlackRun(e,t,s,o),a-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const a=Math.abs(n-t)>Math.abs(r-e);if(a){let a=e;e=t,t=a,a=r,r=n,n=a}const i=Math.abs(r-e),s=Math.abs(n-t);let o=-i/2;const l=e<r?1:-1,c=t<n?1:-1;let u=0;const h=r+l;for(let d=e,f=t;d!==h;d+=l){const r=a?f:d,l=a?d:f;if(1===u===this.image.get(r,l)){if(2===u)return ie.distance(d,f,e,t);u++}if(o+=s,o>0){if(f===n)break;f+=c,o-=i}}return 2===u?ie.distance(r+l,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const a=Math.floor(n*e),i=Math.max(0,t-a),s=Math.min(this.image.getWidth()-1,t+a);if(s-i<3*e)throw new x("Alignment top exceeds estimated module size.");const o=Math.max(0,r-a),l=Math.min(this.image.getHeight()-1,r+a);if(l-o<3*e)throw new x("Alignment bottom exceeds estimated module size.");return new Ot(this.image,i,o,s-i,l-o,e,this.resultPointCallback).find()}}class Ut{constructor(){this.decoder=new Rt}getDecoder(){return this.decoder}decode(e,t){let r,n;if(void 0!==t&&null!==t&&void 0!==t.get(S.PURE_BARCODE)){const a=Ut.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),n=Ut.NO_POINTS}else{const a=new Bt(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(a.getBits(),t),n=a.getPoints()}r.getOther()instanceof Dt&&r.getOther().applyMirroredCorrection(n);const a=new V(r.getText(),r.getRawBytes(),void 0,n,H.QR_CODE,void 0),i=r.getByteSegments();null!==i&&a.putMetadata(X.BYTE_SEGMENTS,i);const s=r.getECLevel();return null!==s&&a.putMetadata(X.ERROR_CORRECTION_LEVEL,s),r.hasStructuredAppend()&&(a.putMetadata(X.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),a.putMetadata(X.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new x;const n=this.moduleSize(t,e);let a=t[1],i=r[1],s=t[0],o=r[0];if(s>=o||a>=i)throw new x;if(i-a!==o-s&&(o=s+(i-a),o>=e.getWidth()))throw new x;const l=Math.round((o-s+1)/n),c=Math.round((i-a+1)/n);if(l<=0||c<=0)throw new x;if(c!==l)throw new x;const u=Math.floor(n/2);a+=u,s+=u;const h=s+Math.floor((l-1)*n)-o;if(h>0){if(h>u)throw new x;s-=h}const d=a+Math.floor((c-1)*n)-i;if(d>0){if(d>u)throw new x;a-=d}const f=new N(l,c);for(let p=0;p<c;p++){const t=a+Math.floor(p*n);for(let r=0;r<l;r++)e.get(s+Math.floor(r*n),t)&&f.set(r,p)}return f}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let a=e[0],i=e[1],s=!0,o=0;for(;a<n&&i<r;){if(s!==t.get(a,i)){if(5===++o)break;s=!s}a++,i++}if(a===n||i===r)throw new x;return(a-e[0])/7}}Ut.NO_POINTS=new Array;class Vt{PDF417Common(){}static getBitCountSum(e){return ie.sum(e)}static toIntArray(e){if(null==e||!e.length)return Vt.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=w.binarySearch(Vt.SYMBOL_TABLE,262143&e);return t<0?-1:(Vt.CODEWORD_TABLE[t]-1)%Vt.NUMBER_OF_CODEWORDS}}Vt.NUMBER_OF_CODEWORDS=929,Vt.MAX_CODEWORDS_IN_BARCODE=Vt.NUMBER_OF_CODEWORDS-1,Vt.MIN_ROWS_IN_BARCODE=3,Vt.MAX_ROWS_IN_BARCODE=90,Vt.MODULES_IN_CODEWORD=17,Vt.MODULES_IN_STOP_PATTERN=18,Vt.BARS_IN_MODULE=8,Vt.EMPTY_INT_ARRAY=new Int32Array([]),Vt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Vt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class jt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Ht{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),a=Ht.detect(r,n);return a.length||(n=n.clone(),n.rotate180(),a=Ht.detect(r,n)),new jt(n,a)}static detect(e,t){const r=new Array;let n=0,a=0,i=!1;for(;n<t.getHeight();){const s=Ht.findVertices(t,n,a);if(null!=s[0]||null!=s[3]){if(i=!0,r.push(s),!e)break;null!=s[2]?(a=Math.trunc(s[2].getX()),n=Math.trunc(s[2].getY())):(a=Math.trunc(s[4].getX()),n=Math.trunc(s[4].getY()))}else{if(!i)break;i=!1,a=0;for(const e of r)null!=e[1]&&(n=Math.trunc(Math.max(n,e[1].getY()))),null!=e[3]&&(n=Math.max(n,Math.trunc(e[3].getY())));n+=Ht.ROW_STEP}}return r}static findVertices(e,t,r){const n=e.getHeight(),a=e.getWidth(),i=new Array(8);return Ht.copyToResult(i,Ht.findRowsWithPattern(e,n,a,t,r,Ht.START_PATTERN),Ht.INDEXES_START_PATTERN),null!=i[4]&&(r=Math.trunc(i[4].getX()),t=Math.trunc(i[4].getY())),Ht.copyToResult(i,Ht.findRowsWithPattern(e,n,a,t,r,Ht.STOP_PATTERN),Ht.INDEXES_STOP_PATTERN),i}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,a,i){const s=new Array(4);let o=!1;const l=new Int32Array(i.length);for(;n<t;n+=Ht.ROW_STEP){let t=Ht.findGuardPattern(e,a,n,r,!1,i,l);if(null!=t){for(;n>0;){const s=Ht.findGuardPattern(e,a,--n,r,!1,i,l);if(null==s){n++;break}t=s}s[0]=new oe(t[0],n),s[1]=new oe(t[1],n),o=!0;break}}let c=n+1;if(o){let n=0,a=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);for(;c<t;c++){const t=Ht.findGuardPattern(e,a[0],c,r,!1,i,l);if(null!=t&&Math.abs(a[0]-t[0])<Ht.MAX_PATTERN_DRIFT&&Math.abs(a[1]-t[1])<Ht.MAX_PATTERN_DRIFT)a=t,n=0;else{if(n>Ht.SKIPPED_ROW_COUNT_MAX)break;n++}}c-=n+1,s[2]=new oe(a[0],c),s[3]=new oe(a[1],c)}return c-n<Ht.BARCODE_MIN_HEIGHT&&w.fill(s,null),s}static findGuardPattern(e,t,r,n,a,i,s){w.fillWithin(s,0,s.length,0);let o=t,l=0;for(;e.get(o,r)&&o>0&&l++<Ht.MAX_PIXEL_DRIFT;)o--;let c=o,u=0,h=i.length;for(let d=a;c<n;c++)if(e.get(c,r)!==d)s[u]++;else{if(u===h-1){if(Ht.patternMatchVariance(s,i,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return new Int32Array([o,c]);o+=s[0]+s[1],g.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,d=!d}return u===h-1&&Ht.patternMatchVariance(s,i,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE?new Int32Array([o,c-1]):null}static patternMatchVariance(e,t,r){let n=e.length,a=0,i=0;for(let l=0;l<n;l++)a+=e[l],i+=t[l];if(a<i)return 1/0;let s=a/i;r*=s;let o=0;for(let l=0;l<n;l++){let n=e[l],a=t[l]*s,i=n>a?n-a:a-n;if(i>r)return 1/0;o+=i}return o/a}}Ht.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ht.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ht.MAX_AVG_VARIANCE=.42,Ht.MAX_INDIVIDUAL_VARIANCE=.8,Ht.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ht.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ht.MAX_PIXEL_DRIFT=3,Ht.MAX_PATTERN_DRIFT=5,Ht.SKIPPED_ROW_COUNT_MAX=25,Ht.ROW_STEP=5,Ht.BARCODE_MIN_HEIGHT=10;class zt{constructor(e,t){if(0===t.length)throw new h;this.field=e;let r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-e),g.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new h("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let e=t;t=r,r=e}let n=new Int32Array(r.length),a=r.length-t.length;g.arraycopy(r,0,n,0,a);for(let i=a;i<r.length;i++)n[i]=this.field.add(t[i-a],r[i]);return new zt(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new h("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof zt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new h("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new zt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,a=n.length,i=new Int32Array(r+a-1);for(let s=0;s<r;s++){let e=t[s];for(let t=0;t<a;t++)i[s+t]=this.field.add(i[s+t],this.field.multiply(e,n[t]))}return new zt(this.field,i)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new zt(this.field,t)}multiplyScalar(e){if(0===e)return new zt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new zt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new h;if(0===t)return new zt(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],t);return new zt(this.field,n)}toString(){let e=new k;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),0!==t&&1===r||e.append(r),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Wt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new h;return this.logTable[e]}inverse(e){if(0===e)throw new J;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Yt extends Wt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new zt(this,new Int32Array([0])),this.one=new zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new h;if(0===t)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new zt(this,r)}}Yt.PDF417_GF=new Yt(Vt.NUMBER_OF_CODEWORDS,3);class Gt{constructor(){this.field=Yt.PDF417_GF}decode(e,t,r){let n=new zt(this.field,e),a=new Int32Array(t),i=!1;for(let f=t;f>0;f--){let e=n.evaluateAt(this.field.exp(f));a[t-f]=e,0!==e&&(i=!0)}if(!i)return 0;let s=this.field.getOne();if(null!=r)for(const f of r){let t=this.field.exp(e.length-1-f),r=new zt(this.field,new Int32Array([this.field.subtract(0,t),1]));s=s.multiply(r)}let o=new zt(this.field,a),l=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),o,t),c=l[0],u=l[1],h=this.findErrorLocations(c),d=this.findErrorMagnitudes(u,c,h);for(let p=0;p<h.length;p++){let t=e.length-1-this.field.log(h[p]);if(t<0)throw f.getChecksumInstance();e[t]=this.field.subtract(e[t],d[p])}return h.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let r=e;e=t,t=r}let n=e,a=t,i=this.field.getZero(),s=this.field.getOne();for(;a.getDegree()>=Math.round(r/2);){let e=n,t=i;if(n=a,i=s,n.isZero())throw f.getChecksumInstance();a=e;let r=this.field.getZero(),o=n.getCoefficient(n.getDegree()),l=this.field.inverse(o);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){let e=a.getDegree()-n.getDegree(),t=this.field.multiply(a.getCoefficient(a.getDegree()),l);r=r.add(this.field.buildMonomial(e,t)),a=a.subtract(n.multiplyByMonomial(e,t))}s=r.multiply(i).subtract(t).negative()}let o=s.getCoefficient(0);if(0===o)throw f.getChecksumInstance();let l=this.field.inverse(o);return[s.multiply(l),a.multiply(l)]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let a=1;a<this.field.getSize()&&n<t;a++)0===e.evaluateAt(a)&&(r[n]=this.field.inverse(a),n++);if(n!==t)throw f.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),a=new Int32Array(n);for(let l=1;l<=n;l++)a[n-l]=this.field.multiply(l,t.getCoefficient(l));let i=new zt(this.field,a),s=r.length,o=new Int32Array(s);for(let l=0;l<s;l++){let t=this.field.inverse(r[l]),n=this.field.subtract(0,e.evaluateAt(t)),a=this.field.inverse(i.evaluateAt(t));o[l]=this.field.multiply(n,a)}return o}}class $t{constructor(e,t,r,n,a){e instanceof $t?this.constructor_2(e):this.constructor_1(e,t,r,n,a)}constructor_1(e,t,r,n,a){const i=null==t||null==r,s=null==n||null==a;if(i&&s)throw new x;i?(t=new oe(0,n.getY()),r=new oe(0,a.getY())):s&&(n=new oe(e.getWidth()-1,t.getY()),a=new oe(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new $t(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,a=this.bottomLeft,i=this.topRight,s=this.bottomRight;if(e>0){let t=r?this.topLeft:this.topRight,a=Math.trunc(t.getY()-e);a<0&&(a=0);let s=new oe(t.getX(),a);r?n=s:i=s}if(t>0){let e=r?this.bottomLeft:this.bottomRight,n=Math.trunc(e.getY()+t);n>=this.image.getHeight()&&(n=this.image.getHeight()-1);let i=new oe(e.getX(),n);r?a=i:s=i}return new $t(this.image,n,a,i,s)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Kt{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xt{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(e,n,a,i,s,o){if("%%"===e)return"%";if(void 0===t[++r])return;e=i?parseInt(i.substr(1)):void 0;let l,c=s?parseInt(s.substr(1)):void 0;switch(o){case"s":l=t[r];break;case"c":l=t[r][0];break;case"f":l=parseFloat(t[r]).toFixed(e);break;case"p":l=parseFloat(t[r]).toPrecision(e);break;case"e":l=parseFloat(t[r]).toExponential(e);break;case"x":l=parseInt(t[r]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[r],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(a),h=a&&a[0]+""==="0"?"0":" ";for(;l.length<u;)l=void 0!==n?l+h:h+l;return l}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,n)}format(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.buffer+=Xt.form(e,r)}toString(){return this.buffer}}class qt{constructor(e){this.boundingBox=new $t(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let r=1;r<qt.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],null!=t))return t;if(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Xt;let t=0;for(const r of this.codewords)null!=r?e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}qt.MAX_NEARBY_DISTANCE=5;class Qt{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const a={getKey:()=>r,getValue:()=>n};a.getValue()>e?(e=a.getValue(),t=[],t.push(a.getKey())):a.getValue()===e&&t.push(a.getKey())}return Vt.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Zt extends qt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=-1,l=1,c=0;for(let u=i;u<s;u++){if(null==t[u])continue;let r=t[u],n=r.getRowNumber()-o;if(0===n)c++;else if(1===n)l=Math.max(l,c),c=1,o=r.getRowNumber();else if(n<0||r.getRowNumber()>=e.getRowCount()||n>u)t[u]=null;else{let e;e=l>2?(l-2)*n:n;let a=e>=u;for(let r=1;r<=e&&!a;r++)a=null!=t[u-r];a?t[u]=null:(o=r.getRowNumber(),c=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(null!=r){let e=r.getRowNumber();if(e>=t.length)continue;t[e]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.getCodewords(),o=-1;for(let l=a;l<i;l++){if(null==s[l])continue;let t=s[l];t.setRowNumberAsRowIndicatorColumn();let r=t.getRowNumber()-o;0===r||(1===r?o=t.getRowNumber():t.getRowNumber()>=e.getRowCount()?s[l]=null:o=t.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Qt,r=new Qt,n=new Qt,a=new Qt;for(let s of e){if(null==s)continue;s.setRowNumberAsRowIndicatorColumn();let e=s.getValue()%30,i=s.getRowNumber();switch(this._isLeft||(i+=2),i%3){case 0:r.setValue(3*e+1);break;case 1:a.setValue(e/3),n.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===r.getValue().length||0===n.getValue().length||0===a.getValue().length||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Vt.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Vt.MAX_ROWS_IN_BARCODE)return null;let i=new Kt(t.getValue()[0],r.getValue()[0],n.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,i),i}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(null==e[r])continue;let a=n.getValue()%30,i=n.getRowNumber();if(i>t.getRowCount())e[r]=null;else switch(this._isLeft||(i+=2),i%3){case 0:3*a+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:Math.trunc(a/3)===t.getErrorCorrectionLevel()&&a%3===t.getRowCountLowerPart()||(e[r]=null);break;case 2:a+1!==t.getColumnCount()&&(e[r]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Jt{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Vt.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let r=0;r<e.length;r++)null!=e[r]&&(e[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,e))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(null!=e[r]&&null!=t[r]&&e[r].getRowNumber()===t[r].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let n=this.detectionResultColumns[t].getCodewords()[r];null!=n&&(n.setRowNumber(e[r].getRowNumber()),n.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),a=0;for(let t=this.barcodeColumnCount+1;t>0&&a<this.ADJUST_ROW_NUMBER_SKIP;t--){let i=this.detectionResultColumns[t].getCodewords()[r];null!=i&&(a=Jt.adjustRowNumberIfValid(n,a,i),i.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),a=0;for(let t=1;t<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;t++){let i=this.detectionResultColumns[t].getCodewords()[r];null!=i&&(a=Jt.adjustRowNumberIfValid(n,a,i),i.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],a=this.detectionResultColumns[e-1].getCodewords(),i=a;null!=this.detectionResultColumns[e+1]&&(i=this.detectionResultColumns[e+1].getCodewords());let s=new Array(14);s[2]=a[t],s[3]=i[t],t>0&&(s[0]=r[t-1],s[4]=a[t-1],s[5]=i[t-1]),t>1&&(s[8]=r[t-2],s[10]=a[t-2],s[11]=i[t-2]),t<r.length-1&&(s[1]=r[t+1],s[6]=a[t+1],s[7]=i[t+1]),t<r.length-2&&(s[9]=r[t+2],s[12]=a[t+2],s[13]=i[t+2]);for(let o of s)if(Jt.adjustRowNumber(n,o))return}static adjustRowNumber(e,t){return null!=t&&!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0)}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Xt;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let n=this.detectionResultColumns[e].getCodewords()[r];null!=n?t.format(" %3d|%3d",n.getRowNumber(),n.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class er{constructor(e,t,r,n){this.rowNumber=er.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==er.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}er.BARCODE_ROW_UNKNOWN=-1;class tr{static initialize(){for(let e=0;e<Vt.SYMBOL_TABLE.length;e++){let t=Vt.SYMBOL_TABLE[e],r=1&t;for(let n=0;n<Vt.BARS_IN_MODULE;n++){let a=0;for(;(1&t)===r;)a+=1,t>>=1;r=1&t,tr.RATIOS_TABLE[e]||(tr.RATIOS_TABLE[e]=new Array(Vt.BARS_IN_MODULE)),tr.RATIOS_TABLE[e][Vt.BARS_IN_MODULE-n-1]=Math.fround(a/Vt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=tr.getDecodedCodewordValue(tr.sampleBitCounts(e));return-1!==t?t:tr.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ie.sum(e),r=new Int32Array(Vt.BARS_IN_MODULE),n=0,a=0;for(let i=0;i<Vt.MODULES_IN_CODEWORD;i++){let s=t/(2*Vt.MODULES_IN_CODEWORD)+i*t/Vt.MODULES_IN_CODEWORD;a+e[n]<=s&&(a+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=tr.getBitValue(e);return-1===Vt.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ie.sum(e),r=new Array(Vt.BARS_IN_MODULE);if(t>1)for(let i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);let n=se.MAX_VALUE,a=-1;this.bSymbolTableReady||tr.initialize();for(let i=0;i<tr.RATIOS_TABLE.length;i++){let e=0,t=tr.RATIOS_TABLE[i];for(let a=0;a<Vt.BARS_IN_MODULE;a++){let i=Math.fround(t[a]-r[a]);if(e+=Math.fround(i*i),e>=n)break}e<n&&(n=e,a=Vt.SYMBOL_TABLE[i])}return a}}tr.bSymbolTableReady=!1,tr.RATIOS_TABLE=new Array(Vt.SYMBOL_TABLE.length).map((e=>new Array(Vt.BARS_IN_MODULE)));class rr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class nr{static parseLong(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}class ar extends c{}ar.kind="NullPointerException";class ir{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(null==e)throw new ar;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new m;if(0!==r)for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class sr extends c{}class or extends ir{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(super(),this.count=0,e<0)throw new h("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new sr;t=y.MAX_VALUE}this.buf=w.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new m;this.ensureCapacity(this.count+r),g.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return w.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function lr(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof r.g)return r.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let cr;function ur(e){if("undefined"===typeof cr&&(cr=lr()),null===cr)throw new Error("BigInt is not supported!");return cr(e)}function hr(){let e=[];e[0]=ur(1);let t=ur(900);e[1]=t;for(let r=2;r<16;r++)e[r]=e[r-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(K||(K={}));class dr{static decode(e,t){let r=new k(""),n=C.ISO8859_1;r.enableDecoding(n);let a=1,i=e[a++],s=new rr;for(;a<e[0];){switch(i){case dr.TEXT_COMPACTION_MODE_LATCH:a=dr.textCompaction(e,a,r);break;case dr.BYTE_COMPACTION_MODE_LATCH:case dr.BYTE_COMPACTION_MODE_LATCH_6:a=dr.byteCompaction(i,e,n,a,r);break;case dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case dr.NUMERIC_COMPACTION_MODE_LATCH:a=dr.numericCompaction(e,a,r);break;case dr.ECI_CHARSET:C.getCharacterSetECIByValue(e[a++]);break;case dr.ECI_GENERAL_PURPOSE:a+=2;break;case dr.ECI_USER_DEFINED:a++;break;case dr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=dr.decodeMacroBlock(e,a,s);break;case dr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dr.MACRO_PDF417_TERMINATOR:throw new T;default:a--,a=dr.textCompaction(e,a,r)}if(!(a<e.length))throw T.getFormatInstance();i=e[a++]}if(0===r.length())throw T.getFormatInstance();let o=new q(null,r.toString(),null,t);return o.setOther(s),o}static decodeMacroBlock(e,t,r){if(t+dr.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw T.getFormatInstance();let n=new Int32Array(dr.NUMBER_OF_SEQUENCE_CODEWORDS);for(let s=0;s<dr.NUMBER_OF_SEQUENCE_CODEWORDS;s++,t++)n[s]=e[t];r.setSegmentIndex(y.parseInt(dr.decodeBase900toBase10(n,dr.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new k;t=dr.textCompaction(e,t,a),r.setFileId(a.toString());let i=-1;for(e[t]===dr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(i=t+1);t<e[0];)switch(e[t]){case dr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case dr.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let n=new k;t=dr.textCompaction(e,t+1,n),r.setFileName(n.toString());break;case dr.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let a=new k;t=dr.textCompaction(e,t+1,a),r.setSender(a.toString());break;case dr.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let i=new k;t=dr.textCompaction(e,t+1,i),r.setAddressee(i.toString());break;case dr.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let s=new k;t=dr.numericCompaction(e,t+1,s),r.setSegmentCount(y.parseInt(s.toString()));break;case dr.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let o=new k;t=dr.numericCompaction(e,t+1,o),r.setTimestamp(nr.parseLong(o.toString()));break;case dr.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let l=new k;t=dr.numericCompaction(e,t+1,l),r.setChecksum(y.parseInt(l.toString()));break;case dr.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let c=new k;t=dr.numericCompaction(e,t+1,c),r.setFileSize(nr.parseLong(c.toString()));break;default:throw T.getFormatInstance()}break;case dr.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw T.getFormatInstance()}if(-1!==i){let n=t-i;r.isLastSegment()&&n--,r.setOptionalData(w.copyOfRange(e,i,i+n))}return t}static textCompaction(e,t,r){let n=new Int32Array(2*(e[0]-t)),a=new Int32Array(2*(e[0]-t)),i=0,s=!1;for(;t<e[0]&&!s;){let r=e[t++];if(r<dr.TEXT_COMPACTION_MODE_LATCH)n[i]=r/30,n[i+1]=r%30,i+=2;else switch(r){case dr.TEXT_COMPACTION_MODE_LATCH:n[i++]=dr.TEXT_COMPACTION_MODE_LATCH;break;case dr.BYTE_COMPACTION_MODE_LATCH:case dr.BYTE_COMPACTION_MODE_LATCH_6:case dr.NUMERIC_COMPACTION_MODE_LATCH:case dr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dr.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[i]=dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,r=e[t++],a[i]=r,i++}}return dr.decodeTextCompaction(n,a,i,r),t}static decodeTextCompaction(e,t,r,n){let a=K.ALPHA,i=K.ALPHA,s=0;for(;s<r;){let r=e[s],o="";switch(a){case K.ALPHA:if(r<26)o=String.fromCharCode(65+r);else switch(r){case 26:o=" ";break;case dr.LL:a=K.LOWER;break;case dr.ML:a=K.MIXED;break;case dr.PS:i=a,a=K.PUNCT_SHIFT;break;case dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case dr.TEXT_COMPACTION_MODE_LATCH:a=K.ALPHA}break;case K.LOWER:if(r<26)o=String.fromCharCode(97+r);else switch(r){case 26:o=" ";break;case dr.AS:i=a,a=K.ALPHA_SHIFT;break;case dr.ML:a=K.MIXED;break;case dr.PS:i=a,a=K.PUNCT_SHIFT;break;case dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case dr.TEXT_COMPACTION_MODE_LATCH:a=K.ALPHA}break;case K.MIXED:if(r<dr.PL)o=dr.MIXED_CHARS[r];else switch(r){case dr.PL:a=K.PUNCT;break;case 26:o=" ";break;case dr.LL:a=K.LOWER;break;case dr.AL:a=K.ALPHA;break;case dr.PS:i=a,a=K.PUNCT_SHIFT;break;case dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case dr.TEXT_COMPACTION_MODE_LATCH:a=K.ALPHA}break;case K.PUNCT:if(r<dr.PAL)o=dr.PUNCT_CHARS[r];else switch(r){case dr.PAL:a=K.ALPHA;break;case dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case dr.TEXT_COMPACTION_MODE_LATCH:a=K.ALPHA}break;case K.ALPHA_SHIFT:if(a=i,r<26)o=String.fromCharCode(65+r);else switch(r){case 26:o=" ";break;case dr.TEXT_COMPACTION_MODE_LATCH:a=K.ALPHA}break;case K.PUNCT_SHIFT:if(a=i,r<dr.PAL)o=dr.PUNCT_CHARS[r];else switch(r){case dr.PAL:a=K.ALPHA;break;case dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case dr.TEXT_COMPACTION_MODE_LATCH:a=K.ALPHA}}""!==o&&n.append(o),s++}}static byteCompaction(e,t,r,n,a){let i=new or,s=0,o=0,l=!1;switch(e){case dr.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),r=t[n++];for(;n<t[0]&&!l;)switch(e[s++]=r,o=900*o+r,r=t[n++],r){case dr.TEXT_COMPACTION_MODE_LATCH:case dr.BYTE_COMPACTION_MODE_LATCH:case dr.NUMERIC_COMPACTION_MODE_LATCH:case dr.BYTE_COMPACTION_MODE_LATCH_6:case dr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dr.MACRO_PDF417_TERMINATOR:n--,l=!0;break;default:if(s%5===0&&s>0){for(let e=0;e<6;++e)i.write(Number(ur(o)>>ur(8*(5-e))));o=0,s=0}}n===t[0]&&r<dr.TEXT_COMPACTION_MODE_LATCH&&(e[s++]=r);for(let t=0;t<s;t++)i.write(e[t]);break;case dr.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!l;){let e=t[n++];if(e<dr.TEXT_COMPACTION_MODE_LATCH)s++,o=900*o+e;else switch(e){case dr.TEXT_COMPACTION_MODE_LATCH:case dr.BYTE_COMPACTION_MODE_LATCH:case dr.NUMERIC_COMPACTION_MODE_LATCH:case dr.BYTE_COMPACTION_MODE_LATCH_6:case dr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dr.MACRO_PDF417_TERMINATOR:n--,l=!0}if(s%5===0&&s>0){for(let e=0;e<6;++e)i.write(Number(ur(o)>>ur(8*(5-e))));o=0,s=0}}}return a.append(A.decode(i.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,a=!1,i=new Int32Array(dr.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!a;){let s=e[t++];if(t===e[0]&&(a=!0),s<dr.TEXT_COMPACTION_MODE_LATCH)i[n]=s,n++;else switch(s){case dr.TEXT_COMPACTION_MODE_LATCH:case dr.BYTE_COMPACTION_MODE_LATCH:case dr.BYTE_COMPACTION_MODE_LATCH_6:case dr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dr.MACRO_PDF417_TERMINATOR:t--,a=!0}(n%dr.MAX_NUMERIC_CODEWORDS===0||s===dr.NUMERIC_COMPACTION_MODE_LATCH||a)&&n>0&&(r.append(dr.decodeBase900toBase10(i,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=ur(0);for(let a=0;a<t;a++)r+=dr.EXP900[t-a-1]*ur(e[a]);let n=r.toString();if("1"!==n.charAt(0))throw new T;return n.substring(1)}}dr.TEXT_COMPACTION_MODE_LATCH=900,dr.BYTE_COMPACTION_MODE_LATCH=901,dr.NUMERIC_COMPACTION_MODE_LATCH=902,dr.BYTE_COMPACTION_MODE_LATCH_6=924,dr.ECI_USER_DEFINED=925,dr.ECI_GENERAL_PURPOSE=926,dr.ECI_CHARSET=927,dr.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,dr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,dr.MACRO_PDF417_TERMINATOR=922,dr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,dr.MAX_NUMERIC_CODEWORDS=15,dr.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,dr.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,dr.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,dr.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,dr.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,dr.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,dr.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,dr.PL=25,dr.LL=27,dr.AS=27,dr.ML=28,dr.AL=28,dr.PS=29,dr.PAL=29,dr.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",dr.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",dr.EXP900=lr()?hr():[],dr.NUMBER_OF_SEQUENCE_CODEWORDS=2;class fr{constructor(){}static decode(e,t,r,n,a,i,s){let o,l=new $t(e,t,r,n,a),c=null,u=null;for(let f=!0;;f=!1){if(null!=t&&(c=fr.getRowIndicatorColumn(e,l,t,!0,i,s)),null!=n&&(u=fr.getRowIndicatorColumn(e,l,n,!1,i,s)),o=fr.merge(c,u),null==o)throw x.getNotFoundInstance();let r=o.getBoundingBox();if(!f||null==r||!(r.getMinY()<l.getMinY()||r.getMaxY()>l.getMaxY()))break;l=r}o.setBoundingBox(l);let h=o.getBarcodeColumnCount()+1;o.setDetectionResultColumn(0,c),o.setDetectionResultColumn(h,u);let d=null!=c;for(let f=1;f<=h;f++){let t,r=d?f:h-f;if(void 0!==o.getDetectionResultColumn(r))continue;t=0===r||r===h?new Zt(l,0===r):new qt(l),o.setDetectionResultColumn(r,t);let n=-1,a=n;for(let c=l.getMinY();c<=l.getMaxY();c++){if(n=fr.getStartColumn(o,r,c,d),n<0||n>l.getMaxX()){if(-1===a)continue;n=a}let u=fr.detectCodeword(e,l.getMinX(),l.getMaxX(),d,n,c,i,s);null!=u&&(t.setCodeword(c,u),a=n,i=Math.min(i,u.getWidth()),s=Math.max(s,u.getWidth()))}}return fr.createDecoderResult(o)}static merge(e,t){if(null==e&&null==t)return null;let r=fr.getBarcodeMetadata(e,t);if(null==r)return null;let n=$t.merge(fr.adjustBoundingBox(e),fr.adjustBoundingBox(t));return new Jt(r,n)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let r=fr.getMax(t),n=0;for(let s of t)if(n+=r-s,s>0)break;let a=e.getCodewords();for(let s=0;n>0&&null==a[s];s++)n--;let i=0;for(let s=t.length-1;s>=0&&(i+=r-t[s],!(t[s]>0));s--);for(let s=a.length-1;i>0&&null==a[s];s--)i--;return e.getBoundingBox().addMissingRows(n,i,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r,n;return null==e||null==(r=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(n=t.getBarcodeMetadata())?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,a,i){let s=new Zt(t,n);for(let o=0;o<2;o++){let l=0===o?1:-1,c=Math.trunc(Math.trunc(r.getX()));for(let o=Math.trunc(Math.trunc(r.getY()));o<=t.getMaxY()&&o>=t.getMinY();o+=l){let t=fr.detectCodeword(e,0,e.getWidth(),n,c,o,a,i);null!=t&&(s.setCodeword(o,t),c=n?t.getStartX():t.getEndX())}}return s}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-fr.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===n.length){if(a<1||a>Vt.MAX_CODEWORDS_IN_BARCODE)throw x.getNotFoundInstance();r.setValue(a)}else n[0]!==a&&r.setValue(a)}static createDecoderResult(e){let t=fr.createBarcodeMatrix(e);fr.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],i=new Array;for(let o=0;o<e.getBarcodeRowCount();o++)for(let s=0;s<e.getBarcodeColumnCount();s++){let l=t[o][s+1].getValue(),c=o*e.getBarcodeColumnCount()+s;0===l.length?r.push(c):1===l.length?n[c]=l[0]:(i.push(c),a.push(l))}let s=new Array(a.length);for(let o=0;o<s.length;o++)s[o]=a[o];return fr.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Vt.toIntArray(r),Vt.toIntArray(i),s)}static createDecoderResultFromAmbiguousValues(e,t,r,n,a){let i=new Int32Array(n.length),s=100;for(;s-- >0;){for(let e=0;e<i.length;e++)t[n[e]]=a[e][i[e]];try{return fr.decodeCodewords(t,e,r)}catch(o){if(!(o instanceof f))throw o}if(0===i.length)throw f.getChecksumInstance();for(let e=0;e<i.length;e++){if(i[e]<a[e].length-1){i[e]++;break}if(i[e]=0,e===i.length-1)throw f.getChecksumInstance()}}throw f.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},(()=>new Array(e.getBarcodeColumnCount()+2)));for(let n=0;n<t.length;n++)for(let e=0;e<t[n].length;e++)t[n][e]=new Qt;let r=0;for(let n of e.getDetectionResultColumns()){if(null!=n)for(let e of n.getCodewords())if(null!=e){let n=e.getRowNumber();if(n>=0){if(n>=t.length)continue;t[n][r].setValue(e.getValue())}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let a=n?1:-1,i=null;if(fr.isValidBarcodeColumn(e,t-a)&&(i=e.getDetectionResultColumn(t-a).getCodeword(r)),null!=i)return n?i.getEndX():i.getStartX();if(i=e.getDetectionResultColumn(t).getCodewordNearby(r),null!=i)return n?i.getStartX():i.getEndX();if(fr.isValidBarcodeColumn(e,t-a)&&(i=e.getDetectionResultColumn(t-a).getCodewordNearby(r)),null!=i)return n?i.getEndX():i.getStartX();let s=0;for(;fr.isValidBarcodeColumn(e,t-a);){t-=a;for(let r of e.getDetectionResultColumn(t).getCodewords())if(null!=r)return(n?r.getEndX():r.getStartX())+a*s*(r.getEndX()-r.getStartX());s++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,a,i,s,o){a=fr.adjustCodewordStartColumn(e,t,r,n,a,i);let l,c=fr.getModuleBitCount(e,t,r,n,a,i);if(null==c)return null;let u=ie.sum(c);if(n)l=a+u;else{for(let e=0;e<c.length/2;e++){let t=c[e];c[e]=c[c.length-1-e],c[c.length-1-e]=t}l=a,a=l-u}if(!fr.checkCodewordSkew(u,s,o))return null;let h=tr.getDecodedValue(c),d=Vt.getCodeword(h);return-1===d?null:new er(a,l,fr.getCodewordBucketNumber(h),d)}static getModuleBitCount(e,t,r,n,a,i){let s=a,o=new Int32Array(8),l=0,c=n?1:-1,u=n;for(;(n?s<r:s>=t)&&l<o.length;)e.get(s,i)===u?(o[l]++,s+=c):(l++,u=!u);return l===o.length||s===(n?r:t)&&l===o.length-1?o:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,a,i){let s=a,o=n?-1:1;for(let l=0;l<2;l++){for(;(n?s>=t:s<r)&&n===e.get(s,i);){if(Math.abs(a-s)>fr.CODEWORD_SKEW_SIZE)return a;s+=o}o=-o,n=!n}return s}static checkCodewordSkew(e,t,r){return t-fr.CODEWORD_SKEW_SIZE<=e&&e<=r+fr.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(0===e.length)throw T.getFormatInstance();let n=1<<t+1,a=fr.correctErrors(e,r,n);fr.verifyCodewordCount(e,n);let i=dr.decode(e,""+t);return i.setErrorsCorrected(a),i.setErasures(r.length),i}static correctErrors(e,t,r){if(null!=t&&t.length>r/2+fr.MAX_ERRORS||r<0||r>fr.MAX_EC_CODEWORDS)throw f.getChecksumInstance();return fr.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw T.getFormatInstance();let r=e[0];if(r>e.length)throw T.getFormatInstance();if(0===r){if(!(t<e.length))throw T.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((1&e)!==r&&(r=1&e,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return fr.getCodewordBucketNumber(fr.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Xt;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let a=e[r][n];0===a.getValue().length?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()}}fr.CODEWORD_SKEW_SIZE=2,fr.MAX_ERRORS=3,fr.MAX_EC_CODEWORDS=512,fr.errorCorrection=new Gt;class pr{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=pr.decode(e,t,!1);if(null==r||0===r.length||null==r[0])throw x.getNotFoundInstance();return r[0]}decodeMultiple(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return pr.decode(e,t,!0)}catch(r){if(r instanceof T||r instanceof f)throw x.getNotFoundInstance();throw r}}static decode(e,t,r){const n=new Array,a=Ht.detectMultiple(e,t,r);for(const i of a.getPoints()){const e=fr.decode(a.getBits(),i[4],i[5],i[6],i[7],pr.getMinCodewordWidth(i),pr.getMaxCodewordWidth(i)),t=new V(e.getText(),e.getRawBytes(),void 0,i,H.PDF_417);t.putMetadata(X.ERROR_CORRECTION_LEVEL,e.getECLevel());const r=e.getOther();null!=r&&t.putMetadata(X.PDF417_EXTRA_METADATA,r),n.push(t)}return n.map((e=>e))}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?y.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(pr.getMaxWidth(e[0],e[4]),pr.getMaxWidth(e[6],e[2])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN),Math.max(pr.getMaxWidth(e[1],e[5]),pr.getMaxWidth(e[7],e[3])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(pr.getMinWidth(e[0],e[4]),pr.getMinWidth(e[6],e[2])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN),Math.min(pr.getMinWidth(e[1],e[5]),pr.getMinWidth(e[7],e[3])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN)))}reset(){}}class gr extends c{}gr.kind="ReaderException";class mr{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!t(e)&&!0===e.get(S.TRY_HARDER),n=t(e)?null:e.get(S.POSSIBLE_FORMATS),a=new Array;if(!t(n)){const t=n.some((e=>e===H.UPC_A||e===H.UPC_E||e===H.EAN_13||e===H.EAN_8||e===H.CODABAR||e===H.CODE_39||e===H.CODE_93||e===H.CODE_128||e===H.ITF||e===H.RSS_14||e===H.RSS_EXPANDED));t&&!r&&a.push(new lt(e,this.verbose)),n.includes(H.QR_CODE)&&a.push(new Ut),n.includes(H.DATA_MATRIX)&&a.push(new yt),n.includes(H.AZTEC)&&a.push(new ve),n.includes(H.PDF_417)&&a.push(new pr),t&&r&&a.push(new lt(e,this.verbose))}0===a.length&&(r||a.push(new lt(e,this.verbose)),a.push(new Ut),a.push(new yt),a.push(new ve),a.push(new pr),r&&a.push(new lt(e,this.verbose))),this.readers=a}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new gr("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(t){if(t instanceof gr)continue}throw new x("No MultiFormat Readers were able to detect the code.")}}class vr extends U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const r=new mr;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class wr extends U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new pr,e)}}class yr extends U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new Ut,e)}}var br;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(br||(br={}));var Er=br;class Sr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Z(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let a=t.length;a<=e;a++){const e=r.multiply(new Z(n,Int32Array.from([1,n.exp(a-1+n.getGeneratorBase())])));t.push(e),r=e}}return t[e]}encode(e,t){if(0===t)throw new h("No error correction bytes");const r=e.length-t;if(r<=0)throw new h("No data bytes provided");const n=this.buildGenerator(t),a=new Int32Array(r);g.arraycopy(e,0,a,0,r);let i=new Z(this.field,a);i=i.multiplyByMonomial(t,1);const s=i.divide(n)[1].getCoefficients(),o=t-s.length;for(let l=0;l<o;l++)e[r+l]=0;g.arraycopy(s,0,e,r+o,s.length)}}class Tr{constructor(){}static applyMaskPenaltyRule1(e){return Tr.applyMaskPenaltyRule1Internal(e,!0)+Tr.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let i=0;i<a-1;i++){const e=r[i];for(let a=0;a<n-1;a++){const n=e[a];n===e[a+1]&&n===r[i+1][a]&&n===r[i+1][a+1]&&t++}}return Tr.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let i=0;i<a;i++)for(let e=0;e<n;e++){const s=r[i];e+6<n&&1===s[e]&&0===s[e+1]&&1===s[e+2]&&1===s[e+3]&&1===s[e+4]&&0===s[e+5]&&1===s[e+6]&&(Tr.isWhiteHorizontal(s,e-4,e)||Tr.isWhiteHorizontal(s,e+7,e+11))&&t++,i+6<a&&1===r[i][e]&&0===r[i+1][e]&&1===r[i+2][e]&&1===r[i+3][e]&&1===r[i+4][e]&&0===r[i+5][e]&&1===r[i+6][e]&&(Tr.isWhiteVertical(r,e,i-4,i)||Tr.isWhiteVertical(r,e,i+7,i+11))&&t++}return t*Tr.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(1===e[n])return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let a=r;a<n;a++)if(1===e[a][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let s=0;s<a;s++){const e=r[s];for(let r=0;r<n;r++)1===e[r]&&t++}const i=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-i)/i)*Tr.N4}static getDataMaskBit(e,t,r){let n,a;switch(e){case 0:n=r+t&1;break;case 1:n=1&r;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,n=(1&a)+a%3;break;case 6:a=r*t,n=(1&a)+a%3&1;break;case 7:a=r*t,n=a%3+(r+t&1)&1;break;default:throw new h("Invalid mask pattern: "+e)}return 0===n}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),i=e.getArray();for(let s=0;s<n;s++){let e=0,n=-1;for(let o=0;o<a;o++){const a=t?i[s][o]:i[o][s];a===n?e++:(e>=5&&(r+=Tr.N1+(e-5)),e=1,n=a)}e>=5&&(r+=Tr.N1+(e-5))}return r}}Tr.N1=3,Tr.N2=3,Tr.N3=40,Tr.N4=10;class Cr{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)w.fill(t,e)}equals(e){if(!(e instanceof Cr))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const e=this.bytes[r],n=t.bytes[r];for(let t=0,r=this.width;t<r;++t)if(e[t]!==n[t])return!1}return!0}toString(){const e=new k;for(let t=0,r=this.height;t<r;++t){const r=this.bytes[t];for(let t=0,n=this.width;t<n;++t)switch(r[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class _r{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new k;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<_r.NUM_MASK_PATTERNS}}_r.NUM_MASK_PATTERNS=8;class Ar extends c{}Ar.kind="WriterException";class Ir{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,a){Ir.clearMatrix(a),Ir.embedBasicPatterns(r,a),Ir.embedTypeInfo(t,n,a),Ir.maybeEmbedVersionInfo(r,a),Ir.embedDataBits(e,n,a)}static embedBasicPatterns(e,t){Ir.embedPositionDetectionPatternsAndSeparators(t),Ir.embedDarkDotAtLeftBottomCorner(t),Ir.maybeEmbedPositionAdjustmentPatterns(e,t),Ir.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new b;Ir.makeTypeInfoBits(e,t,n);for(let a=0,i=n.getSize();a<i;++a){const e=n.get(n.getSize()-1-a),t=Ir.TYPE_INFO_COORDINATES[a],i=t[0],s=t[1];if(r.setBoolean(i,s,e),a<8){const t=r.getWidth()-a-1,n=8;r.setBoolean(t,n,e)}else{const t=8,n=r.getHeight()-7+(a-8);r.setBoolean(t,n,e)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new b;Ir.makeVersionInfoBits(e,r);let n=17;for(let a=0;a<6;++a)for(let e=0;e<3;++e){const i=r.get(n);n--,t.setBoolean(a,t.getHeight()-11+e,i),t.setBoolean(t.getHeight()-11+e,a,i)}}static embedDataBits(e,t,r){let n=0,a=-1,i=r.getWidth()-1,s=r.getHeight()-1;for(;i>0;){for(6===i&&(i-=1);s>=0&&s<r.getHeight();){for(let a=0;a<2;++a){const o=i-a;if(!Ir.isEmpty(r.get(o,s)))continue;let l;n<e.getSize()?(l=e.get(n),++n):l=!1,255!==t&&Tr.getDataMaskBit(t,o,s)&&(l=!l),r.setBoolean(o,s,l)}s+=a}a=-a,s+=a,i-=2}if(n!==e.getSize())throw new Ar("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-y.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new h("0 polynomial");const r=Ir.findMSBSet(t);for(e<<=r-1;Ir.findMSBSet(e)>=r;)e^=t<<Ir.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!_r.isValidMaskPattern(t))throw new Ar("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const a=Ir.calculateBCHCode(n,Ir.TYPE_INFO_POLY);r.appendBits(a,10);const i=new b;if(i.appendBits(Ir.TYPE_INFO_MASK_PATTERN,15),r.xor(i),15!==r.getSize())throw new Ar("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Ir.calculateBCHCode(e.getVersionNumber(),Ir.VERSION_INFO_POLY);if(t.appendBits(r,12),18!==t.getSize())throw new Ar("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Ir.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Ir.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new Ar;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!Ir.isEmpty(r.get(e+n,t)))throw new Ar;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!Ir.isEmpty(r.get(e,t+n)))throw new Ar;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const a=Ir.POSITION_ADJUSTMENT_PATTERN[n];for(let i=0;i<5;++i)r.setNumber(e+i,t+n,a[i])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const a=Ir.POSITION_DETECTION_PATTERN[n];for(let i=0;i<7;++i)r.setNumber(e+i,t+n,a[i])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Ir.POSITION_DETECTION_PATTERN[0].length;Ir.embedPositionDetectionPattern(0,0,e),Ir.embedPositionDetectionPattern(e.getWidth()-t,0,e),Ir.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Ir.embedHorizontalSeparationPattern(0,r-1,e),Ir.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ir.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;Ir.embedVerticalSeparationPattern(n,0,e),Ir.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),Ir.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=Ir.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let a=0,i=n.length;a!==i;a++){const e=n[a];if(e>=0)for(let r=0;r!==i;r++){const a=n[r];a>=0&&Ir.isEmpty(t.get(a,e))&&Ir.embedPositionAdjustmentPattern(a-2,e-2,t)}}}}Ir.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ir.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ir.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ir.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ir.VERSION_INFO_POLY=7973,Ir.TYPE_INFO_POLY=1335,Ir.TYPE_INFO_MASK_PATTERN=21522;class kr{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nr{constructor(){}static calculateMaskPenalty(e){return Tr.applyMaskPenaltyRule1(e)+Tr.applyMaskPenaltyRule2(e)+Tr.applyMaskPenaltyRule3(e)+Tr.applyMaskPenaltyRule4(e)}static encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=Nr.DEFAULT_BYTE_MODE_ENCODING;const a=null!==r&&void 0!==r.get(Er.CHARACTER_SET);a&&(n=r.get(Er.CHARACTER_SET).toString());const i=this.chooseMode(e,n),s=new b;if(i===Nt.BYTE&&(a||Nr.DEFAULT_BYTE_MODE_ENCODING!==n)){const e=C.getCharacterSetECIByName(n);void 0!==e&&this.appendECI(e,s)}this.appendModeInfo(i,s);const o=new b;let l;if(this.appendBytes(e,i,o,n),null!==r&&void 0!==r.get(Er.QR_VERSION)){const e=Number.parseInt(r.get(Er.QR_VERSION).toString(),10);l=_t.getVersionForNumber(e);const n=this.calculateBitsNeeded(i,s,o,l);if(!this.willFit(n,l,t))throw new Ar("Data too big for requested version")}else l=this.recommendVersion(t,i,s,o);const c=new b;c.appendBitArray(s);const u=i===Nt.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(u,l,i,c),c.appendBitArray(o);const h=l.getECBlocksForLevel(t),d=l.getTotalCodewords()-h.getTotalECCodewords();this.terminateBits(d,c);const f=this.interleaveWithECBytes(c,l.getTotalCodewords(),d,h.getNumBlocks()),p=new _r;p.setECLevel(t),p.setMode(i),p.setVersion(l);const g=l.getDimensionForVersion(),m=new Cr(g,g),v=this.chooseMaskPattern(f,t,l,m);return p.setMaskPattern(v),Ir.buildMatrix(f,t,l,v,m),p.setMatrix(m),p}static recommendVersion(e,t,r,n){const a=this.calculateBitsNeeded(t,r,n,_t.getVersionForNumber(1)),i=this.chooseVersion(a,e),s=this.calculateBitsNeeded(t,r,n,i);return this.chooseVersion(s,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<Nr.ALPHANUMERIC_TABLE.length?Nr.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(C.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Nt.KANJI;let r=!1,n=!1;for(let a=0,i=e.length;a<i;++a){const t=e.charAt(a);if(Nr.isDigit(t))r=!0;else{if(-1===this.getAlphanumericCode(t.charCodeAt(0)))return Nt.BYTE;n=!0}}return n?Nt.ALPHANUMERIC:r?Nt.NUMERIC:Nt.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=A.encode(e,C.SJIS)}catch(n){return!1}const r=t.length;if(r%2!==0)return!1;for(let a=0;a<r;a+=2){const e=255&t[a];if((e<129||e>159)&&(e<224||e>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let a=Number.MAX_SAFE_INTEGER,i=-1;for(let s=0;s<_r.NUM_MASK_PATTERNS;s++){Ir.buildMatrix(e,t,r,s,n);let o=this.calculateMaskPenalty(n);o<a&&(a=o,i=s)}return i}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=_t.getVersionForNumber(r);if(Nr.willFit(e,n,t))return n}throw new Ar("Data too big")}static willFit(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const r=8*e;if(t.getSize()>r)throw new Ar("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);const n=7&t.getSize();if(n>0)for(let i=n;i<8;i++)t.appendBit(!1);const a=e-t.getSizeInBytes();for(let i=0;i<a;++i)t.appendBits(0===(1&i)?236:17,8);if(t.getSize()!==r)throw new Ar("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,a,i){if(n>=r)throw new Ar("Block ID too large");const s=e%r,o=r-s,l=Math.floor(e/r),c=l+1,u=Math.floor(t/r),h=u+1,d=l-u,f=c-h;if(d!==f)throw new Ar("EC bytes mismatch");if(r!==o+s)throw new Ar("RS blocks mismatch");if(e!==(u+d)*o+(h+f)*s)throw new Ar("Total bytes mismatch");n<o?(a[0]=u,i[0]=d):(a[0]=h,i[0]=f)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new Ar("Number of bits and data bytes does not match");let a=0,i=0,s=0;const o=new Array;for(let c=0;c<n;++c){const l=new Int32Array(1),u=new Int32Array(1);Nr.getNumDataBytesAndNumECBytesForBlockID(t,r,n,c,l,u);const h=l[0],d=new Uint8Array(h);e.toBytes(8*a,d,0,h);const f=Nr.generateECBytes(d,u[0]);o.push(new kr(d,f)),i=Math.max(i,h),s=Math.max(s,f.length),a+=l[0]}if(r!==a)throw new Ar("Data bytes does not match offset");const l=new b;for(let c=0;c<i;++c)for(const e of o){const t=e.getDataBytes();c<t.length&&l.appendBits(t[c],8)}for(let c=0;c<s;++c)for(const e of o){const t=e.getErrorCorrectionBytes();c<t.length&&l.appendBits(t[c],8)}if(t!==l.getSizeInBytes())throw new Ar("Interleaving error: "+t+" and "+l.getSizeInBytes()+" differ.");return l}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let i=0;i<r;i++)n[i]=255&e[i];new Sr(ee.QR_CODE_FIELD_256).encode(n,t);const a=new Uint8Array(t);for(let i=0;i<t;i++)a[i]=n[r+i];return a}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Ar(e+" is bigger than "+((1<<a)-1));n.appendBits(e,a)}static appendBytes(e,t,r,n){switch(t){case Nt.NUMERIC:Nr.appendNumericBytes(e,r);break;case Nt.ALPHANUMERIC:Nr.appendAlphanumericBytes(e,r);break;case Nt.BYTE:Nr.append8BitBytes(e,r,n);break;case Nt.KANJI:Nr.appendKanjiBytes(e,r);break;default:throw new Ar("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Nr.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const a=Nr.getDigit(e.charAt(n));if(n+2<r){const r=Nr.getDigit(e.charAt(n+1)),i=Nr.getDigit(e.charAt(n+2));t.appendBits(100*a+10*r+i,10),n+=3}else if(n+1<r){const r=Nr.getDigit(e.charAt(n+1));t.appendBits(10*a+r,7),n+=2}else t.appendBits(a,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const a=Nr.getAlphanumericCode(e.charCodeAt(n));if(-1===a)throw new Ar;if(n+1<r){const r=Nr.getAlphanumericCode(e.charCodeAt(n+1));if(-1===r)throw new Ar;t.appendBits(45*a+r,11),n+=2}else t.appendBits(a,6),n++}}static append8BitBytes(e,t,r){let n;try{n=A.encode(e,r)}catch(a){throw new Ar(a)}for(let i=0,s=n.length;i!==s;i++){const e=n[i];t.appendBits(e,8)}}static appendKanjiBytes(e,t){let r;try{r=A.encode(e,C.SJIS)}catch(a){throw new Ar(a)}const n=r.length;for(let i=0;i<n;i+=2){const e=(255&r[i])<<8&4294967295|255&r[i+1];let n=-1;if(e>=33088&&e<=40956?n=e-33088:e>=57408&&e<=60351&&(n=e-49472),-1===n)throw new Ar("Invalid byte sequence");const a=192*(n>>8)+(255&n);t.appendBits(a,13)}}static appendECI(e,t){t.appendBits(Nt.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Nr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nr.DEFAULT_BYTE_MODE_ENCODING=C.UTF8.getName();class xr{write(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(0===e.length)throw new h("Found empty contents");if(t<0||r<0)throw new h("Requested dimensions are too small: "+t+"x"+r);let a=Et.L,i=xr.QUIET_ZONE_SIZE;null!==n&&(void 0!==n.get(Er.ERROR_CORRECTION)&&(a=Et.fromString(n.get(Er.ERROR_CORRECTION).toString())),void 0!==n.get(Er.MARGIN)&&(i=Number.parseInt(n.get(Er.MARGIN).toString(),10)));const s=Nr.encode(e,a,n);return this.renderResult(s,t,r,i)}writeToDom(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"string"===typeof e&&(e=document.querySelector(e));const i=this.write(t,r,n,a);e&&e.appendChild(i)}renderResult(e,t,r,n){const a=e.getMatrix();if(null===a)throw new re;const i=a.getWidth(),s=a.getHeight(),o=i+2*n,l=s+2*n,c=Math.max(t,o),u=Math.max(r,l),h=Math.min(Math.floor(c/o),Math.floor(u/l)),d=Math.floor((c-i*h)/2),f=Math.floor((u-s*h)/2),p=this.createSVGElement(c,u);for(let g=0,m=f;g<s;g++,m+=h)for(let e=0,t=d;e<i;e++,t+=h)if(1===a.get(e,g)){const e=this.createSvgRectElement(t,m,h,h);p.appendChild(e)}return p}createSVGElement(e,t){const r=document.createElementNS(xr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const a=document.createElementNS(xr.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",t.toString()),a.setAttributeNS(null,"height",r.toString()),a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"fill","#000000"),a}}xr.QUIET_ZONE_SIZE=4,xr.SVG_NS="http://www.w3.org/2000/svg";class Dr{encode(e,t,r,n,a){if(0===e.length)throw new h("Found empty contents");if(t!==H.QR_CODE)throw new h("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new h(`Requested dimensions are too small: ${r}x${n}`);let i=Et.L,s=Dr.QUIET_ZONE_SIZE;null!==a&&(void 0!==a.get(Er.ERROR_CORRECTION)&&(i=Et.fromString(a.get(Er.ERROR_CORRECTION).toString())),void 0!==a.get(Er.MARGIN)&&(s=Number.parseInt(a.get(Er.MARGIN).toString(),10)));const o=Nr.encode(e,i,a);return Dr.renderResult(o,r,n,s)}static renderResult(e,t,r,n){const a=e.getMatrix();if(null===a)throw new re;const i=a.getWidth(),s=a.getHeight(),o=i+2*n,l=s+2*n,c=Math.max(t,o),u=Math.max(r,l),h=Math.min(Math.floor(c/o),Math.floor(u/l)),d=Math.floor((c-i*h)/2),f=Math.floor((u-s*h)/2),p=new N(c,u);for(let g=0,m=f;g<s;g++,m+=h)for(let e=0,t=d;e<i;e++,t+=h)1===a.get(e,g)&&p.setRegion(t,m,h,h);return p}}Dr.QUIET_ZONE_SIZE=4;class Rr{encode(e,t,r,n,a){let i;if(t!==H.QR_CODE)throw new h("No encoder available for format "+t);return i=new Dr,i.encode(e,t,r,n,a)}}class Mr extends M{constructor(e,t,r,n,a,i,s,o){if(super(i,s),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=a,n+i>t||a+s>r)throw new h("Crop rectangle does not fit within image data.");o&&this.reverseHorizontal(i,s)}getRow(e,t){if(e<0||e>=this.getHeight())throw new h("Requested row is outside the image: "+e);const r=this.getWidth();(null===t||void 0===t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return g.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return g.arraycopy(this.yuvData,a,n,0,r),n;for(let i=0;i<t;i++){const t=i*e;g.arraycopy(this.yuvData,a,n,t,e),a+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Mr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/Mr.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Mr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let i=0;i<t;i++){const t=i*e;for(let i=0;i<e;i++){const e=255&n[a+i*Mr.THUMBNAIL_SCALE_FACTOR];r[t+i]=4278190080|65793*e}a+=this.dataWidth*Mr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Mr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,a=this.top*this.dataWidth+this.left;n<t;n++,a+=this.dataWidth){const t=a+e/2;for(let n=a,i=a+e-1;n<t;n++,i--){const e=r[n];r[n]=r[i],r[i]=e}}}invert(){return new O(this)}}Mr.THUMBNAIL_SCALE_FACTOR=2;class Or extends M{constructor(e,t,r,n,a,i,s){if(super(t,r),this.dataWidth=n,this.dataHeight=a,this.left=i,this.top=s,4===e.BYTES_PER_ELEMENT){const n=t*r,a=new Uint8ClampedArray(n);for(let t=0;t<n;t++){const r=e[t],n=r>>16&255,i=r>>7&510,s=255&r;a[t]=(n+i+s)/4&255}this.luminances=a}else this.luminances=e;if(void 0===n&&(this.dataWidth=t),void 0===a&&(this.dataHeight=r),void 0===i&&(this.left=0),void 0===s&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new h("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new h("Requested row is outside the image: "+e);const r=this.getWidth();(null===t||void 0===t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return g.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return g.arraycopy(this.luminances,a,n,0,r),n;for(let i=0;i<t;i++){const t=i*e;g.arraycopy(this.luminances,a,n,t,e),a+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Or(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new O(this)}}class Pr extends C{static forName(e){return this.getCharacterSetECIByName(e)}}class Lr{}Lr.ISO_8859_1=C.ISO8859_1;class Fr{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Br{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Ur{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Vr extends Ur{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Vr(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Vr(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+y.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class jr extends Vr{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(0===r||31===r&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===r?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new jr(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Hr(e,t,r){return new jr(e,t,r)}function zr(e,t,r){return new Vr(e,t,r)}const Wr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yr=0,Gr=1,$r=2,Kr=3,Xr=4,qr=new Vr(null,0,0),Qr=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function Zr(e){for(let t of e)w.fill(t,-1);return e[Yr][Xr]=0,e[Gr][Xr]=0,e[Gr][Yr]=28,e[Kr][Xr]=0,e[$r][Xr]=0,e[$r][Yr]=15,e}const Jr=Zr(w.createInt32Array(6,6));class en{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let t=Qr[this.mode][e];n=zr(n,65535&t,t>>16),r+=t>>16}let a=e===$r?4:5;return n=zr(n,t,a),new en(n,e,0,r+a)}shiftAndAppend(e,t){let r=this.token,n=this.mode===$r?4:5;return r=zr(r,Jr[this.mode][e],n),r=zr(r,t,5),new en(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===Xr||this.mode===$r){let e=Qr[r][Yr];t=zr(t,65535&e,e>>16),n+=e>>16,r=Yr}let a=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,i=new en(t,r,this.binaryShiftByteCount+1,n+a);return 2078===i.binaryShiftByteCount&&(i=i.endBinaryShift(e+1)),i}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Hr(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new en(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Qr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=en.calculateBinaryShiftCost(e)-en.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;null!==n;n=n.getPrevious())t.unshift(n);let r=new b;for(const n of t)n.appendTo(r,e);return r}toString(){return I.format("%s bits=%d bytes=%d",Wr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function tn(e){const t=I.getCharCode(" "),r=I.getCharCode("."),n=I.getCharCode(",");e[Yr][t]=1;const a=I.getCharCode("Z"),i=I.getCharCode("A");for(let d=i;d<=a;d++)e[Yr][d]=d-i+2;e[Gr][t]=1;const s=I.getCharCode("z"),o=I.getCharCode("a");for(let d=o;d<=s;d++)e[Gr][d]=d-o+2;e[$r][t]=1;const l=I.getCharCode("9"),c=I.getCharCode("0");for(let d=c;d<=l;d++)e[$r][d]=d-c+2;e[$r][n]=12,e[$r][r]=13;const u=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let d=0;d<u.length;d++)e[Kr][I.getCharCode(u[d])]=d;const h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let d=0;d<h.length;d++)I.getCharCode(h[d])>0&&(e[Xr][I.getCharCode(h[d])]=d);return e}en.INITIAL_STATE=new en(qr,Yr,0,0);const rn=tn(w.createInt32Array(5,256));class nn{constructor(e){this.text=e}encode(){const e=I.getCharCode(" "),t=I.getCharCode("\n");let r=Br.singletonList(en.INITIAL_STATE);for(let n=0;n<this.text.length;n++){let a,i=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case I.getCharCode("\r"):a=i===t?2:0;break;case I.getCharCode("."):a=i===e?3:0;break;case I.getCharCode(","):a=i===e?4:0;break;case I.getCharCode(":"):a=i===e?5:0;break;default:a=0}a>0?(r=nn.updateStateListForPair(r,n,a),n++):r=this.updateStateListForChar(r,n)}return Br.min(r,((e,t)=>e.getBitCount()-t.getBitCount())).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return nn.simplifyStates(r)}updateStateForChar(e,t,r){let n=255&this.text[t],a=rn[e.getMode()][n]>0,i=null;for(let s=0;s<=Xr;s++){let o=rn[s][n];if(o>0){if(null==i&&(i=e.endBinaryShift(t)),!a||s===e.getMode()||s===$r){const e=i.latchAndAppend(s,o);r.push(e)}if(!a&&Jr[e.getMode()][s]>=0){const e=i.shiftAndAppend(s,o);r.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===rn[e.getMode()][n]){let n=e.addBinaryShiftChar(t);r.push(n)}}static updateStateListForPair(e,t,r){const n=[];for(let a of e)this.updateStateForPair(a,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let a=e.endBinaryShift(t);if(n.push(a.latchAndAppend(Xr,r)),e.getMode()!==Xr&&n.push(a.shiftAndAppend(Xr,r)),3===r||4===r){let e=a.latchAndAppend($r,16-r).latchAndAppend($r,1);n.push(e)}if(e.getBinaryShiftByteCount()>0){let r=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(r)}}static simplifyStates(e){let t=[];for(const r of e){let e=!0;for(const n of t){if(n.isBetterThanOrEqualTo(r)){e=!1;break}r.isBetterThanOrEqualTo(n)&&(t=t.filter((e=>e!==n)))}e&&t.push(r)}return t}}class an{constructor(){}static encodeBytes(e){return an.encode(e,an.DEFAULT_EC_PERCENT,an.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n,a,i,s,o,l=new nn(e).encode(),c=y.truncDivision(l.getSize()*t,100)+11,u=l.getSize()+c;if(r!==an.DEFAULT_AZTEC_LAYERS){if(n=r<0,a=Math.abs(r),a>(n?an.MAX_NB_BITS_COMPACT:an.MAX_NB_BITS))throw new h(I.format("Illegal value %s for layers",r));i=an.totalBitsInLayer(a,n),s=an.WORD_SIZE[a];let e=i-i%s;if(o=an.stuffBits(l,s),o.getSize()+c>e)throw new h("Data to large for user specified layer");if(n&&o.getSize()>64*s)throw new h("Data to large for user specified layer")}else{s=0,o=null;for(let e=0;;e++){if(e>an.MAX_NB_BITS)throw new h("Data too large for an Aztec code");if(n=e<=3,a=n?e+1:e,i=an.totalBitsInLayer(a,n),u>i)continue;null!=o&&s===an.WORD_SIZE[a]||(s=an.WORD_SIZE[a],o=an.stuffBits(l,s));let t=i-i%s;if(!(n&&o.getSize()>64*s)&&o.getSize()+c<=t)break}}let d,f=an.generateCheckWords(o,i,s),p=o.getSize()/s,g=an.generateModeMessage(n,a,p),m=(n?11:14)+4*a,v=new Int32Array(m);if(n){d=m;for(let e=0;e<v.length;e++)v[e]=e}else{d=m+1+2*y.truncDivision(y.truncDivision(m,2)-1,15);let e=y.truncDivision(m,2),t=y.truncDivision(d,2);for(let r=0;r<e;r++){let n=r+y.truncDivision(r,15);v[e-r-1]=t-n-1,v[e+r]=t+n+1}}let w=new N(d);for(let h=0,y=0;h<a;h++){let e=4*(a-h)+(n?9:12);for(let t=0;t<e;t++){let r=2*t;for(let n=0;n<2;n++)f.get(y+r+n)&&w.set(v[2*h+n],v[2*h+t]),f.get(y+2*e+r+n)&&w.set(v[2*h+t],v[m-1-2*h-n]),f.get(y+4*e+r+n)&&w.set(v[m-1-2*h-n],v[m-1-2*h-t]),f.get(y+6*e+r+n)&&w.set(v[m-1-2*h-t],v[2*h+n])}y+=8*e}if(an.drawModeMessage(w,n,d,g),n)an.drawBullsEye(w,y.truncDivision(d,2),5);else{an.drawBullsEye(w,y.truncDivision(d,2),7);for(let e=0,t=0;e<y.truncDivision(m,2)-1;e+=15,t+=16)for(let r=1&y.truncDivision(d,2);r<d;r+=2)w.set(y.truncDivision(d,2)-t,r),w.set(y.truncDivision(d,2)+t,r),w.set(r,y.truncDivision(d,2)-t),w.set(r,y.truncDivision(d,2)+t)}let b=new Fr;return b.setCompact(n),b.setSize(d),b.setLayers(a),b.setCodeWords(p),b.setMatrix(w),b}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let r=t-n;r<=t+n;r++)e.set(r,t-n),e.set(r,t+n),e.set(t-n,r),e.set(t+n,r);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new b;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=an.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=an.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let a=y.truncDivision(r,2);if(t)for(let i=0;i<7;i++){let t=a-3+i;n.get(i)&&e.set(t,a-5),n.get(i+7)&&e.set(a+5,t),n.get(20-i)&&e.set(t,a+5),n.get(27-i)&&e.set(a-5,t)}else for(let i=0;i<10;i++){let t=a-5+i+y.truncDivision(i,5);n.get(i)&&e.set(t,a-7),n.get(i+10)&&e.set(a+7,t),n.get(29-i)&&e.set(t,a+7),n.get(39-i)&&e.set(a-7,t)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,a=new Sr(an.getGF(r)),i=y.truncDivision(t,r),s=an.bitsToWords(e,r,i);a.encode(s,i-n);let o=t%r,l=new b;l.appendBits(0,o);for(const c of Array.from(s))l.appendBits(c,r);return l}static bitsToWords(e,t,r){let n,a,i=new Int32Array(r);for(n=0,a=e.getSize()/t;n<a;n++){let r=0;for(let a=0;a<t;a++)r|=e.get(n*t+a)?1<<t-a-1:0;i[n]=r}return i}static getGF(e){switch(e){case 4:return ee.AZTEC_PARAM;case 6:return ee.AZTEC_DATA_6;case 8:return ee.AZTEC_DATA_8;case 10:return ee.AZTEC_DATA_10;case 12:return ee.AZTEC_DATA_12;default:throw new h("Unsupported word size "+e)}}static stuffBits(e,t){let r=new b,n=e.getSize(),a=(1<<t)-2;for(let i=0;i<n;i+=t){let s=0;for(let r=0;r<t;r++)(i+r>=n||e.get(i+r))&&(s|=1<<t-1-r);(s&a)===a?(r.appendBits(s&a,t),i--):0===(s&a)?(r.appendBits(1|s,t),i--):r.appendBits(s,t)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}an.DEFAULT_EC_PERCENT=33,an.DEFAULT_AZTEC_LAYERS=0,an.MAX_NB_BITS=32,an.MAX_NB_BITS_COMPACT=4,an.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sn{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,a){let i=Lr.ISO_8859_1,s=an.DEFAULT_EC_PERCENT,o=an.DEFAULT_AZTEC_LAYERS;return null!=a&&(a.has(Er.CHARACTER_SET)&&(i=Pr.forName(a.get(Er.CHARACTER_SET).toString())),a.has(Er.ERROR_CORRECTION)&&(s=y.parseInt(a.get(Er.ERROR_CORRECTION).toString())),a.has(Er.AZTEC_LAYERS)&&(o=y.parseInt(a.get(Er.AZTEC_LAYERS).toString()))),sn.encodeLayers(e,t,r,n,i,s,o)}static encodeLayers(e,t,r,n,a,i,s){if(t!==H.AZTEC)throw new h("Can only encode AZTEC, but got "+t);let o=an.encode(I.getBytes(e,a),i,s);return sn.renderResult(o,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(null==n)throw new re;let a=n.getWidth(),i=n.getHeight(),s=Math.max(t,a),o=Math.max(r,i),l=Math.min(s/a,o/i),c=(s-a*l)/2,u=(o-i*l)/2,h=new N(s,o);for(let d=0,f=u;d<i;d++,f+=l)for(let e=0,t=c;e<a;e++,t+=l)n.get(e,d)&&h.setRegion(t,f,l,l);return h}}e.AbstractExpandedDecoder=Ye,e.ArgumentException=u,e.ArithmeticException=J,e.AztecCode=Fr,e.AztecCodeReader=ve,e.AztecCodeWriter=sn,e.AztecDecoder=ae,e.AztecDetector=me,e.AztecDetectorResult=ce,e.AztecEncoder=an,e.AztecHighLevelEncoder=nn,e.AztecPoint=ge,e.BarcodeFormat=H,e.Binarizer=p,e.BinaryBitmap=d,e.BitArray=b,e.BitMatrix=N,e.BitSource=gt,e.BrowserAztecCodeReader=we,e.BrowserBarcodeReader=ct,e.BrowserCodeReader=U,e.BrowserDatamatrixCodeReader=bt,e.BrowserMultiFormatReader=vr,e.BrowserPDF417Reader=wr,e.BrowserQRCodeReader=yr,e.BrowserQRCodeSvgWriter=xr,e.CharacterSetECI=C,e.ChecksumException=f,e.Code128Reader=be,e.Code39Reader=Ee,e.DataMatrixDecodedBitStreamParser=mt,e.DataMatrixReader=yt,e.DecodeHintType=S,e.DecoderResult=q,e.DefaultGridSampler=fe,e.DetectorResult=le,e.EAN13Reader=ke,e.EncodeHintType=Er,e.Exception=c,e.FormatException=T,e.GenericGF=ee,e.GenericGFPoly=Z,e.GlobalHistogramBinarizer=D,e.GridSampler=he,e.GridSamplerInstance=pe,e.HTMLCanvasElementLuminanceSource=P,e.HybridBinarizer=R,e.ITFReader=Se,e.IllegalArgumentException=h,e.IllegalStateException=re,e.InvertedLuminanceSource=O,e.LuminanceSource=M,e.MathUtils=ie,e.MultiFormatOneDReader=lt,e.MultiFormatReader=mr,e.MultiFormatWriter=Rr,e.NotFoundException=x,e.OneDReader=ye,e.PDF417DecodedBitStreamParser=dr,e.PDF417DecoderErrorCorrection=Gt,e.PDF417Reader=pr,e.PDF417ResultMetadata=rr,e.PerspectiveTransform=de,e.PlanarYUVLuminanceSource=Mr,e.QRCodeByteMatrix=Cr,e.QRCodeDataMask=At,e.QRCodeDecodedBitStreamParser=xt,e.QRCodeDecoderErrorCorrectionLevel=Et,e.QRCodeDecoderFormatInformation=St,e.QRCodeEncoder=Nr,e.QRCodeEncoderQRCode=_r,e.QRCodeMaskUtil=Tr,e.QRCodeMatrixUtil=Ir,e.QRCodeMode=Nt,e.QRCodeReader=Ut,e.QRCodeVersion=_t,e.QRCodeWriter=Dr,e.RGBLuminanceSource=Or,e.RSS14Reader=ot,e.RSSExpandedReader=it,e.ReaderException=gr,e.ReedSolomonDecoder=ne,e.ReedSolomonEncoder=Sr,e.ReedSolomonException=te,e.Result=V,e.ResultMetadataType=X,e.ResultPoint=oe,e.StringUtils=I,e.UnsupportedOperationException=_,e.VideoInputDevice=L,e.WhiteRectangleDetector=ue,e.WriterException=Ar,e.ZXingArrays=w,e.ZXingCharset=Pr,e.ZXingInteger=y,e.ZXingStandardCharsets=Lr,e.ZXingStringBuilder=k,e.ZXingStringEncoding=A,e.ZXingSystem=g,e.createAbstractExpandedDecoder=rt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},116:e=>{e.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},153:(e,t,r)=>{"use strict";var n=r(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},166:(e,t)=>{const r=new Uint8Array(512),n=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)r[t]=r[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[n[e]+n[t]]}},177:(e,t,r)=>{const n=r(312);function a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},a.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=n.mod(t,this.genPoly),a=this.degree-r.length;if(a>0){const e=new Uint8Array(this.degree);return e.set(r,a),e}return r},e.exports=a},182:(e,t,r)=>{const n=r(293);t.render=function(e,t,r){let a=r,i=t;"undefined"!==typeof a||t&&t.getContext||(a=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),a=n.getOptions(a);const s=n.getImageWidth(e.modules.size,a),o=i.getContext("2d"),l=o.createImageData(s,s);return n.qrToImageData(l.data,e,a),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(o,i,s),o.putImageData(l,0,0),i},t.renderToDataURL=function(e,r,n){let a=n;"undefined"!==typeof a||r&&r.getContext||(a=r,r=void 0),a||(a={});const i=t.render(e,r,a),s=a.type||"image/png",o=a.rendererOpts||{};return i.toDataURL(s,o.quality)}},200:(e,t,r)=>{const n=r(421),a=r(969);function i(e){this.mode=n.KANJI,this.data=e}i.getBitsLength=function(e){return 13*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=a.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},e.exports=i},202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function w(){}function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=v.prototype;var b=y.prototype=new w;b.constructor=y,g(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,a)&&!C.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:r,type:e,key:s,ref:o,props:i,_owner:T.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var I=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===i?"."+k(l,0):i,E(s)?(a="",null!=e&&(a=e.replace(I,"$&/")+"/"),N(s,t,a,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",E(e))for(var c=0;c<e.length;c++){var u=i+k(o=e[c],c);l+=N(o,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,a,u=i+k(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function x(e,t,r){if(null==e)return e;var n=[],a=0;return N(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},M={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:M,ReactCurrentOwner:T};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:x,forEach:function(e,t,r){x(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=T.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!C.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function E(e){if(m=!1,b(e),!g)if(null!==n(c))g=!0,M(S);else{var t=n(u);null!==t&&O(E,t.startTime-e)}}function S(e,r){g=!1,m&&(m=!1,w(A),A=-1),p=!0;var i=f;try{for(b(r),d=n(c);null!==d&&(!(d.expirationTime>r)||e&&!N());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?d.callback=o:d===n(c)&&a(c),b(r)}else a(c);d=n(c)}if(null!==d)var l=!0;else{var h=n(u);null!==h&&O(E,h.startTime-r),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,C=!1,_=null,A=-1,I=5,k=-1;function N(){return!(t.unstable_now()-k<I)}function x(){if(null!==_){var e=t.unstable_now();k=e;var r=!0;try{r=_(!0,e)}finally{r?T():(C=!1,_=null)}}else C=!1}if("function"===typeof y)T=function(){y(x)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=x,T=function(){R.postMessage(null)}}else T=function(){v(x,0)};function M(e){_=e,C||(C=!0,T())}function O(e,r){A=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(m?(w(A),A=-1):m=!0,O(E,i-s))):(e.sortIndex=o,r(c,e),g||p||(g=!0,M(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},257:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},272:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&"undefined"!==typeof e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(n){return r}}},293:(e,t)=>{function r(e){if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t="undefined"===typeof e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:n,scale:n?4:a,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){const n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){const a=r.modules.size,i=r.modules.data,s=t.getScale(a,n),o=Math.floor((a+2*n.margin)*s),l=n.margin*s,c=[n.color.light,n.color.dark];for(let t=0;t<o;t++)for(let r=0;r<o;r++){let u=4*(t*o+r),h=n.color.light;if(t>=l&&r>=l&&t<o-l&&r<o-l){h=c[i[Math.floor((t-l)/s)*a+Math.floor((r-l)/s)]?1:0]}e[u++]=h.r,e[u++]=h.g,e[u++]=h.b,e[u]=h.a}}},312:(e,t,r)=>{const n=r(166);t.mul=function(e,t){const r=new Uint8Array(e.length+t.length-1);for(let a=0;a<e.length;a++)for(let i=0;i<t.length;i++)r[a+i]^=n.mul(e[a],t[i]);return r},t.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){const e=r[0];for(let i=0;i<t.length;i++)r[i]^=n.mul(t[i],e);let a=0;for(;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},t.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let a=0;a<e;a++)r=t.mul(r,new Uint8Array([1,n.exp(a)]));return r}},347:e=>{"use strict";var t={single_source_shortest_paths:function(e,r,n){var a={},i={};i[r]=0;var s,o,l,c,u,h,d,f=t.PriorityQueue.make();for(f.push(r,0);!f.empty();)for(l in o=(s=f.pop()).value,c=s.cost,u=e[o]||{})u.hasOwnProperty(l)&&(h=c+u[l],d=i[l],("undefined"===typeof i[l]||d>h)&&(i[l]=h,f.push(l,h),a[l]=o));if("undefined"!==typeof n&&"undefined"===typeof i[n]){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return a},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,r,n){var a=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(a,n)},PriorityQueue:{make:function(e){var r,n=t.PriorityQueue,a={};for(r in e=e||{},n)n.hasOwnProperty(r)&&(a[r]=n[r]);return a.queue=[],a.sorter=e.sorter||n.default_sorter,a},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},350:(e,t,r)=>{const n=r(969),a=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){const r=e.bit<<3|t;let i=r<<10;for(;n.getBCHDigit(i)-a>=0;)i^=1335<<n.getBCHDigit(i)-a;return 21522^(r<<10|i)}},358:(e,t)=>{"use strict";const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},382:(e,t,r)=>{const n=r(969).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,r=n(e),a=145===r?26:2*Math.ceil((r-13)/(2*t-2)),i=[r-7];for(let n=1;n<t-1;n++)i[n]=i[n-1]-a;return i.push(6),i.reverse()},t.getPositions=function(e){const r=[],n=t.getRowColCoords(e),a=n.length;for(let t=0;t<a;t++)for(let e=0;e<a;e++)0===t&&0===e||0===t&&e===a-1||t===a-1&&0===e||r.push([n[t],n[e]]);return r}},391:(e,t,r)=>{"use strict";var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},421:(e,t,r)=>{const n=r(257),a=r(511);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return a.testNumeric(e)?t.NUMERIC:a.testAlphanumeric(e)?t.ALPHANUMERIC:a.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(n){return r}}},487:(e,t,r)=>{const n=r(293);function a(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function i(e,t,r){let n=e+t;return"undefined"!==typeof r&&(n+=" "+r),n}t.render=function(e,t,r){const s=n.getOptions(t),o=e.modules.size,l=e.modules.data,c=o+2*s.margin,u=s.color.light.a?"<path "+a(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",h="<path "+a(s.color.dark,"stroke")+' d="'+function(e,t,r){let n="",a=0,s=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);c||s||(s=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=s?i("M",c+r,.5+u+r):i("m",a,0),a=0,s=!1),c+1<t&&e[l+1]||(n+=i("h",o),o=0)):a++}return n}(l,o,s.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"===typeof r&&r(null,f),f}},511:(e,t)=>{const r="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(a,"g"),t.NUMERIC=new RegExp(r,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return o.test(e)}},566:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let r=0;r<t;r++)this.putBit(1===(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},579:(e,t,r)=>{"use strict";e.exports=r(153)},642:(e,t,r)=>{const n=r(421),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=n.ALPHANUMERIC,this.data=e}i.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*a.indexOf(this.data[t]);r+=a.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(a.indexOf(this.data[t]),6)},e.exports=i},661:e=>{function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},697:(e,t,r)=>{const n=r(421);function a(e){this.mode=n.BYTE,this.data="string"===typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}a.getBitsLength=function(e){return 8*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=a},730:(e,t,r)=>{"use strict";var n=r(43),a=r(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,r,n,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function y(e,t,r,n){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,w);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,w);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,w);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),I=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B(e):""}function j(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case _:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(r){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var r=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Q(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ie(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=ge(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ce=null;function _e(e){if(e=ya(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=Ea(t),Se(e.stateNode,e.type,t))}}function Ae(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Ie(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function ke(e,t){return e(t)}function Ne(){}var xe=!1;function De(e,t,r){if(xe)return e(t,r);xe=!0;try{return ke(e,t,r)}finally{xe=!1,(null!==Te||null!==Ce)&&(Ne(),Ie())}}function Re(e,t){var r=e.stateNode;if(null===r)return null;var n=Ea(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Me=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Me=!1}function Pe(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,Be=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function je(e,t,r,n,a,i,s,o,l){Le=!1,Fe=null,Pe.apply(Ve,arguments)}function He(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(i(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return We(a),e;if(s===n)return We(a),t;s=s.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,qe=a.unstable_requestPaint,Qe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&r;if(0!==s){var o=s&~a;0!==o?n=ht(o):0!==(i&=s)&&(n=ht(i))}else 0!==(s=r&~a)?n=ht(s):0!==i&&(n=ht(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-st(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function wt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,Tt,Ct,_t,At=!1,It=[],kt=null,Nt=null,xt=null,Dt=new Map,Rt=new Map,Mt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=wa(e.target);if(null!==t){var r=He(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=ze(r)))return e.blockedOn=t,void _t(e.priority,(function(){Tt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ya(r))&&St(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function Ut(e,t,r){Bt(e)&&r.delete(t)}function Vt(){At=!1,null!==kt&&Bt(kt)&&(kt=null),null!==Nt&&Bt(Nt)&&(Nt=null),null!==xt&&Bt(xt)&&(xt=null),Dt.forEach(Ut),Rt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vt)))}function Ht(e){function t(t){return jt(t,e)}if(0<It.length){jt(It[0],e);for(var r=1;r<It.length;r++){var n=It[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==kt&&jt(kt,e),null!==Nt&&jt(Nt,e),null!==xt&&jt(xt,e),Dt.forEach(t),Rt.forEach(t),r=0;r<Mt.length;r++)(n=Mt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(r=Mt[0]).blockedOn;)Ft(r),null===r.blockedOn&&Mt.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Yt(e,t,r,n){var a=yt,i=zt.transition;zt.transition=null;try{yt=1,$t(e,t,r,n)}finally{yt=a,zt.transition=i}}function Gt(e,t,r,n){var a=yt,i=zt.transition;zt.transition=null;try{yt=4,$t(e,t,r,n)}finally{yt=a,zt.transition=i}}function $t(e,t,r,n){if(Wt){var a=Xt(e,t,r,n);if(null===a)Wn(e,t,n,Kt,r),Pt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return kt=Lt(kt,e,t,r,n,a),!0;case"dragenter":return Nt=Lt(Nt,e,t,r,n,a),!0;case"mouseover":return xt=Lt(xt,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Dt.set(i,Lt(Dt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Rt.set(i,Lt(Rt.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Pt(e,n),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var i=ya(a);if(null!==i&&Et(i),null===(i=Xt(e,t,r,n))&&Wn(e,t,n,Kt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Wn(e,t,n,null,r)}}var Kt=null;function Xt(e,t,r,n){if(Kt=null,null!==(e=wa(e=Ee(n))))if(null===(t=He(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function er(){if(Jt)return Jt;var e,t,r=Zt,n=r.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,sr,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),ur=F({},lr,{view:0,detail:0}),hr=ar(ur),dr=F({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ir=e.screenX-or.screenX,sr=e.screenY-or.screenY):sr=ir=0,or=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),fr=ar(dr),pr=ar(F({},dr,{dataTransfer:0})),gr=ar(F({},ur,{relatedTarget:0})),mr=ar(F({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=F({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wr=ar(vr),yr=ar(F({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Cr(){return Tr}var _r=F({},ur,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Er[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ar=ar(_r),Ir=ar(F({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kr=ar(F({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr})),Nr=ar(F({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),xr=F({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=ar(xr),Rr=[9,13,27,32],Mr=u&&"CompositionEvent"in window,Or=null;u&&"documentMode"in document&&(Or=document.documentMode);var Pr=u&&"TextEvent"in window&&!Or,Lr=u&&(!Mr||Or&&8<Or&&11>=Or),Fr=String.fromCharCode(32),Br=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jr=!1;var Hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hr[e.type]:"textarea"===t}function Wr(e,t,r,n){Ae(n),0<(t=Gn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yr=null,Gr=null;function $r(e){Bn(e,0)}function Kr(e){if($(ba(e)))return e}function Xr(e,t){if("change"===e)return t}var qr=!1;if(u){var Qr;if(u){var Zr="oninput"in document;if(!Zr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Zr="function"===typeof Jr.oninput}Qr=Zr}else Qr=!1;qr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Yr&&(Yr.detachEvent("onpropertychange",tn),Gr=Yr=null)}function tn(e){if("value"===e.propertyName&&Kr(Gr)){var t=[];Wr(t,Gr,e,Ee(e)),De($r,t)}}function rn(e,t,r){"focusin"===e?(en(),Gr=r,(Yr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Gr)}function an(e,t){if("click"===e)return Kr(t)}function sn(e,t){if("input"===e||"change"===e)return Kr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!h.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=dn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=un(r,i);var s=un(r,n);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=u&&"documentMode"in document&&11>=document.documentMode,mn=null,vn=null,wn=null,yn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==mn||mn!==K(n)||("selectionStart"in(n=mn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},wn&&ln(wn,n)||(wn=n,0<(n=Gn(vn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mn)))}function En(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sn={animationend:En("Animation","AnimationEnd"),animationiteration:En("Animation","AnimationIteration"),animationstart:En("Animation","AnimationStart"),transitionend:En("Transition","TransitionEnd")},Tn={},Cn={};function _n(e){if(Tn[e])return Tn[e];if(!Sn[e])return e;var t,r=Sn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Cn)return Tn[e]=r[t];return e}u&&(Cn=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var An=_n("animationend"),In=_n("animationiteration"),kn=_n("animationstart"),Nn=_n("transitionend"),xn=new Map,Dn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){xn.set(e,t),l(t,[e])}for(var Mn=0;Mn<Dn.length;Mn++){var On=Dn[Mn];Rn(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}Rn(An,"onAnimationEnd"),Rn(In,"onAnimationIteration"),Rn(kn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Nn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function Fn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,s,o,l,c){if(je.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Fe;Le=!1,Fe=null,Be||(Be=!0,Ue=u)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Fn(a,o,c),i=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Fn(a,o,c),i=l}}}if(Be)throw e=Ue,Be=!1,Ue=null,e}function Un(e,t){var r=t[ga];void 0===r&&(r=t[ga]=new Set);var n=e+"__bubble";r.has(n)||(zn(t,e,2,!1),r.add(n))}function Vn(e,t,r){var n=0;t&&(n|=4),zn(r,e,n,t)}var jn="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[jn]){e[jn]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ln.has(t)||Vn(t,!1,e),Vn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jn]||(t[jn]=!0,Vn("selectionchange",!1,t))}}function zn(e,t,r,n){switch(qt(t)){case 1:var a=Yt;break;case 4:a=Gt;break;default:a=$t}r=a.bind(null,t,r,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Wn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=wa(o)))return;if(5===(l=s.tag)||6===l){n=i=s;continue e}o=o.parentNode}}n=n.return}De((function(){var n=i,a=Ee(r),s=[];e:{var o=xn.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Ar;break;case"focusin":c="focus",l=gr;break;case"focusout":c="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kr;break;case An:case In:case kn:l=mr;break;case Nn:l=Nr;break;case"scroll":l=hr;break;case"wheel":l=Dr;break;case"copy":case"cut":case"paste":l=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ir}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=n;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Re(p,d))&&u.push(Yn(p,g,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,r,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!wa(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?wa(c):null)&&(c!==(h=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=fr,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ir,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:ba(l),f=null==c?o:ba(c),(o=new u(g,p+"leave",l,r,a)).target=h,o.relatedTarget=f,g=null,wa(a)===n&&((u=new u(d,p+"enter",c,r,a)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=$n(f))p++;for(f=0,g=d;g;g=$n(g))f++;for(;0<p-f;)u=$n(u),p--;for(;0<f-p;)d=$n(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=$n(u),d=$n(d)}u=null}else u=null;null!==l&&Kn(s,o,l,u,!1),null!==c&&null!==h&&Kn(s,h,c,u,!0)}if("select"===(l=(o=n?ba(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Xr;else if(zr(o))if(qr)m=sn;else{m=nn;var v=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=an);switch(m&&(m=m(e,n))?Wr(s,m,r,a):(v&&v(e,o,n),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=n?ba(n):window,e){case"focusin":(zr(v)||"true"===v.contentEditable)&&(mn=v,vn=n,wn=null);break;case"focusout":wn=vn=mn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,bn(s,r,a);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":bn(s,r,a)}var w;if(Mr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jr?Ur(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Lr&&"ko"!==r.locale&&(jr||"onCompositionStart"!==y?"onCompositionEnd"===y&&jr&&(w=er()):(Zt="value"in(Qt=a)?Qt.value:Qt.textContent,jr=!0)),0<(v=Gn(n,y)).length&&(y=new yr(y,e,null,r,a),s.push({event:y,listeners:v}),w?y.data=w:null!==(w=Vr(r))&&(y.data=w))),(w=Pr?function(e,t){switch(e){case"compositionend":return Vr(t);case"keypress":return 32!==t.which?null:(Br=!0,Fr);case"textInput":return(e=t.data)===Fr&&Br?null:e;default:return null}}(e,r):function(e,t){if(jr)return"compositionend"===e||!Mr&&Ur(e,t)?(e=er(),Jt=Zt=Qt=null,jr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Gn(n,"onBeforeInput")).length&&(a=new yr("onBeforeInput","beforeinput",null,r,a),s.push({event:a,listeners:n}),a.data=w))}Bn(s,t)}))}function Yn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Re(e,r))&&n.unshift(Yn(e,i,a)),null!=(i=Re(e,t))&&n.push(Yn(e,i,a))),e=e.return}return n}function $n(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,a){for(var i=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Re(r,i))&&s.unshift(Yn(r,l,o)):a||null!=(l=Re(r,i))&&s.push(Yn(r,l,o))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Xn=/\r\n?/g,qn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(qn,"")}function Zn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(i(425))}function Jn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Ht(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Ht(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ha=Math.random().toString(36).slice(2),da="__reactFiber$"+ha,fa="__reactProps$"+ha,pa="__reactContainer$"+ha,ga="__reactEvents$"+ha,ma="__reactListeners$"+ha,va="__reactHandles$"+ha;function wa(e){var t=e[da];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[da]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[da])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function ya(e){return!(e=e[da]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ea(e){return e[fa]||null}var Sa=[],Ta=-1;function Ca(e){return{current:e}}function _a(e){0>Ta||(e.current=Sa[Ta],Sa[Ta]=null,Ta--)}function Aa(e,t){Ta++,Sa[Ta]=e.current,e.current=t}var Ia={},ka=Ca(Ia),Na=Ca(!1),xa=Ia;function Da(e,t){var r=e.type.contextTypes;if(!r)return Ia;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){_a(Na),_a(ka)}function Oa(e,t,r){if(ka.current!==Ia)throw Error(i(168));Aa(ka,t),Aa(Na,r)}function Pa(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,z(e)||"Unknown",a));return F({},r,n)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,xa=ka.current,Aa(ka,e),Aa(Na,Na.current),!0}function Fa(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Pa(e,t,xa),n.__reactInternalMemoizedMergedChildContext=e,_a(Na),_a(ka),Aa(ka,e)):_a(Na),Aa(Na,r)}var Ba=null,Ua=!1,Va=!1;function ja(e){null===Ba?Ba=[e]:Ba.push(e)}function Ha(){if(!Va&&null!==Ba){Va=!0;var e=0,t=yt;try{var r=Ba;for(yt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ba=null,Ua=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),$e(Je,Ha),a}finally{yt=t,Va=!1}}return null}var za=[],Wa=0,Ya=null,Ga=0,$a=[],Ka=0,Xa=null,qa=1,Qa="";function Za(e,t){za[Wa++]=Ga,za[Wa++]=Ya,Ya=e,Ga=t}function Ja(e,t,r){$a[Ka++]=qa,$a[Ka++]=Qa,$a[Ka++]=Xa,Xa=e;var n=qa;e=Qa;var a=32-st(n)-1;n&=~(1<<a),r+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,qa=1<<32-st(t)+a|r<<a|n,Qa=i+e}else qa=1<<i|r<<a|n,Qa=e}function ei(e){null!==e.return&&(Za(e,1),Ja(e,1,0))}function ti(e){for(;e===Ya;)Ya=za[--Wa],za[Wa]=null,Ga=za[--Wa],za[Wa]=null;for(;e===Xa;)Xa=$a[--Ka],$a[Ka]=null,Qa=$a[--Ka],$a[Ka]=null,qa=$a[--Ka],$a[Ka]=null}var ri=null,ni=null,ai=!1,ii=null;function si(e,t){var r=Dc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Xa?{id:qa,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Dc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ni;if(t){var r=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ca(r.nextSibling);var n=ri;t&&oi(e,t)?si(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(li(e))throw di(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ca(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ni;e;)e=ca(e.nextSibling)}function fi(){ni=ri=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var gi=b.ReactCurrentBatchConfig;function mi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Fc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===T?h(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&wi(i)===t.type)?((n=a(t,r.props)).ref=mi(e,t,r),n.return=e,n):((n=Oc(r.type,r.key,r.props,null,e.mode,n)).ref=mi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Bc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function h(e,t,r,n,i){return null===t||7!==t.tag?((t=Pc(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(r=Oc(t.type,t.key,t.props,null,e.mode,r)).ref=mi(e,null,t),r.return=e,r;case S:return(t=Bc(t,e.mode,r)).return=e,t;case R:return d(e,(0,t._init)(t._payload),r)}if(te(t)||P(t))return(t=Pc(t,e.mode,r,null)).return=e,t;vi(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return r.key===a?c(e,t,r,n):null;case S:return r.key===a?u(e,t,r,n):null;case R:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||P(r))return null!==a?null:h(e,t,r,n,null);vi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case S:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case R:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||P(n))return h(t,e=e.get(r)||null,n,a,null);vi(t,n)}return null}function g(a,i,o,l){for(var c=null,u=null,h=i,g=i=0,m=null;null!==h&&g<o.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(a,h,o[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(a,h),i=s(v,i,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===o.length)return r(a,h),ai&&Za(a,g),c;if(null===h){for(;g<o.length;g++)null!==(h=d(a,o[g],l))&&(i=s(h,i,g),null===u?c=h:u.sibling=h,u=h);return ai&&Za(a,g),c}for(h=n(a,h);g<o.length;g++)null!==(m=p(h,a,g,o[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=s(m,i,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(a,e)})),ai&&Za(a,g),c}function m(a,o,l,c){var u=P(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,g=o,m=o=0,v=null,w=l.next();null!==g&&!w.done;m++,w=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=f(a,g,w.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(a,g),o=s(y,o,m),null===h?u=y:h.sibling=y,h=y,g=v}if(w.done)return r(a,g),ai&&Za(a,m),u;if(null===g){for(;!w.done;m++,w=l.next())null!==(w=d(a,w.value,c))&&(o=s(w,o,m),null===h?u=w:h.sibling=w,h=w);return ai&&Za(a,m),u}for(g=n(a,g);!w.done;m++,w=l.next())null!==(w=p(g,a,m,w.value,c))&&(e&&null!==w.alternate&&g.delete(null===w.key?m:w.key),o=s(w,o,m),null===h?u=w:h.sibling=w,h=w);return e&&g.forEach((function(e){return t(a,e)})),ai&&Za(a,m),u}return function e(n,i,s,l){if("object"===typeof s&&null!==s&&s.type===T&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===T){if(7===u.tag){r(n,u.sibling),(i=a(u,s.props.children)).return=n,n=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&wi(c)===u.type){r(n,u.sibling),(i=a(u,s.props)).ref=mi(n,u,s),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}s.type===T?((i=Pc(s.props.children,n.mode,l,s.key)).return=n,n=i):((l=Oc(s.type,s.key,s.props,null,n.mode,l)).ref=mi(n,i,s),l.return=n,n=l)}return o(n);case S:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){r(n,i.sibling),(i=a(i,s.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Bc(s,n.mode,l)).return=n,n=i}return o(n);case R:return e(n,i,(u=s._init)(s._payload),l)}if(te(s))return g(n,i,s,l);if(P(s))return m(n,i,s,l);vi(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,s)).return=n,n=i):(r(n,i),(i=Fc(s,n.mode,l)).return=n,n=i),o(n)):r(n,i)}}var bi=yi(!0),Ei=yi(!1),Si=Ca(null),Ti=null,Ci=null,_i=null;function Ai(){_i=Ci=Ti=null}function Ii(e){var t=Si.current;_a(Si),e._currentValue=t}function ki(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ni(e,t){Ti=e,_i=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function xi(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Ti)throw Error(i(308));Ci=e,Ti.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Di=null;function Ri(e){null===Di?Di=[e]:Di.push(e)}function Mi(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ri(t)):(r.next=a.next,a.next=r),t.interleaved=r,Oi(e,n)}function Oi(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Pi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&kl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Oi(e,r)}return null===(a=n.interleaved)?(t.next=t,Ri(n)):(t.next=a.next,a.next=t),n.interleaved=t,Oi(e,r)}function Vi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,wt(e,r)}}function ji(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=s:i=i.next=s,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hi(e,t,r,n){var a=e.updateQueue;Pi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=a.baseState;for(s=0,u=c=l=null,o=i;;){var d=o.lane,f=o.eventTime;if((n&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(d=t,f=r,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Pi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(d=o).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===u&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=h}}function zi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Wi={},Yi=Ca(Wi),Gi=Ca(Wi),$i=Ca(Wi);function Ki(e){if(e===Wi)throw Error(i(174));return e}function Xi(e,t){switch(Aa($i,t),Aa(Gi,e),Aa(Yi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(Yi),Aa(Yi,t)}function qi(){_a(Yi),_a(Gi),_a($i)}function Qi(e){Ki($i.current);var t=Ki(Yi.current),r=le(t,e.type);t!==r&&(Aa(Gi,e),Aa(Yi,r))}function Zi(e){Gi.current===e&&(_a(Yi),_a(Gi))}var Ji=Ca(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function rs(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var ns=b.ReactCurrentDispatcher,as=b.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,us=!1,hs=0,ds=0;function fs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function gs(e,t,r,n,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ns.current=null===e||null===e.memoizedState?Zs:Js,e=r(n,a),us){s=0;do{if(us=!1,hs=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,ns.current=eo,e=r(n,a)}while(us)}if(ns.current=Qs,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function ms(){var e=0!==hs;return hs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ws(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function ys(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=ws(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=os,a=n.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(null!==a){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((is&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=n):c=c.next=d,ss.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==s);null===c?o=n:c.next=l,on(n,t.memoizedState)||(yo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Ll|=s,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Es(e){var t=ws(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);on(s,t.memoizedState)||(yo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Ss(){}function Ts(e,t){var r=ss,n=ws(),a=t(),s=!on(n.memoizedState,a);if(s&&(n.memoizedState=a,yo=!0),n=n.queue,Ps(As.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(r.flags|=2048,xs(9,_s.bind(null,r,n,a,t),void 0,null),null===Nl)throw Error(i(349));0!==(30&is)||Cs(r,t,a)}return a}function Cs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _s(e,t,r,n){t.value=r,t.getSnapshot=n,Is(t)&&ks(e)}function As(e,t,r){return r((function(){Is(t)&&ks(e)}))}function Is(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function ks(e){var t=Oi(e,1);null!==t&&rc(t,e,1,-1)}function Ns(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=$s.bind(null,ss,e),[t.memoizedState,e]}function xs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ds(){return ws().memoizedState}function Rs(e,t,r,n){var a=vs();ss.flags|=e,a.memoizedState=xs(1|t,r,void 0,void 0===n?null:n)}function Ms(e,t,r,n){var a=ws();n=void 0===n?null:n;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==n&&ps(n,s.deps))return void(a.memoizedState=xs(t,r,i,n))}ss.flags|=e,a.memoizedState=xs(1|t,r,i,n)}function Os(e,t){return Rs(8390656,8,e,t)}function Ps(e,t){return Ms(2048,8,e,t)}function Ls(e,t){return Ms(4,2,e,t)}function Fs(e,t){return Ms(4,4,e,t)}function Bs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ms(4,4,Bs.bind(null,t,e),r)}function Vs(){}function js(e,t){var r=ws();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hs(e,t){var r=ws();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zs(e,t,r){return 0===(21&is)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=r):(on(r,t)||(r=gt(),ss.lanes|=r,Ll|=r,e.baseState=!0),t)}function Ws(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var n=as.transition;as.transition={};try{e(!1),t()}finally{yt=r,as.transition=n}}function Ys(){return ws().memoizedState}function Gs(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ks(e))Xs(t,r);else if(null!==(r=Mi(e,t,r,n))){rc(r,e,n,ec()),qs(r,t,n)}}function $s(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Xs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,on(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ri(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Mi(e,t,a,n))&&(rc(r,e,n,a=ec()),qs(r,t,n))}}function Ks(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Xs(e,t){us=cs=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qs(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,wt(e,r)}}var Qs={readContext:xi,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:xi,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:xi,useEffect:Os,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Rs(4194308,4,Bs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var r=vs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ns,useDebugValue:Vs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=Ws.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ss,a=vs();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Nl)throw Error(i(349));0!==(30&is)||Cs(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Os(As.bind(null,n,s,e),[e]),n.flags|=2048,xs(9,_s.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=vs(),t=Nl.identifierPrefix;if(ai){var r=Qa;t=":"+t+"R"+(r=(qa&~(1<<32-st(qa)-1)).toString(32)+r),0<(r=hs++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ds++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:xi,useCallback:js,useContext:xi,useEffect:Ps,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Hs,useReducer:bs,useRef:Ds,useState:function(){return bs(ys)},useDebugValue:Vs,useDeferredValue:function(e){return zs(ws(),os.memoizedState,e)},useTransition:function(){return[bs(ys)[0],ws().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Ts,useId:Ys,unstable_isNewReconciler:!1},eo={readContext:xi,useCallback:js,useContext:xi,useEffect:Ps,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Hs,useReducer:Es,useRef:Ds,useState:function(){return Es(ys)},useDebugValue:Vs,useDeferredValue:function(e){var t=ws();return null===os?t.memoizedState=e:zs(t,os.memoizedState,e)},useTransition:function(){return[Es(ys)[0],ws().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Ts,useId:Ys,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=F({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:F({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Bi(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ui(e,i,a))&&(rc(t,e,a,n),Vi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Bi(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ui(e,i,a))&&(rc(t,e,a,n),Vi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Bi(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ui(e,a,n))&&(rc(t,e,n,r),Vi(t,e,n))}};function ao(e,t,r,n,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,i))}function io(e,t,r){var n=!1,a=Ia,i=t.contextType;return"object"===typeof i&&null!==i?i=xi(i):(a=Ra(t)?xa:ka.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Da(e,a):Ia),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=xi(i):(i=Ra(t)?xa:ka.current,a.context=Da(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ro(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),Hi(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=j(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,r){(r=Bi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wl||(Wl=!0,Yl=n),uo(0,t)},r}function po(e,t,r){(r=Bi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function go(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=_c.bind(null,e,t,r),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Bi(-1,1)).tag=2,Ui(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var wo=b.ReactCurrentOwner,yo=!1;function bo(e,t,r,n){t.child=null===e?Ei(t,null,r,n):bi(t,e.child,r,n)}function Eo(e,t,r,n,a){r=r.render;var i=t.ref;return Ni(t,a),n=gs(e,t,r,n,i,a),r=ms(),null===e||yo?(ai&&r&&ei(t),t.flags|=1,bo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function So(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Rc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Oc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,To(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(s,n)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Mc(i,n)).ref=t.ref,e.return=t,t.child=e}function To(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(yo=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(yo=!0)}}return Ao(e,t,r,n,a)}function Co(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Aa(Ml,Rl),Rl|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Aa(Ml,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Aa(Ml,Rl),Rl|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Aa(Ml,Rl),Rl|=n;return bo(e,t,a,r),t.child}function _o(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,r,n,a){var i=Ra(r)?xa:ka.current;return i=Da(t,i),Ni(t,a),r=gs(e,t,r,n,i,a),n=ms(),null===e||yo?(ai&&n&&ei(t),t.flags|=1,bo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function Io(e,t,r,n,a){if(Ra(r)){var i=!0;La(t)}else i=!1;if(Ni(t,a),null===t.stateNode)zo(e,t),io(t,r,n),oo(t,r,n,a),n=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;"object"===typeof c&&null!==c?c=xi(c):c=Da(t,c=Ra(r)?xa:ka.current);var u=r.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==n||l!==c)&&so(t,s,n,c),Pi=!1;var d=t.memoizedState;s.state=d,Hi(t,n,s,a),l=t.memoizedState,o!==n||d!==l||Na.current||Pi?("function"===typeof u&&(ro(t,r,u,n),l=t.memoizedState),(o=Pi||ao(t,r,o,n,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Fi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=xi(l):l=Da(t,l=Ra(r)?xa:ka.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&so(t,s,n,l),Pi=!1,d=t.memoizedState,s.state=d,Hi(t,n,s,a);var p=t.memoizedState;o!==h||d!==p||Na.current||Pi?("function"===typeof f&&(ro(t,r,f,n),p=t.memoizedState),(c=Pi||ao(t,r,c,n,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return ko(e,t,r,n,i,a)}function ko(e,t,r,n,a,i){_o(e,t);var s=0!==(128&t.flags);if(!n&&!s)return a&&Fa(t,r,!1),Wo(e,t,i);n=t.stateNode,wo.current=t;var o=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):bo(e,t,o,i),t.memoizedState=n.state,a&&Fa(t,r,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Xi(e,t.containerInfo)}function xo(e,t,r,n,a){return fi(),pi(a),t.flags|=256,bo(e,t,r,n),t.child}var Do,Ro,Mo,Oo,Po={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,r){var n,a=t.pendingProps,s=Ji.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Aa(Ji,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,a,0,null),e=Pc(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(r),t.memoizedState=Po,e):Bo(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,a,s,o){if(r)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,n=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Lc({mode:"visible",children:n.children},a,0,null),(s=Pc(s,a,o,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Po,s);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Uo(e,t,o,n=co(s=Error(i(419)),n,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(n=Nl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Oi(e,a),rc(n,e,a,-1))}return gc(),Uo(e,t,o,n=co(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ni=ca(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&($a[Ka++]=qa,$a[Ka++]=Qa,$a[Ka++]=Xa,qa=e.id,Qa=e.overflow,Xa=t),t=Bo(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,s,r);if(o){o=a.fallback,l=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?o=Mc(n,o):(o=Pc(o,l,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Po,a}return e=(o=e.child).sibling,a=Mc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Bo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,r,n){return null!==n&&pi(n),bi(t,e.child,null,r),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ki(e.return,t,r)}function jo(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Ho(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(bo(e,t,n.children,r),0!==(2&(n=Ji.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,r,t);else if(19===e.tag)Vo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Aa(Ji,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===es(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),jo(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}jo(t,!0,r,null,i);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Mc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Mc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Yo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $o(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Ra(t.type)&&Ma(),Go(t),null;case 3:return n=t.stateNode,qi(),_a(Na),_a(ka),rs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Ro(e,t),Go(t),null;case 5:Zi(t);var a=Ki($i.current);if(r=t.type,null!==e&&null!=t.stateNode)Mo(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Go(t),null}if(e=Ki(Yi.current),hi(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[da]=t,n[fa]=s,e=0!==(1&t.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(a=0;a<Pn.length;a++)Un(Pn[a],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":q(n,s),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Un("invalid",n);break;case"textarea":ae(n,s),Un("invalid",n)}for(var l in we(r,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Un("scroll",n)}switch(r){case"input":G(n),J(n,s,!0);break;case"textarea":G(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Jn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[da]=t,e[fa]=n,Do(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(r,n),r){case"dialog":Un("cancel",e),Un("close",e),a=n;break;case"iframe":case"object":case"embed":Un("load",e),a=n;break;case"video":case"audio":for(a=0;a<Pn.length;a++)Un(Pn[a],e);a=n;break;case"source":Un("error",e),a=n;break;case"img":case"image":case"link":Un("error",e),Un("load",e),a=n;break;case"details":Un("toggle",e),a=n;break;case"input":q(e,n),a=X(e,n),Un("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=F({},n,{value:void 0}),Un("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Un("invalid",e)}for(s in we(r,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==r||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Un("scroll",e):null!=u&&y(e,s,u,l))}switch(r){case"input":G(e),J(e,n,!1);break;case"textarea":G(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=Ki($i.current),Ki(Yi.current),hi(t)){if(n=t.stateNode,r=t.memoizedProps,n[da]=t,(s=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Zn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[da]=t,t.stateNode=n}return Go(t),null;case 13:if(_a(Ji),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))di(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[da]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ji.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return qi(),Ro(e,t),null===e&&Hn(t.stateNode.containerInfo),Go(t),null;case 10:return Ii(t.type._context),Go(t),null;case 19:if(_a(Ji),null===(s=t.memoizedState))return Go(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)Yo(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Yo(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Aa(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Hl&&(t.flags|=128,n=!0,Yo(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=es(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Yo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Go(t),null}else 2*Qe()-s.renderingStartTime>Hl&&1073741824!==r&&(t.flags|=128,n=!0,Yo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,r=Ji.current,Aa(Ji,n?1&r|2:1&r),t):(Go(t),null);case 22:case 23:return hc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ko(e,t){switch(ti(t),t.tag){case 1:return Ra(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qi(),_a(Na),_a(ka),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(_a(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Ji),null;case 4:return qi(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Do=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ro=function(){},Mo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ki(Yi.current);var i,s=null;switch(r){case"input":a=X(e,a),n=X(e,n),s=[];break;case"select":a=F({},a,{value:void 0}),n=F({},n,{value:void 0}),s=[];break;case"textarea":a=ne(e,a),n=ne(e,n),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(u in we(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Un("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,r,n){r!==n&&(t.flags|=4)};var Xo=!1,qo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Cc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Cc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,r,i)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[da],delete t[fa],delete t[ga],delete t[ma],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,hl=!1;function dl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(o){}switch(r.tag){case 5:qo||Jo(r,t);case 6:var n=ul,a=hl;ul=null,dl(e,t,r),hl=a,null!==(ul=n)&&(hl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(hl?(e=ul,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Ht(e)):la(ul,r.stateNode));break;case 4:n=ul,a=hl,ul=r.stateNode.containerInfo,hl=!0,dl(e,t,r),ul=n,hl=a;break;case 0:case 11:case 14:case 15:if(!qo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(r,t,s),a=a.next}while(a!==n)}dl(e,t,r);break;case 1:if(!qo&&(Jo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Cc(r,t,o)}dl(e,t,r);break;case 21:dl(e,t,r);break;case 22:1&r.mode?(qo=(n=qo)||null!==r.memoizedState,dl(e,t,r),qo=n):dl(e,t,r);break;default:dl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qo),t.forEach((function(t){var n=kc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function gl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(s,o,a),ul=null,hl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Cc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(m){Cc(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&n&&null!==r&&Jo(r,r.return);break;case 5:if(gl(t,e),vl(e),512&n&&null!==r&&Jo(r,r.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(m){Cc(e,e.return,m)}}if(4&n&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==r?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(a,s),ye(l,o);var u=ye(l,s);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?me(a,d):"dangerouslySetInnerHTML"===h?he(a,d):"children"===h?de(a,d):y(a,h,d,u)}switch(l){case"input":Z(a,s);break;case"textarea":ie(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?re(a,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?re(a,!!s.multiple,s.defaultValue,!0):re(a,!!s.multiple,s.multiple?[]:"",!1))}a[fa]=s}catch(m){Cc(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){Cc(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(jl=Qe())),4&n&&pl(e);break;case 22:if(h=null!==r&&null!==r.memoizedState,1&e.mode?(qo=(u=qo)||h,gl(t,e),qo=u):gl(t,e),vl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Jo(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Cc(n,r,m)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Zo=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{a=d.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){Cc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&n&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(de(a,""),n.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){Cc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,r){Zo=e,yl(e,t,r)}function yl(e,t,r){for(var n=0!==(1&e.mode);null!==Zo;){var a=Zo,i=a.child;if(22===a.tag&&n){var s=null!==a.memoizedState||Xo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||qo;o=Xo;var c=qo;if(Xo=s,(qo=l)&&!c)for(Zo=a;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?Sl(a):null!==l?(l.return=s,Zo=l):Sl(a);for(;null!==i;)Zo=i,yl(i,t,r),i=i.sibling;Zo=a,Xo=o,qo=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zo=i):bl(e)}}function bl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!qo)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zi(t,s,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}zi(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(i(163))}qo||512&t.flags&&al(t)}catch(f){Cc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zo=r;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zo=r;break}Zo=t.return}}function Sl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Cc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Cc(t,a,l)}}var i=t.return;try{al(t)}catch(l){Cc(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Cc(t,s,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Tl,Cl=Math.ceil,_l=b.ReactCurrentDispatcher,Al=b.ReactCurrentOwner,Il=b.ReactCurrentBatchConfig,kl=0,Nl=null,xl=null,Dl=0,Rl=0,Ml=Ca(0),Ol=0,Pl=null,Ll=0,Fl=0,Bl=0,Ul=null,Vl=null,jl=0,Hl=1/0,zl=null,Wl=!1,Yl=null,Gl=null,$l=!1,Kl=null,Xl=0,ql=0,Ql=null,Zl=-1,Jl=0;function ec(){return 0!==(6&kl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Dl?Dl&-Dl:null!==gi.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function rc(e,t,r,n){if(50<ql)throw ql=0,Ql=null,Error(i(185));vt(e,r,n),0!==(2&kl)&&e===Nl||(e===Nl&&(0===(2&kl)&&(Fl|=r),4===Ol&&oc(e,Dl)),nc(e,n),1===r&&0===kl&&0===(1&t.mode)&&(Hl=Qe()+500,Ua&&Ha()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&r)&&0===(o&n)||(a[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var n=dt(e,e===Nl?Dl:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Ua=!0,ja(e)}(lc.bind(null,e)):ja(lc.bind(null,e)),sa((function(){0===(6&kl)&&Ha()})),r=null;else{switch(bt(n)){case 1:r=Je;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Nc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Zl=-1,Jl=0,0!==(6&kl))throw Error(i(327));var r=e.callbackNode;if(Sc()&&e.callbackNode!==r)return null;var n=dt(e,e===Nl?Dl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mc(e,n);else{t=n;var a=kl;kl|=2;var s=pc();for(Nl===e&&Dl===t||(zl=null,Hl=Qe()+500,dc(e,t));;)try{wc();break}catch(l){fc(e,l)}Ai(),_l.current=s,kl=a,null!==xl?t=0:(Nl=null,Dl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=ic(e,a))),1===t)throw r=Pl,dc(e,0),oc(e,n),nc(e,Qe()),r;if(6===t)oc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!on(i(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,n))&&(0!==(s=pt(e))&&(n=s,t=ic(e,s))),1===t))throw r=Pl,dc(e,0),oc(e,n),nc(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ec(e,Vl,zl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=jl+500-Qe())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(Ec.bind(null,e,Vl,zl),t);break}Ec(e,Vl,zl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-st(n);s=1<<o,(o=t[o])>a&&(a=o),n&=~s}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cl(n/1960))-n)){e.timeoutHandle=na(Ec.bind(null,e,Vl,zl),n);break}Ec(e,Vl,zl);break;default:throw Error(i(329))}}}return nc(e,Qe()),e.callbackNode===r?ac.bind(null,e):null}function ic(e,t){var r=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vl,Vl=r,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Bl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&kl))throw Error(i(327));Sc();var t=dt(e,0);if(0===(1&t))return nc(e,Qe()),null;var r=mc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ic(e,n))}if(1===r)throw r=Pl,dc(e,0),oc(e,t),nc(e,Qe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,zl),nc(e,Qe()),null}function cc(e,t){var r=kl;kl|=1;try{return e(t)}finally{0===(kl=r)&&(Hl=Qe()+500,Ua&&Ha())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&kl)&&Sc();var t=kl;kl|=1;var r=Il.transition,n=yt;try{if(Il.transition=null,yt=1,e)return e()}finally{yt=n,Il.transition=r,0===(6&(kl=t))&&Ha()}}function hc(){Rl=Ml.current,_a(Ml)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==xl)for(r=xl.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ma();break;case 3:qi(),_a(Na),_a(ka),rs();break;case 5:Zi(n);break;case 4:qi();break;case 13:case 19:_a(Ji);break;case 10:Ii(n.type._context);break;case 22:case 23:hc()}r=r.return}if(Nl=e,xl=e=Mc(e.current,null),Dl=Rl=t,Ol=0,Pl=null,Bl=Fl=Ll=0,Vl=Ul=null,null!==Di){for(t=0;t<Di.length;t++)if(null!==(n=(r=Di[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var s=i.next;i.next=a,n.next=s}r.pending=n}Di=null}return e}function fc(e,t){for(;;){var r=xl;try{if(Ai(),ns.current=Qs,cs){for(var n=ss.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}cs=!1}if(is=0,ls=os=ss=null,us=!1,hs=0,Al.current=null,null===r||null===r.return){Ol=1,Pl=t,xl=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=mo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&go(s,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){go(s,u,t),gc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=mo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pi(lo(c,l));break e}}s=c=lo(c,l),4!==Ol&&(Ol=2),null===Ul?Ul=[s]:Ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ji(s,fo(0,c,t));break e;case 1:l=c;var w=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof w.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,ji(s,po(s,l,t));break e}}s=s.return}while(null!==s)}bc(r)}catch(b){t=b,xl===r&&null!==r&&(xl=r=r.return);continue}break}}function pc(){var e=_l.current;return _l.current=Qs,null===e?Qs:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Fl)||oc(Nl,Dl)}function mc(e,t){var r=kl;kl|=2;var n=pc();for(Nl===e&&Dl===t||(zl=null,dc(e,t));;)try{vc();break}catch(a){fc(e,a)}if(Ai(),kl=r,_l.current=n,null!==xl)throw Error(i(261));return Nl=null,Dl=0,Ol}function vc(){for(;null!==xl;)yc(xl)}function wc(){for(;null!==xl&&!Xe();)yc(xl)}function yc(e){var t=Tl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):xl=t,Al.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=$o(r,t,Rl)))return void(xl=r)}else{if(null!==(r=Ko(r,t)))return r.flags&=32767,void(xl=r);if(null===e)return Ol=6,void(xl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(xl=t);xl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Ec(e,t,r){var n=yt,a=Il.transition;try{Il.transition=null,yt=1,function(e,t,r,n){do{Sc()}while(null!==Kl);if(0!==(6&kl))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-st(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,s),e===Nl&&(xl=Nl=null,Dl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||$l||($l=!0,Nc(tt,(function(){return Sc(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Il.transition,Il.transition=null;var o=yt;yt=1;var l=kl;kl|=4,Al.current=null,function(e,t){if(ea=Wt,fn(e=dn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(E){r=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==r||0!==a&&3!==d.nodeType||(l=o+a),d!==s||0!==n&&3!==d.nodeType||(c=o+n),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++u===a&&(l=o),f===s&&++h===n&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?m:to(t.type,m),v);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(E){Cc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}g=tl,tl=!1}(e,r),ml(r,e),pn(ta),Wt=!!ea,ta=ea=null,e.current=r,wl(r,e,a),qe(),kl=l,yt=o,Il.transition=s}else e.current=r;if($l&&($l=!1,Kl=e,Xl=a),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Yl,Yl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Ql?ql++:(ql=0,Ql=e):ql=0,Ha()}(e,t,r,n)}finally{Il.transition=a,yt=n}return null}function Sc(){if(null!==Kl){var e=bt(Xl),t=Il.transition,r=yt;try{if(Il.transition=null,yt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,Xl=0,0!==(6&kl))throw Error(i(331));var a=kl;for(kl|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(il(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var w=s.sibling;if(null!==w){w.return=s.return,Zo=w;break e}Zo=s.return}}var y=e.current;for(Zo=y;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=y;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(S){Cc(l,l.return,S)}if(l===o){Zo=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Zo=E;break e}Zo=l.return}}if(kl=a,Ha(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(S){}n=!0}return n}finally{yt=r,Il.transition=t}}return!1}function Tc(e,t,r){e=Ui(e,t=fo(0,t=lo(r,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function Cc(e,t,r){if(3===e.tag)Tc(e,e,r);else for(;null!==t;){if(3===t.tag){Tc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gl||!Gl.has(n))){t=Ui(t,e=po(t,e=lo(r,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function _c(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Nl===e&&(Dl&r)===r&&(4===Ol||3===Ol&&(130023424&Dl)===Dl&&500>Qe()-jl?dc(e,0):Bl|=r),nc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=ec();null!==(e=Oi(e,t))&&(vt(e,t,r),nc(e,r))}function Ic(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ac(e,r)}function kc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Ac(e,r)}function Nc(e,t){return $e(e,t)}function xc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,r,n){return new xc(e,t,r,n)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var r=e.alternate;return null===r?((r=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oc(e,t,r,n,a,s){var o=2;if(n=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case T:return Pc(r.children,a,s,t);case C:o=8,a|=8;break;case _:return(e=Dc(12,r,t,2|a)).elementType=_,e.lanes=s,e;case N:return(e=Dc(13,r,t,a)).elementType=N,e.lanes=s,e;case x:return(e=Dc(19,r,t,a)).elementType=x,e.lanes=s,e;case M:return Lc(r,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case I:o=9;break e;case k:o=11;break e;case D:o=14;break e;case R:o=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Dc(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Pc(e,t,r,n){return(e=Dc(7,e,n,t)).lanes=r,e}function Lc(e,t,r,n){return(e=Dc(22,e,n,t)).elementType=M,e.lanes=r,e.stateNode={isHidden:!1},e}function Fc(e,t,r){return(e=Dc(6,e,null,t)).lanes=r,e}function Bc(e,t,r){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vc(e,t,r,n,a,i,s,o,l){return e=new Uc(e,t,r,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Dc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function jc(e){if(!e)return Ia;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Ra(r))return Pa(e,r,t)}return t}function Hc(e,t,r,n,a,i,s,o,l){return(e=Vc(r,n,!0,e,0,i,0,o,l)).context=jc(null),r=e.current,(i=Bi(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Ui(r,i,a),e.current.lanes=a,vt(e,a,n),nc(e,n),e}function zc(e,t,r,n){var a=t.current,i=ec(),s=tc(a);return r=jc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Bi(i,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ui(a,t,s))&&(rc(e,a,s,i),Vi(e,a,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Tl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Na.current)yo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yo=!1,function(e,t,r){switch(t.tag){case 3:No(t),fi();break;case 5:Qi(t);break;case 1:Ra(t.type)&&La(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Aa(Si,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Aa(Ji,1&Ji.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Fo(e,t,r):(Aa(Ji,1&Ji.current),null!==(e=Wo(e,t,r))?e.sibling:null);Aa(Ji,1&Ji.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Ho(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Aa(Ji,Ji.current),n)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,r)}return Wo(e,t,r)}(e,t,r);yo=0!==(131072&e.flags)}else yo=!1,ai&&0!==(1048576&t.flags)&&Ja(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zo(e,t),e=t.pendingProps;var a=Da(t,ka.current);Ni(t,r),a=gs(null,t,n,e,a,r);var s=ms();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(n)?(s=!0,La(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Li(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,r),t=ko(null,t,n,!0,s,r)):(t.tag=0,ai&&s&&ei(t),bo(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===D)return 14}return 2}(n),e=to(n,e),a){case 0:t=Ao(null,t,n,e,r);break e;case 1:t=Io(null,t,n,e,r);break e;case 11:t=Eo(null,t,n,e,r);break e;case 14:t=So(null,t,n,to(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ao(e,t,n,a=t.elementType===n?a:to(n,a),r);case 1:return n=t.type,a=t.pendingProps,Io(e,t,n,a=t.elementType===n?a:to(n,a),r);case 3:e:{if(No(t),null===e)throw Error(i(387));n=t.pendingProps,a=(s=t.memoizedState).element,Fi(e,t),Hi(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=xo(e,t,n,r,a=lo(Error(i(423)),t));break e}if(n!==a){t=xo(e,t,n,r,a=lo(Error(i(424)),t));break e}for(ni=ca(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=Ei(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fi(),n===a){t=Wo(e,t,r);break e}bo(e,t,n,r)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),n=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,ra(n,a)?o=null:null!==s&&ra(n,s)&&(t.flags|=32),_o(e,t),bo(e,t,o,r),t.child;case 6:return null===e&&ci(t),null;case 13:return Fo(e,t,r);case 4:return Xi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=bi(t,null,n,r):bo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Eo(e,t,n,a=t.elementType===n?a:to(n,a),r);case 7:return bo(e,t,t.pendingProps,r),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Aa(Si,n._currentValue),n._currentValue=o,null!==s)if(on(s.value,o)){if(s.children===a.children&&!Na.current){t=Wo(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=Bi(-1,r&-r)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),ki(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),ki(o,r,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ni(t,r),n=n(a=xi(a)),t.flags|=1,bo(e,t,n,r),t.child;case 14:return a=to(n=t.type,t.pendingProps),So(e,t,n,a=to(n.type,a),r);case 15:return To(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),zo(e,t),t.tag=1,Ra(n)?(e=!0,La(t)):e=!1,Ni(t,r),io(t,n,a),oo(t,n,a,r),ko(null,t,n,!0,e,r);case 19:return Ho(e,t,r);case 22:return Co(e,t,r)}throw Error(i(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Wc(s);o.call(e)}}zc(t,s,e,a)}else s=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Wc(s);i.call(e)}}var s=Hc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pa]=s.current,Hn(8===e.nodeType?e.parentNode:e),uc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Wc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pa]=l.current,Hn(8===e.nodeType?e.parentNode:e),uc((function(){zc(t,l,r,n)})),l}(r,t,e,a,n);return Wc(s)}Xc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zc(e,t,null,null)},Xc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){zc(null,e,null,null)})),t[pa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&0!==t&&t<Mt[r].priority;r++);Mt.splice(r,0,e),0===r&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ht(t.pendingLanes);0!==r&&(wt(t,1|r),nc(t,Qe()),0===(6&kl)&&(Hl=Qe()+500,Ha()))}break;case 13:uc((function(){var t=Oi(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Oi(e,134217728);if(null!==t)rc(t,e,134217728,ec());Gc(e,134217728)}},Tt=function(e){if(13===e.tag){var t=tc(e),r=Oi(e,t);if(null!==r)rc(r,e,t,ec());Gc(e,t)}},Ct=function(){return yt},_t=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},Se=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ea(n);if(!a)throw Error(i(90));$(n),Z(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},ke=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[ya,ba,Ea,Ae,Ie,cc]},tu={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(ru),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!qc(e))throw Error(i(299));var r=!1,n="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Vc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,Hn(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(i(200));return Jc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!qc(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,s="",o=$c;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Hc(t,null,e,1,null!=r?r:null,a,0,s,o),e[pa]=t.current,Hn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Xc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(i(200));return Jc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},772:(e,t,r)=>{const n=r(969),a=r(272),i=r(566),s=r(661),o=r(382),l=r(21),c=r(833),u=r(805),h=r(177),d=r(980),f=r(350),p=r(421),g=r(4);function m(e,t,r){const n=e.size,a=f.getEncodedBits(t,r);let i,s;for(i=0;i<15;i++)s=1===(a>>i&1),i<6?e.set(i,8,s,!0):i<8?e.set(i+1,8,s,!0):e.set(n-15+i,8,s,!0),i<8?e.set(8,n-i-1,s,!0):i<9?e.set(8,15-i-1+1,s,!0):e.set(8,15-i-1,s,!0);e.set(n-8,8,1,!0)}function v(e,t,r){const a=new i;r.forEach((function(t){a.put(t.mode.bit,4),a.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(a)}));const s=8*(n.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(a.getLengthInBits()+4<=s&&a.put(0,4);a.getLengthInBits()%8!==0;)a.putBit(0);const o=(s-a.getLengthInBits())/8;for(let n=0;n<o;n++)a.put(n%2?17:236,8);return function(e,t,r){const a=n.getSymbolTotalCodewords(t),i=u.getTotalCodewordsCount(t,r),s=a-i,o=u.getBlocksCount(t,r),l=a%o,c=o-l,d=Math.floor(a/o),f=Math.floor(s/o),p=f+1,g=d-f,m=new h(g);let v=0;const w=new Array(o),y=new Array(o);let b=0;const E=new Uint8Array(e.buffer);for(let n=0;n<o;n++){const e=n<c?f:p;w[n]=E.slice(v,v+e),y[n]=m.encode(w[n]),v+=e,b=Math.max(b,e)}const S=new Uint8Array(a);let T,C,_=0;for(T=0;T<b;T++)for(C=0;C<o;C++)T<w[C].length&&(S[_++]=w[C][T]);for(T=0;T<g;T++)for(C=0;C<o;C++)S[_++]=y[C][T];return S}(a,e,t)}function w(e,t,r,a){let i;if(Array.isArray(e))i=g.fromArray(e);else{if("string"!==typeof e)throw new Error("Invalid data");{let n=t;if(!n){const t=g.rawSplit(e);n=d.getBestVersionForData(t,r)}i=g.fromString(e,n||40)}}const u=d.getBestVersionForData(i,r);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else t=u;const h=v(t,r,i),f=n.getSymbolSize(t),p=new s(f);return function(e,t){const r=e.size,n=l.getPositions(t);for(let a=0;a<n.length;a++){const t=n[a][0],i=n[a][1];for(let n=-1;n<=7;n++)if(!(t+n<=-1||r<=t+n))for(let a=-1;a<=7;a++)i+a<=-1||r<=i+a||(n>=0&&n<=6&&(0===a||6===a)||a>=0&&a<=6&&(0===n||6===n)||n>=2&&n<=4&&a>=2&&a<=4?e.set(t+n,i+a,!0,!0):e.set(t+n,i+a,!1,!0))}}(p,t),function(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2===0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(p),function(e,t){const r=o.getPositions(t);for(let n=0;n<r.length;n++){const t=r[n][0],a=r[n][1];for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)-2===r||2===r||-2===n||2===n||0===r&&0===n?e.set(t+r,a+n,!0,!0):e.set(t+r,a+n,!1,!0)}}(p,t),m(p,r,0),t>=7&&function(e,t){const r=e.size,n=d.getEncodedBits(t);let a,i,s;for(let o=0;o<18;o++)a=Math.floor(o/3),i=o%3+r-8-3,s=1===(n>>o&1),e.set(a,i,s,!0),e.set(i,a,s,!0)}(p,t),function(e,t){const r=e.size;let n=-1,a=r-1,i=7,s=0;for(let o=r-1;o>0;o-=2)for(6===o&&o--;;){for(let r=0;r<2;r++)if(!e.isReserved(a,o-r)){let n=!1;s<t.length&&(n=1===(t[s]>>>i&1)),e.set(a,o-r,n),i--,-1===i&&(s++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}(p,h),isNaN(a)&&(a=c.getBestMask(p,m.bind(null,p,r))),c.applyMask(a,p),m(p,r,a),{modules:p,version:t,errorCorrectionLevel:r,maskPattern:a,segments:i}}t.create=function(e,t){if("undefined"===typeof e||""===e)throw new Error("No input text");let r,i,s=a.M;return"undefined"!==typeof t&&(s=a.from(t.errorCorrectionLevel,a.M),r=d.from(t.version),i=c.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),w(e,r,s,i)}},805:(e,t,r)=>{const n=r(272),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return a[4*(e-1)+0];case n.M:return a[4*(e-1)+1];case n.Q:return a[4*(e-1)+2];case n.H:return a[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return i[4*(e-1)+0];case n.M:return i[4*(e-1)+1];case n.Q:return i[4*(e-1)+2];case n.H:return i[4*(e-1)+3];default:return}}},833:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r=3,n=3,a=40,i=10;function s(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return n%3===0;case t.Patterns.PATTERN011:return(r+n)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2===0;case t.Patterns.PATTERN101:return r*n%2+r*n%3===0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2===0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let n=0,a=0,i=0,s=null,o=null;for(let l=0;l<t;l++){a=i=0,s=o=null;for(let c=0;c<t;c++){let t=e.get(l,c);t===s?a++:(a>=5&&(n+=r+(a-5)),s=t,a=1),t=e.get(c,l),t===o?i++:(i>=5&&(n+=r+(i-5)),o=t,i=1)}a>=5&&(n+=r+(a-5)),i>=5&&(n+=r+(i-5))}return n},t.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let a=0;a<t-1;a++){const t=e.get(n,a)+e.get(n,a+1)+e.get(n+1,a)+e.get(n+1,a+1);4!==t&&0!==t||r++}return r*n},t.getPenaltyN3=function(e){const t=e.size;let r=0,n=0,i=0;for(let a=0;a<t;a++){n=i=0;for(let s=0;s<t;s++)n=n<<1&2047|e.get(a,s),s>=10&&(1488===n||93===n)&&r++,i=i<<1&2047|e.get(s,a),s>=10&&(1488===i||93===i)&&r++}return r*a},t.getPenaltyN4=function(e){let t=0;const r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*i},t.applyMask=function(e,t){const r=t.size;for(let n=0;n<r;n++)for(let a=0;a<r;a++)t.isReserved(a,n)||t.xor(a,n,s(e,a,n))},t.getBestMask=function(e,r){const n=Object.keys(t.Patterns).length;let a=0,i=1/0;for(let s=0;s<n;s++){r(s),t.applyMask(s,e);const n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),n<i&&(i=n,a=s)}return a}},853:(e,t,r)=>{"use strict";e.exports=r(234)},900:(e,t,r)=>{const n=r(421);function a(e){this.mode=n.NUMERIC,this.data=e.toString()}a.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);const a=this.data.length-t;a>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*a+1))},e.exports=a},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},969:(e,t)=>{let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!==typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return"undefined"!==typeof r},t.toSJIS=function(e){return r(e)}},970:(e,t,r)=>{const n=r(116),a=r(772),i=r(182),s=r(487);function o(e,t,r,i,s){const o=[].slice.call(arguments,1),l=o.length,c="function"===typeof o[l-1];if(!c&&!n())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(r=t,t=i=void 0):2!==l||t.getContext||(i=r,r=t,t=void 0),new Promise((function(n,s){try{const s=a.create(r,i);n(e(s,t,i))}catch(o){s(o)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(s=r,r=t,t=i=void 0):3===l&&(t.getContext&&"undefined"===typeof s?(s=i,i=void 0):(s=i,i=r,r=t,t=void 0));try{const n=a.create(r,i);s(null,e(n,t,i))}catch(u){s(u)}}t.create=a.create,t.toCanvas=o.bind(null,i.render),t.toDataURL=o.bind(null,i.renderToDataURL),t.toString=o.bind(null,(function(e,t,r){return s.render(e,r)}))},980:(e,t,r)=>{const n=r(969),a=r(805),i=r(272),s=r(421),o=r(257),l=n.getBCHDigit(7973);function c(e,t){return s.getCharCountIndicator(e,t)+4}function u(e,t){let r=0;return e.forEach((function(e){const n=c(e.mode,t);r+=n+e.getBitsLength()})),r}t.from=function(e,t){return o.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!o.isValid(e))throw new Error("Invalid QR Code version");"undefined"===typeof r&&(r=s.BYTE);const i=8*(n.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(r===s.MIXED)return i;const l=i-c(r,e);switch(r){case s.NUMERIC:return Math.floor(l/10*3);case s.ALPHANUMERIC:return Math.floor(l/11*2);case s.KANJI:return Math.floor(l/13);case s.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,r){let n;const a=i.from(r,i.M);if(Array.isArray(e)){if(e.length>1)return function(e,r){for(let n=1;n<=40;n++)if(u(e,n)<=t.getCapacity(n,r,s.MIXED))return n}(e,a);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,r,n){for(let a=1;a<=40;a++)if(r<=t.getCapacity(a,n,e))return a}(n.mode,n.getLength(),a)},t.getEncodedBits=function(e){if(!o.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-l>=0;)t^=7973<<n.getBCHDigit(t)-l;return e<<12|t}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,r.d(i,s),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="./",(()=>{"use strict";var e=r(43),t=r.t(e,2),n=r(391),a=(r(358),"popstate");function i(){return d((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return c("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function h(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function d(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=n,h=i.history,d="POP",f=null,p=g();function g(){return(h.state||{idx:null}).idx}function m(){d="POP";let e=g(),t=null==e?null:e-p;p=e,f&&f({action:d,location:w.location,delta:t})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:u(e);return r=r.replace(/ $/,"%20"),s(t,`No window.location.(origin|href) available to create URL for href: ${r}`),new URL(r,t)}null==p&&(p=0,h.replaceState({...h.state,idx:p},""));let w={get action(){return d},get location(){return e(i,h)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(a,m),f=e,()=>{i.removeEventListener(a,m),f=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let n=c(w.location,e,t);r&&r(n,e),p=g()+1;let a=l(n,p),s=w.createHref(n);try{h.pushState(a,"",s)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;i.location.assign(s)}o&&f&&f({action:d,location:w.location,delta:1})},replace:function(e,t){d="REPLACE";let n=c(w.location,e,t);r&&r(n,e),p=g();let a=l(n,p),i=w.createHref(n);h.replaceState(a,"",i),o&&f&&f({action:d,location:w.location,delta:0})},go:e=>h.go(e)};return w}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,r,n){let a=k(("string"===typeof t?h(t):t).pathname||"/",r);if(null==a)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=I(a);s=_(i[o],e,n)}return s}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(n),`Absolute route path "${o.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(n.length));let l=M([n,o.relativePath]),c=r.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of m(e.path))a(e,t,r);else a(e,t)})),t}function m(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let s=m(n.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,w=3,y=2,b=1,E=10,S=-2,T=e=>"*"===e;function C(e,t){let r=e.split("/"),n=r.length;return r.some(T)&&(n+=S),t&&(n+=y),r.filter((e=>!T(e))).reduce(((e,t)=>e+(v.test(t)?w:""===t?b:E)),n)}function _(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:M([i,u.pathname]),pathnameBase:O(M([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1),c=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=l[r]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[r];return e[n]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:i,pathnameBase:s,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function k(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function N(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e){let t=x(e);return t.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase))}function R(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=h(e):(n={...e},s(!n.pathname||!n.pathname.includes("?"),N("?","pathname","search",n)),s(!n.pathname||!n.pathname.includes("#"),N("#","pathname","hash",n)),s(!n.search||!n.search.includes("#"),N("#","search","hash",n)));let i,o=""===e||""===n.pathname,l=o?"/":n.pathname;if(null==l)i=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?h(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:P(n),hash:L(a)}}(n,i),u=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var M=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var B=["POST","PUT","PATCH","DELETE"],U=(new Set(B),["GET",...B]);new Set(U),Symbol("ResetLoaderData");var V=e.createContext(null);V.displayName="DataRouter";var j=e.createContext(null);j.displayName="DataRouterState";var H=e.createContext({isTransitioning:!1});H.displayName="ViewTransition";var z=e.createContext(new Map);z.displayName="Fetchers";var W=e.createContext(null);W.displayName="Await";var Y=e.createContext(null);Y.displayName="Navigation";var G=e.createContext(null);G.displayName="Location";var K=e.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var X=e.createContext(null);X.displayName="RouteError";function q(){return null!=e.useContext(G)}function Q(){return s(q(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(G).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J(t){e.useContext(Y).static||e.useLayoutEffect(t)}function ee(){let{isDataRoute:t}=e.useContext(K);return t?function(){let{router:t}=ue("useNavigate"),r=de("useNavigate"),n=e.useRef(!1);J((()=>{n.current=!0}));let a=e.useCallback((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(n.current,Z),n.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:r,...a}))}),[t,r]);return a}():function(){s(q(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(V),{basename:r,navigator:n}=e.useContext(Y),{matches:a}=e.useContext(K),{pathname:i}=Q(),l=JSON.stringify(D(a)),c=e.useRef(!1);J((()=>{c.current=!0}));let u=e.useCallback((function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(c.current,Z),!c.current)return;if("number"===typeof e)return void n.go(e);let s=R(e,JSON.parse(l),i,"path"===a.relative);null==t&&"/"!==r&&(s.pathname="/"===s.pathname?r:M([r,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)}),[r,n,l,i,t]);return u}()}e.createContext(null);function te(){let{matches:t}=e.useContext(K),r=t[t.length-1];return r?r.params:{}}function re(t){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=e.useContext(K),{pathname:a}=Q(),i=JSON.stringify(D(n));return e.useMemo((()=>R(t,JSON.parse(i),a,"path"===r)),[t,i,a,r])}function ne(t,r,n,a){s(q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=e.useContext(Y),{matches:c}=e.useContext(K),u=c[c.length-1],d=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",m=u&&u.route;{let e=m&&m.path||"";ge(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,w=Q();if(r){let e="string"===typeof r?h(r):r;s("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=w;let y=v.pathname||"/",b=y;if("/"!==g){let e=g.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let E=!l&&n&&n.matches&&n.matches.length>0?n.matches:f(t,{pathname:b});o(m||null!=E,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),o(null==E||void 0!==E[E.length-1].route.element||void 0!==E[E.length-1].route.Component||void 0!==E[E.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=le(E&&E.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([g,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:M([g,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,n,a);return r&&S?e.createElement(G.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function ae(){let t=fe(),r=F(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},r),n?e.createElement("pre",{style:i},n):null,o)}var ie=e.createElement(ae,null),se=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(K.Provider,{value:this.props.routeContext},e.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(t){let{routeContext:r,match:n,children:a}=t,i=e.useContext(V);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),e.createElement(K.Provider,{value:r},a)}function le(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let a=t,i=n?.errors;if(null!=i){let e=a.findIndex((e=>e.route.id&&void 0!==i?.[e.route.id]));s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight(((t,s,c)=>{let u,h=!1,d=null,f=null;n&&(u=i&&s.route.id?i[s.route.id]:void 0,d=s.route.errorElement||ie,o&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===c&&(h=!0,f=s.route.hydrateFallbackElement||null)));let p=r.concat(a.slice(0,c+1)),g=()=>{let r;return r=u?d:h?f:s.route.Component?e.createElement(s.route.Component,null):s.route.element?s.route.element:t,e.createElement(oe,{match:s,routeContext:{outlet:t,matches:p,isDataRoute:null!=n},children:r})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===c)?e.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(t){let r=e.useContext(V);return s(r,ce(t)),r}function he(t){let r=e.useContext(j);return s(r,ce(t)),r}function de(t){let r=function(t){let r=e.useContext(K);return s(r,ce(t)),r}(t),n=r.matches[r.matches.length-1];return s(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fe(){let t=e.useContext(X),r=he("useRouteError"),n=de("useRouteError");return void 0!==t?t:r.errors?.[n]}var pe={};function ge(e,t,r){t||pe[e]||(pe[e]=!0,o(!1,r))}e.memo((function(e){let{routes:t,future:r,state:n}=e;return ne(t,void 0,n,r)}));function me(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve(t){let{basename:r="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:c=!1}=t;s(!q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:u,navigator:l,static:c,future:{}})),[u,l,c]);"string"===typeof a&&(a=h(a));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:v="default"}=a,w=e.useMemo((()=>{let e=k(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:v},navigationType:i}}),[u,f,p,g,m,v,i]);return o(null!=w,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==w?null:e.createElement(Y.Provider,{value:d},e.createElement(G.Provider,{children:n,value:w}))}function we(e){let{children:t,location:r}=e;return ne(ye(t),r)}e.Component;function ye(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return e.Children.forEach(t,((t,a)=>{if(!e.isValidElement(t))return;let i=[...r,a];if(t.type===e.Fragment)return void n.push.apply(n,ye(t.props.children,i));s(t.type===me,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=ye(t.props.children,i)),n.push(o)})),n}var be="get",Ee="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var Te=null;var Ce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _e(e){return null==e||Ce.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ee}"`),null)}function Ae(e,t){let r,n,a,i,s;if(Se(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");n=s?k(s,t):null,r=e.getAttribute("method")||be,a=_e(e.getAttribute("enctype"))||Ee,i=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(n=o?k(o,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||be,a=_e(e.getAttribute("formenctype"))||_e(s.getAttribute("enctype"))||Ee,i=new FormData(s,e),!function(){if(null===Te)try{new FormData(document.createElement("form"),0),Te=!1}catch(e){Te=!0}return Te}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,n)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=be,n=null,a=Ee,s=e}var o;return i&&"text/plain"===a&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}function Ie(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function ke(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ne(e){return null!=e&&"string"===typeof e.page}function xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function De(e,t,r,n,a,i){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0})):[]}function Re(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a})).flat(1),[...new Set(n)];var n}function Me(e,t){let r=new Set,n=new Set(t);return e.reduce(((e,a)=>{if(t&&!Ne(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let i=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(i)||(r.add(i),e.push({key:i,link:a})),e}),[])}function Oe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Pe(e,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.data":t&&"/"===k(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}e.Component;function Le(t){let{error:r,isOutsideRemixApp:n}=t;console.error(r);let a,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(F(r))return e.createElement(Fe,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),i);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return e.createElement(Fe,{title:"Application Error!",isOutsideRemixApp:n},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Fe(t){let{title:r,renderScripts:n,isOutsideRemixApp:a,children:i}=t,{routeModules:s}=He();return s.root?.Layout&&!a?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?e.createElement(Xe,null):null)))}function Be(e){return!0===e}function Ue(){let t=e.useContext(V);return Ie(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ve(){let t=e.useContext(j);return Ie(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var je=e.createContext(void 0);function He(){let t=e.useContext(je);return Ie(t,"You must render this element inside a <HydratedRouter> element"),t}function ze(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function We(e,t,r){if(r&&!Ke)return[e[0]];if(t){let r=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,r+1)}return e}function Ye(t){let{page:r,...n}=t,{router:a}=Ue(),i=e.useMemo((()=>f(a.routes,r,a.basename)),[a.routes,r,a.basename]);return i?e.createElement($e,{page:r,matches:i,...n}):null}function Ge(t){let{manifest:r,routeModules:n}=He(),[a,i]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,r){let n=await Promise.all(e.map((async e=>{let n=t.routes[e.route.id];if(n){let e=await ke(n,r);return e.links?e.links():[]}return[]})));return Me(n.flat(1).filter(xe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,r,n).then((t=>{e||i(t)})),()=>{e=!0}}),[t,r,n]),a}function $e(t){let{page:r,matches:n,...a}=t,i=Q(),{manifest:s,routeModules:o}=He(),{basename:l}=Ue(),{loaderData:c,matches:u}=Ve(),h=e.useMemo((()=>De(r,n,u,s,i,"data")),[r,n,u,s,i]),d=e.useMemo((()=>De(r,n,u,s,i,"assets")),[r,n,u,s,i]),f=e.useMemo((()=>{if(r===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach((r=>{let n=s.routes[r.route.id];n&&n.hasLoader&&(!h.some((e=>e.route.id===r.route.id))&&r.route.id in c&&o[r.route.id]?.shouldRevalidate||n.hasClientLoader?t=!0:e.add(r.route.id))})),0===e.size)return[];let a=Pe(r,l);return t&&e.size>0&&a.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[l,c,i,s,h,n,r,o]),p=e.useMemo((()=>Re(d,s)),[d,s]),g=Ge(d);return e.createElement(e.Fragment,null,f.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...a}))),p.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...a}))),g.map((t=>{let{key:r,link:n}=t;return e.createElement("link",{key:r,...n})})))}je.displayName="FrameworkContext";var Ke=!1;function Xe(t){let{manifest:r,serverHandoffString:n,isSpaMode:a,ssr:i,renderMeta:s}=He(),{router:o,static:l,staticContext:c}=Ue(),{matches:u}=Ve(),h=Be(i);s&&(s.didRenderScripts=!0);let d=We(u,null,a);e.useEffect((()=>{0}),[]);let p=e.useMemo((()=>{let a=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=l?`${r.hmr?.runtime?`import ${JSON.stringify(r.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(r.url)}`};\n${d.map(((e,t)=>{let n=`route${t}`,a=r.routes[e.route.id];Ie(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:`${n}_clientAction`}]:[],...s?[{module:s,varName:`${n}_clientLoader`}]:[],...o?[{module:o,varName:`${n}_clientMiddleware`}]:[],...l?[{module:l,varName:`${n}_HydrateFallback`}]:[],{module:c,varName:`${n}_main`}];return 1===u.length?`import * as ${n} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${n} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...n}=e,a=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach((e=>{let r=f(t.routes,e,t.basename);r&&r.forEach((e=>a.add(e.route.id)))}));let o=[...a].reduce(((e,t)=>Object.assign(e,{[t]:n.routes[t]})),{});return{...n,routes:o,sri:!!r||void 0}}(r,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(r.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(a),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(i),type:"module",async:!0}))}),[]),g=Ke?[]:(r.entry.imports.concat(Re(d,r,{includeHydrateFallback:!0})),[...new Set(m)]);var m;let v="object"===typeof r.sri?r.sri:{};return Ke?null:e.createElement(e.Fragment,null,"object"===typeof r.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,h?null:e.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:t.crossOrigin,integrity:v[r.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:t.crossOrigin,integrity:v[r.entry.module],suppressHydrationWarning:!0}),g.map((r=>e.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:t.crossOrigin,integrity:v[r],suppressHydrationWarning:!0}))),p)}function qe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Qe&&(window.__reactRouterVersion="7.5.0")}catch(qF){}function Ze(t){let{basename:r,children:n,window:a}=t,s=e.useRef();null==s.current&&(s.current=i({window:a,v5Compat:!0}));let o=s.current,[l,c]=e.useState({action:o.action,location:o.location}),u=e.useCallback((t=>{e.startTransition((()=>c(t)))}),[c]);return e.useLayoutEffect((()=>o.listen(u)),[o,u]),e.createElement(ve,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:o})}var Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=e.forwardRef((function(t,r){let n,{onClick:a,discover:i="render",prefetch:l="none",relative:c,reloadDocument:h,replace:d,state:f,target:p,to:g,preventScrollReset:m,viewTransition:v,...w}=t,{basename:y}=e.useContext(Y),b="string"===typeof g&&Je.test(g),E=!1;if("string"===typeof g&&b&&(n=g,Qe))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),r=k(t.pathname,y);t.origin===e.origin&&null!=r?g=r+t.search+t.hash:E=!0}catch(qF){o(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(t){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(q(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=e.useContext(Y),{hash:i,pathname:o,search:l}=re(t,{relative:r}),c=o;return"/"!==n&&(c="/"===o?n:M([n,o])),a.createHref({pathname:c,search:l,hash:i})}(g,{relative:c}),[T,C,_]=function(t,r){let n=e.useContext(je),[a,i]=e.useState(!1),[s,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=r,f=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(a){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return n?"intent"!==t?[s,f,{}]:[s,f,{onFocus:ze(l,p),onBlur:ze(c,g),onMouseEnter:ze(u,p),onMouseLeave:ze(h,g),onTouchStart:ze(d,p)}]:[!1,f,{}]}(l,w),A=function(t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=Q(),h=re(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,r)){e.preventDefault();let r=void 0!==n?n:u(c)===u(h);l(t,{replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:o})}}),[c,l,h,n,a,r,t,i,s,o])}(g,{replace:d,state:f,target:p,preventScrollReset:m,relative:c,viewTransition:v});let I=e.createElement("a",{...w,..._,href:n||S,onClick:E||h?a:function(e){a&&a(e),e.defaultPrevented||A(e)},ref:qe(r,C),target:p,"data-discover":b||"render"!==i?void 0:"true"});return T&&!b?e.createElement(e.Fragment,null,I,e.createElement(Ye,{page:S})):I}));et.displayName="Link",e.forwardRef((function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:h,...d}=t,f=re(c,{relative:d.relative}),p=Q(),g=e.useContext(j),{navigator:m,basename:v}=e.useContext(Y),w=null!=g&&function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.useContext(H);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=nt("useViewTransitionState"),i=re(t,{relative:r.relative});if(!n.isTransitioning)return!1;let o=k(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=k(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=A(i.pathname,l)||null!=A(i.pathname,o)}(f)&&!0===u,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,b=p.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(b=b.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&v&&(E=k(E,v)||E);const S="/"!==y&&y.endsWith("/")?y.length-1:y.length;let T,C=b===y||!o&&b.startsWith(y)&&"/"===b.charAt(S),_=null!=E&&(E===y||!o&&E.startsWith(y)&&"/"===E.charAt(y.length)),I={isActive:C,isPending:_,isTransitioning:w},N=C?n:void 0;T="function"===typeof i?i(I):[i,C?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let x="function"===typeof l?l(I):l;return e.createElement(et,{...d,"aria-current":N,className:T,ref:r,style:x,to:c,viewTransition:u},"function"===typeof h?h(I):h)})).displayName="NavLink";var tt=e.forwardRef(((t,r)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:o,replace:l,state:c,method:h=be,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m,...v}=t,w=st(),y=function(t){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=e.useContext(Y),a=e.useContext(K);s(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...re(t||".",{relative:r})},l=Q();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),r=t.some((e=>""===e));if(r){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();o.search=r?`?${r}`:""}}t&&"."!==t||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:M([n,o.pathname]));return u(o)}(d,{relative:p}),b="get"===h.toLowerCase()?"get":"post",E="string"===typeof d&&Je.test(d);return e.createElement("form",{ref:r,method:b,action:y,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||h;w(t||e.currentTarget,{fetcherKey:a,method:r,navigate:i,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:m})},...v,"data-discover":E||"render"!==n?void 0:"true"})}));function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nt(t){let r=e.useContext(V);return s(r,rt(t)),r}tt.displayName="Form";var at=0,it=()=>`__${String(++at)}__`;function st(){let{router:t}=nt("useSubmit"),{basename:r}=e.useContext(Y),n=de("useRouteId");return e.useCallback((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=Ae(e,r);if(!1===a.navigate){let e=a.fetcherKey||it();await t.fetch(e,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[t,r,n])}new TextEncoder;const ot=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):55296===(64512&a)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,s=i?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;o||(d=64,i||(h=64)),n.push(r[c],r[u],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ot(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const t=r[e.charAt(a++)],i=a<e.length?r[e.charAt(a)]:0;++a;const s=a<e.length?r[e.charAt(a)]:64;++a;const o=a<e.length?r[e.charAt(a)]:64;if(++a,null==t||null==i||null==s||null==o)throw new ct;const l=t<<2|i>>4;if(n.push(l),64!==s){const e=i<<4&240|s>>2;if(n.push(e),64!==o){const e=s<<6&192|o;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ct extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(e){return function(e){const t=ot(e);return lt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ht=function(e){try{return lt.decodeString(e,!0)}catch(qF){console.error("base64Decode failed: ",qF)}return null};const dt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ft=()=>{try{return dt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(qF){return}const t=e&&ht(e[1]);return t&&JSON.parse(t)})()}catch(qF){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${qF}`)}},pt=e=>{var t,r;return null===(r=null===(t=ft())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},gt=()=>{var e;return null===(e=ft())||void 0===e?void 0:e.config},mt=e=>{var t;return null===(t=ft())||void 0===t?void 0:t[`_${e}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,r))}}}function wt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yt(){return!function(){var e;const t=null===(e=ft())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(qF){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bt(){try{return"object"===typeof indexedDB}catch(qF){return!1}}class Et extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},r=`${this.service}/${e}`,n=this.errors[e],a=n?function(e,t){return e.replace(Tt,((e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`}))}(n,t):"Error",i=`${this.serviceName}: ${a} (${r}).`;return new Et(r,i,t)}}const Tt=/\{\$([^}]+)}/g;function Ct(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const r=e[a],i=t[a];if(_t(r)&&_t(i)){if(!Ct(r,i))return!1}else if(r!==i)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function _t(e){return null!==e&&"object"===typeof e}function At(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach((e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function It(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}})),t}function kt(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}class Nt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!==typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"===typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=xt),void 0===n.error&&(n.error=xt),void 0===n.complete&&(n.complete=xt);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(qF){}})),this.observers.push(n),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(qF){"undefined"!==typeof console&&console.error&&console.error(qF)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function xt(){}function Dt(e){return e&&e._delegate?e._delegate:e}class Rt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Mt="[DEFAULT]";class Ot{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new vt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(qF){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),n=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(qF){if(n)return null;throw qF}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mt})}catch(qF){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(qF){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,i]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(a)&&i.resolve(n)}return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),a=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&e(i,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch(JS){}}getOrInitializeService(e){let{instanceIdentifier:t,options:r={}}=e,n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===Mt?void 0:a),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(JS){}var a;return n||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.component?this.component.multipleInstances?e:Mt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ot(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Lt=[];var Ft;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ft||(Ft={}));const Bt={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},Ut=Ft.INFO,Vt={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},jt=function(e,t){if(t<e.logLevel)return;const r=(new Date).toISOString(),n=Vt[t];if(!n)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];console[n](`[${r}]  ${e.name}:`,...i)};class Ht{constructor(e){this.name=e,this._logLevel=Ut,this._logHandler=jt,this._userLogHandler=null,Lt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}let zt,Wt;const Yt=new WeakMap,Gt=new WeakMap,$t=new WeakMap,Kt=new WeakMap,Xt=new WeakMap;let qt={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return Gt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$t.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Jt(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Qt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wt||(Wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(er(this),r),Jt(Yt.get(this))}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Jt(e.apply(er(this),r))}:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];const i=e.call(er(this),t,...n);return $t.set(i,t.sort?t.sort():[t]),Jt(i)}}function Zt(e){return"function"===typeof e?Qt(e):(e instanceof IDBTransaction&&function(e){if(Gt.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));Gt.set(e,t)}(e),t=e,(zt||(zt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,qt):e);var t}function Jt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(Jt(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&Yt.set(t,e)})).catch((()=>{})),Xt.set(t,e),t}(e);if(Kt.has(e))return Kt.get(e);const t=Zt(e);return t!==e&&(Kt.set(e,t),Xt.set(t,e)),t}const er=e=>Xt.get(e);const tr=["get","getKey","getAll","getAllKeys","count"],rr=["put","add","delete","clear"],nr=new Map;function ar(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(nr.get(t))return nr.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=rr.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!tr.includes(r))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return n&&(i=i.index(o.shift())),(await Promise.all([i[r](...o),a&&t.done]))[0]};return nr.set(t,i),i}qt=(e=>({...e,get:(t,r,n)=>ar(t,r)||e.get(t,r,n),has:(t,r)=>!!ar(t,r)||e.has(t,r)}))(qt);class ir{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const sr="@firebase/app",or="0.11.4",lr=new Ht("@firebase/app"),cr="@firebase/app-compat",ur="@firebase/analytics-compat",hr="@firebase/analytics",dr="@firebase/app-check-compat",fr="@firebase/app-check",pr="@firebase/auth",gr="@firebase/auth-compat",mr="@firebase/database",vr="@firebase/data-connect",wr="@firebase/database-compat",yr="@firebase/functions",br="@firebase/functions-compat",Er="@firebase/installations",Sr="@firebase/installations-compat",Tr="@firebase/messaging",Cr="@firebase/messaging-compat",_r="@firebase/performance",Ar="@firebase/performance-compat",Ir="@firebase/remote-config",kr="@firebase/remote-config-compat",Nr="@firebase/storage",xr="@firebase/storage-compat",Dr="@firebase/firestore",Rr="@firebase/vertexai",Mr="@firebase/firestore-compat",Or="firebase",Pr="[DEFAULT]",Lr={[sr]:"fire-core",[cr]:"fire-core-compat",[hr]:"fire-analytics",[ur]:"fire-analytics-compat",[fr]:"fire-app-check",[dr]:"fire-app-check-compat",[pr]:"fire-auth",[gr]:"fire-auth-compat",[mr]:"fire-rtdb",[vr]:"fire-data-connect",[wr]:"fire-rtdb-compat",[yr]:"fire-fn",[br]:"fire-fn-compat",[Er]:"fire-iid",[Sr]:"fire-iid-compat",[Tr]:"fire-fcm",[Cr]:"fire-fcm-compat",[_r]:"fire-perf",[Ar]:"fire-perf-compat",[Ir]:"fire-rc",[kr]:"fire-rc-compat",[Nr]:"fire-gcs",[xr]:"fire-gcs-compat",[Dr]:"fire-fst",[Mr]:"fire-fst-compat",[Rr]:"fire-vertex","fire-js":"fire-js",[Or]:"fire-js-all"},Fr=new Map,Br=new Map,Ur=new Map;function Vr(e,t){try{e.container.addComponent(t)}catch(qF){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,qF)}}function jr(e){const t=e.name;if(Ur.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;Ur.set(t,e);for(const r of Fr.values())Vr(r,e);for(const r of Br.values())Vr(r,e);return!0}function Hr(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function zr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Wr=new St("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yr{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const Gr="11.6.0";function $r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if("object"!==typeof t){t={name:t}}const n=Object.assign({name:Pr,automaticDataCollectionEnabled:!1},t),a=n.name;if("string"!==typeof a||!a)throw Wr.create("bad-app-name",{appName:String(a)});if(r||(r=gt()),!r)throw Wr.create("no-options");const i=Fr.get(a);if(i){if(Ct(r,i.options)&&Ct(n,i.config))return i;throw Wr.create("duplicate-app",{appName:a})}const s=new Pt(a);for(const l of Ur.values())s.addComponent(l);const o=new Yr(r,n,s);return Fr.set(a,o),o}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr;const t=Fr.get(e);if(!t&&e===Pr&&gt())return $r();if(!t)throw Wr.create("no-app",{appName:e});return t}function Xr(e,t,r){var n;let a=null!==(n=Lr[e])&&void 0!==n?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${a}" with version "${t}":`];return i&&e.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void lr.warn(e.join(" "))}jr(new Rt(`${a}-version`,(()=>({library:a,version:t})),"VERSION"))}const qr="firebase-heartbeat-store";let Qr=null;function Zr(){return Qr||(Qr=function(e,t){let{blocked:r,upgrade:n,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Jt(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(Jt(s.result),e.oldVersion,e.newVersion,Jt(s.transaction),e)})),r&&s.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(qr)}catch(qF){console.warn(qF)}}}).catch((e=>{throw Wr.create("idb-open",{originalErrorMessage:e.message})}))),Qr}async function Jr(e,t){try{const r=(await Zr()).transaction(qr,"readwrite"),n=r.objectStore(qr);await n.put(t,en(e)),await r.done}catch(qF){if(qF instanceof Et)lr.warn(qF.message);else{const t=Wr.create("idb-set",{originalErrorMessage:null===qF||void 0===qF?void 0:qF.message});lr.warn(t.message)}}}function en(e){return`${e.name}!${e.options.appId}`}class tn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=rn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(qF){lr.warn(qF)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=rn(),{heartbeatsToSend:r,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const r=[];let n=e.slice();for(const a of e){const e=r.find((e=>e.agent===a.agent));if(e){if(e.dates.push(a.date),an(r)>t){e.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),an(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),a=ut(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(qF){return lr.warn(qF),""}}}function rn(){return(new Date).toISOString().substring(0,10)}class nn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!bt()&&new Promise(((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(r){t(r)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Zr()).transaction(qr),r=await t.objectStore(qr).get(en(e));return await t.done,r}catch(qF){if(qF instanceof Et)lr.warn(qF.message);else{const t=Wr.create("idb-get",{originalErrorMessage:null===qF||void 0===qF?void 0:qF.message});lr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function an(e){return ut(JSON.stringify({version:2,heartbeats:e})).length}var sn;sn="",jr(new Rt("platform-logger",(e=>new ir(e)),"PRIVATE")),jr(new Rt("heartbeat",(e=>new tn(e)),"PRIVATE")),Xr(sr,or,sn),Xr(sr,or,"esm2017"),Xr("fire-js","");function on(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ln(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cn=ln,un=new St("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hn=new Ht("@firebase/auth");function dn(e){if(hn.logLevel<=Ft.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];hn.error(`Auth (${Gr}): ${e}`,...r)}}function fn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw vn(e,...r)}function pn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return vn(e,...r)}function gn(e,t,r){const n=Object.assign(Object.assign({},cn()),{[t]:r});return new St("auth","Firebase",n).create(t,{appName:e.name})}function mn(e){return gn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("string"!==typeof e){const t=r[0],n=[...r.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(t,...n)}return un.create(e,...r)}function wn(e,t){if(!e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];throw vn(t,...n)}}function yn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw dn(t),new Error(t)}function bn(e,t){e||yn(t)}function En(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Sn(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Cn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Sn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class _n{constructor(e,t){this.shortDelay=e,this.longDelay=t,bn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Cn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function An(e,t){bn(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class In{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nn=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xn=new _n(3e4,6e4);function Dn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Rn(e,t,r,n){return Mn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let a={},i={};n&&("GET"===t?i=n:a={body:JSON.stringify(n)});const s=At(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),In.fetch()(await Pn(e,e.config.apiHost,r,s),l)}))}async function Mn(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},kn),t);try{const t=new Fn(e),a=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw Bn(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const t=a.ok?i.errorMessage:i.error.message,[r,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw Bn(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===r)throw Bn(e,"email-already-in-use",i);if("USER_DISABLED"===r)throw Bn(e,"user-disabled",i);const o=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw gn(e,o,s);fn(e,o)}}catch(qF){if(qF instanceof Et)throw qF;fn(e,"network-request-failed",{message:String(qF)})}}async function On(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Rn(e,t,r,n,a);return"mfaPendingCredential"in i&&fn(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Pn(e,t,r,n){const a=`${t}${r}?${n}`,i=e,s=i.config.emulator?An(e.config,a):`${e.config.apiScheme}://${a}`;if(Nn.includes(r)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function Ln(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(pn(this.auth,"network-request-failed"))),xn.get())}))}}function Bn(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=pn(e,t,n);return a.customData._tokenResponse=r,a}function Un(e){return void 0!==e&&void 0!==e.getResponse}function Vn(e){return void 0!==e&&void 0!==e.enterprise}class jn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ln(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hn(e,t){return Rn(e,"GET","/v2/recaptchaConfig",Dn(e,t))}async function zn(e,t){return Rn(e,"POST","/v1/accounts:lookup",t)}function Wn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(qF){}}function Yn(e){return 1e3*Number(e)}function Gn(e){const[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return dn("JWT malformed, contained fewer than 3 sections"),null;try{const e=ht(r);return e?JSON.parse(e):(dn("Failed to decode base64 JWT payload"),null)}catch(qF){return dn("Caught error parsing JWT payload as JSON",null===qF||void 0===qF?void 0:qF.toString()),null}}function $n(e){const t=Gn(e);return wn(t,"internal-error"),wn("undefined"!==typeof t.exp,"internal-error"),wn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Kn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(qF){throw qF instanceof Et&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(qF)&&e.auth.currentUser===e&&await e.auth.signOut(),qF}}class Xn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(qF){return void("auth/network-request-failed"===(null===qF||void 0===qF?void 0:qF.code)&&this.schedule(!0))}this.schedule()}}class qn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wn(this.lastLoginAt),this.creationTime=Wn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qn(e){var t;const r=e.auth,n=await e.getIdToken(),a=await Kn(e,zn(r,{idToken:n}));wn(null===a||void 0===a?void 0:a.users.length,r,"internal-error");const i=a.users[0];e._notifyReloadListener(i);const s=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Zn(i.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qn(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Zn(e){return e.map((e=>{var{providerId:t}=e,r=on(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}class Jn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wn(e.idToken,"internal-error"),wn("undefined"!==typeof e.idToken,"internal-error"),wn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$n(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){wn(0!==e.length,"internal-error");const t=$n(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(wn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:n,expiresIn:a}=await async function(e,t){const r=await Mn(e,{},(async()=>{const r=At({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:a}=e.config,i=await Pn(e,n,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",In.fetch()(i,{method:"POST",headers:s,body:r})}));return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,n,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:n,expirationTime:a}=t,i=new Jn;return r&&(wn("string"===typeof r,"internal-error",{appName:e}),i.refreshToken=r),n&&(wn("string"===typeof n,"internal-error",{appName:e}),i.accessToken=n),a&&(wn("number"===typeof a,"internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jn,this.toJSON())}_performRefresh(){return yn("not implemented")}}function ea(e,t){wn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ta{constructor(e){var{uid:t,auth:r,stsTokenManager:n}=e,a=on(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new qn(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Kn(this,this.stsTokenManager.getToken(this.auth,e));return wn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=Dt(e),n=await r.getIdToken(t),a=Gn(n);wn(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i="object"===typeof a.firebase?a.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:Wn(Yn(a.auth_time)),issuedAtTime:Wn(Yn(a.iat)),expirationTime:Wn(Yn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Dt(e);await Qn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Qn(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(mn(this.auth));const e=await this.getIdToken();return await Kn(this,async function(e,t){return Rn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,n,a,i,s,o,l,c;const u=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(n=t.email)&&void 0!==n?n:void 0,d=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:w,emailVerified:y,isAnonymous:b,providerData:E,stsTokenManager:S}=t;wn(w&&S,e,"internal-error");const T=Jn.fromJSON(this.name,S);wn("string"===typeof w,e,"internal-error"),ea(u,e.name),ea(h,e.name),wn("boolean"===typeof y,e,"internal-error"),wn("boolean"===typeof b,e,"internal-error"),ea(d,e.name),ea(f,e.name),ea(p,e.name),ea(g,e.name),ea(m,e.name),ea(v,e.name);const C=new ta({uid:w,auth:e,email:h,emailVerified:y,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(C.providerData=E.map((e=>Object.assign({},e)))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new Jn;n.updateFromServerResponse(t);const a=new ta({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await Qn(a),a}static async _fromGetAccountInfoResponse(e,t,r){const n=t.users[0];wn(void 0!==n.localId,"internal-error");const a=void 0!==n.providerUserInfo?Zn(n.providerUserInfo):[],i=!(n.email&&n.passwordHash)&&!(null===a||void 0===a?void 0:a.length),s=new Jn;s.updateFromIdToken(r);const o=new ta({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:a,metadata:new qn(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(o,l),o}}const ra=new Map;function na(e){bn(e instanceof Function,"Expected a class definition");let t=ra.get(e);return t?(bn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ra.set(e,t),t)}class aa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aa.type="NONE";const ia=aa;function sa(e,t,r){return`firebase:${e}:${t}:${r}`}class oa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:n,name:a}=this.auth;this.fullUserKey=sa(this.userKey,n.apiKey,a),this.fullPersistenceKey=sa("persistence",n.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await zn(this.auth,{idToken:e}).catch((()=>{}));return t?ta._fromGetAccountInfoResponse(this.auth,t,e):null}return ta._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new oa(na(ia),e,r);const n=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let a=n[0]||na(ia);const i=sa(r,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(i);if(t){let r;if("string"===typeof t){const n=await zn(e,{idToken:t}).catch((()=>{}));if(!n)break;r=await ta._fromGetAccountInfoResponse(e,n,t)}else r=ta._fromJSON(e,t);l!==a&&(s=r),a=l;break}}catch(JS){}const o=n.filter((e=>e._shouldAllowMigration));return a._shouldAllowMigration&&o.length?(a=o[0],s&&await a._set(i,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==a)try{await e._remove(i)}catch(JS){}}))),new oa(a,e,r)):new oa(a,e,r)}}function la(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(da(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ca(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pa(t))return"Blackberry";if(ga(t))return"Webos";if(ua(t))return"Safari";if((t.includes("chrome/")||ha(t))&&!t.includes("edge/"))return"Chrome";if(fa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===(null===r||void 0===r?void 0:r.length))return r[1]}return"Other"}function ca(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt();return/firefox\//i.test(e)}function ua(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ha(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt();return/crios\//i.test(e)}function da(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt();return/iemobile/i.test(e)}function fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt();return/android/i.test(e)}function pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt();return/blackberry/i.test(e)}function ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt();return/webos/i.test(e)}function ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function va(){return function(){const e=wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt();return ma(e)||fa(e)||ga(e)||pa(e)||/windows phone/i.test(e)||da(e)}function ya(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=la(wt());break;case"Worker":t=`${la(wt())}-${e}`;break;default:t=e}const n=r.length?r.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gr}/${n}`}class ba{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=t=>new Promise(((r,n)=>{try{r(e(t))}catch(qF){n(qF)}}));r.onAbort=t,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(qF){t.reverse();for(const n of t)try{n()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===qF||void 0===qF?void 0:qF.message})}}}class Ea{constructor(e){var t,r,n,a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,n,a,i,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(r=o.meetsMaxPasswordLength)||void 0===r||r),o.isValid&&(o.isValid=null===(n=o.containsLowercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(a=o.containsUppercaseLetter)||void 0===a||a),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Sa{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ca(this),this.idTokenSubscription=new Ca(this),this.beforeStateQueue=new ba(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=un,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=na(t)),this._initializationPromise=this.queue((async()=>{var r,n,a;if(!this._deleted&&(this.persistenceManager=await oa.create(this,e),null===(r=this._resolvePersistenceManagerAvailable)||void 0===r||r.call(this),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(qF){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(a=this.currentUser)||void 0===a?void 0:a.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await zn(this,{idToken:e}),r=await ta._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===n||void 0===n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null===s||void 0===s?void 0:s.user)||(n=s.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(qF){n=r,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(qF)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return wn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(qF){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qn(e)}catch(qF){if("auth/network-request-failed"!==(null===qF||void 0===qF?void 0:qF.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(mn(this));const t=e?Dt(e):null;return t&&wn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return zr(this.app)?Promise.reject(mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(mn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(na(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Rn(e,"GET","/v2/passwordPolicy",Dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ea(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new St("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged((()=>{r(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Rn(e,"POST","/v2/accounts:revokeToken",Dn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&na(e)||this._popupRedirectResolver;wn(t,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[na(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(wn(s,this,"internal-error"),s.then((()=>{i||a(this.currentUser)})),"function"===typeof t){const a=e.addObserver(t,r,n);return()=>{i=!0,a()}}{const r=e.addObserver(t);return()=>{i=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ya(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(hn.logLevel<=Ft.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];hn.warn(`Auth (${Gr}): ${e}`,...r)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ta(e){return Dt(e)}class Ca{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const r=new Nt(e,t);return r.subscribe.bind(r)}((e=>this.observer=e))}get next(){return wn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _a={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Aa(e){return _a.loadJS(e)}function Ia(e){return`__${e}${Math.floor(1e6*Math.random())}`}const ka=1e12;class Na{constructor(e){this.auth=e,this.counter=ka,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Ra(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||ka;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||ka;return(null===(t=this._widgets.get(r))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const r=e||ka;return null===(t=this._widgets.get(r))||void 0===t||t.execute(),""}}class xa{constructor(){this.enterprise=new Da}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Da{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ra{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const n="string"===typeof e?document.getElementById(e):e;wn(n,"argument-error",{appName:t}),this.container=n,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<e;n++)t.push(r.charAt(Math.floor(Math.random()*r.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(qF){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(qF){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ma="NO_RECAPTCHA";class Oa{constructor(e){this.type="recaptcha-enterprise",this.auth=Ta(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(t,r,n){const a=window.grecaptcha;Vn(a)?a.enterprise.ready((()=>{a.enterprise.execute(t,{action:e}).then((e=>{r(e)})).catch((()=>{r(Ma)}))})):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new xa).execute("siteKey",{action:"verify"})}return new Promise(((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,r)=>{Hn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((n=>{if(void 0!==n.recaptchaKey){const r=new jn(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{r(e)}))}))})(this.auth).then((a=>{if(!t&&Vn(window.grecaptcha))r(a,e,n);else{if("undefined"===typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=_a.recaptchaEnterpriseScript;0!==t.length&&(t+=a),Aa(t).then((()=>{r(a,e,n)})).catch((e=>{n(e)}))}})).catch((e=>{n(e)}))}))}}async function Pa(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Oa(e);let s;if(a)s=Ma;else try{s=await i.verify(r)}catch(l){s=await i.verify(r,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function La(e,t,r,n,a){var i,s;if("EMAIL_PASSWORD_PROVIDER"===a){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Pa(e,t,r,"getOobCode"===r);return n(e,a)}return n(e,t).catch((async a=>{if("auth/missing-recaptcha-token"===a.code){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Pa(e,t,r,"getOobCode"===r);return n(e,a)}return Promise.reject(a)}))}if("PHONE_PROVIDER"===a){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const a=await Pa(e,t,r);return n(e,a).catch((async a=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===a.code||"auth/invalid-app-credential"===a.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const a=await Pa(e,t,r,!1,!0);return n(e,a)}return Promise.reject(a)}))}{const a=await Pa(e,t,r,!1,!0);return n(e,a)}}return Promise.reject(a+" provider is not supported.")}async function Fa(e){const t=Ta(e),r=await Hn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new jn(r);if(null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()){new Oa(t).verify()}}function Ba(e,t,r){const n=Ta(e);wn(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!!(null===r||void 0===r?void 0:r.disableWarnings),i=Ua(t),{host:s,port:o}=function(e){const t=Ua(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const e=a[1];return{host:e,port:Va(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:Va(t)}}}(t),l={url:`${i}//${s}${null===o?"":`:${o}`}/`},c=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator)return wn(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void wn(Ct(l,n.config.emulator)&&Ct(c,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=l,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ua(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Va(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ja{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yn("not implemented")}_getIdTokenResponse(e){return yn("not implemented")}_linkToIdToken(e,t){return yn("not implemented")}_getReauthenticationResolver(e){return yn("not implemented")}}async function Ha(e,t){return Rn(e,"POST","/v1/accounts:signUp",t)}async function za(e,t){return On(e,"POST","/v1/accounts:signInWithPassword",Dn(e,t))}class Wa extends ja{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new Wa(e,t,"password")}static _fromEmailAndCode(e,t){return new Wa(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return La(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",za,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return On(e,"POST","/v1/accounts:signInWithEmailLink",Dn(e,t))}(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return La(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ha,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return On(e,"POST","/v1/accounts:signInWithEmailLink",Dn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ya(e,t){return On(e,"POST","/v1/accounts:signInWithIdp",Dn(e,t))}class Ga extends ja{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n}=t,a=on(t,["providerId","signInMethod"]);if(!r||!n)return null;const i=new Ga(r,n);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){return Ya(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ya(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ya(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=At(t)}return e}}async function $a(e,t){return Rn(e,"POST","/v1/accounts:sendVerificationCode",Dn(e,t))}const Ka={USER_NOT_FOUND:"user-not-found"};class Xa extends ja{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Xa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Xa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return On(e,"POST","/v1/accounts:signInWithPhoneNumber",Dn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const r=await On(e,"POST","/v1/accounts:signInWithPhoneNumber",Dn(e,t));if(r.temporaryProof)throw Bn(e,"account-exists-with-different-credential",r);return r}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return On(e,"POST","/v1/accounts:signInWithPhoneNumber",Dn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ka)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:a}=e;return r||t||n||a?new Xa({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:a}):null}}class qa{constructor(e){var t,r,n,a,i,s;const o=It(kt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(r=o.oobCode)&&void 0!==r?r:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=o.mode)&&void 0!==n?n:null);wn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=o.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(i=o.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=It(kt(e)).link,r=t?It(kt(t)).deep_link_id:null,n=It(kt(e)).deep_link_id;return(n?It(kt(n)).link:null)||n||r||t||e}(e);try{return new qa(t)}catch(JS){return null}}}class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,t){return Wa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=qa.parseLink(t);return wn(r,"argument-error"),Wa._fromEmailAndCode(e,r.code,r.tenantId)}}Qa.PROVIDER_ID="password",Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Za{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ja extends Za{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ei extends Ja{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ei.credential(t.oauthAccessToken)}catch(JS){return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com",ei.PROVIDER_ID="facebook.com";class ti extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ga._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return ti.credential(r,n)}catch(JS){return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com",ti.PROVIDER_ID="google.com";class ri extends Ja{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ri.credential(t.oauthAccessToken)}catch(JS){return null}}}ri.GITHUB_SIGN_IN_METHOD="github.com",ri.PROVIDER_ID="github.com";class ni extends Ja{constructor(){super("twitter.com")}static credential(e,t){return Ga._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return ni.credential(r,n)}catch(JS){return null}}}async function ai(e,t){return On(e,"POST","/v1/accounts:signUp",Dn(e,t))}ni.TWITTER_SIGN_IN_METHOD="twitter.com",ni.PROVIDER_ID="twitter.com";class ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await ta._fromIdTokenResponse(e,r,n),i=si(r);return new ii({user:a,providerId:i,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const n=si(r);return new ii({user:e,providerId:n,_tokenResponse:r,operationType:t})}}function si(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class oi extends Et{constructor(e,t,r,n){var a;super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,oi.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new oi(e,t,r,n)}}function li(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch((r=>{if("auth/multi-factor-auth-required"===r.code)throw oi._fromErrorAndOperation(e,r,t,n);throw r}))}async function ci(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=await Kn(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return ii._forOperation(e,"link",n)}async function ui(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:n}=e;if(zr(n.app))return Promise.reject(mn(n));const a="reauthenticate";try{const i=await Kn(e,li(n,a,t,e),r);wn(i.idToken,n,"internal-error");const s=Gn(i.idToken);wn(s,n,"internal-error");const{sub:o}=s;return wn(e.uid===o,n,"user-mismatch"),ii._forOperation(e,a,i)}catch(qF){throw"auth/user-not-found"===(null===qF||void 0===qF?void 0:qF.code)&&fn(n,"user-mismatch"),qF}}async function hi(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zr(e.app))return Promise.reject(mn(e));const n="signIn",a=await li(e,n,t),i=await ii._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function di(e,t){return hi(Ta(e),t)}async function fi(e){const t=Ta(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function pi(e,t,r){const{auth:n}=e,a={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(a.email=t),r&&(a.password=r);const i=await Kn(e,async function(e,t){return Rn(e,"POST","/v1/accounts:update",t)}(n,a));await e._updateTokensIfNecessary(i,!0)}function gi(e,t){return Rn(e,"POST","/v2/accounts/mfaEnrollment:start",Dn(e,t))}new WeakMap;const mi="__sak";class vi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mi,"1"),this.storage.removeItem(mi),Promise.resolve(!0)):Promise.resolve(!1)}catch(JS){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class wi extends vi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wa(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,r)=>{this.notifyListeners(e,r)}));const r=e.key;t?this.detachListener():this.stopPolling();const n=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},a=this.storage.getItem(r);va()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wi.type="LOCAL";const yi=wi;function bi(e){var t,r;const n=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=RegExp(`${n}=([^;]+)`);return null!==(r=null===(t=document.cookie.match(a))||void 0===t?void 0:t[1])&&void 0!==r?r:null}function Ei(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Si{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ei(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return bi(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ei(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const r=Ei(e);if(window.cookieStore){const e=e=>{const n=e.changed.find((e=>e.name===r));n&&t(n.value);e.deleted.find((e=>e.name===r))&&t(null)},n=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,n),window.cookieStore.addEventListener("change",e)}let n=bi(r);const a=setInterval((()=>{const e=bi(r);e!==n&&(t(e),n=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(a)))}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}Si.type="COOKIE";class Ti extends vi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ti.type="SESSION";const Ci=Ti;class _i{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const r=new _i(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:n,data:a}=t.data,i=this.handlersMap[n];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const s=Array.from(i).map((async e=>e(t.origin,a))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="";for(let n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}_i.receivers=[];class Ii{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const n="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let a,i;return new Promise(((s,o)=>{const l=Ai("",20);n.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),r);i={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),s(t.data.response);break;default:clearTimeout(c),clearTimeout(a),o(new Error("invalid_response"))}}},this.handlers.add(i),n.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function ki(){return window}function Ni(){return"undefined"!==typeof ki().WorkerGlobalScope&&"function"===typeof ki().importScripts}const xi="firebaseLocalStorageDb",Di="firebaseLocalStorage",Ri="fbase_key";class Mi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Oi(e,t){return e.transaction([Di],t?"readwrite":"readonly").objectStore(Di)}function Pi(){const e=indexedDB.open(xi,1);return new Promise(((t,r)=>{e.addEventListener("error",(()=>{r(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Di,{keyPath:Ri})}catch(qF){r(qF)}})),e.addEventListener("success",(async()=>{const r=e.result;r.objectStoreNames.contains(Di)?t(r):(r.close(),await function(){const e=indexedDB.deleteDatabase(xi);return new Mi(e).toPromise()}(),t(await Pi()))}))}))}async function Li(e,t,r){const n=Oi(e,!0).put({[Ri]:t,value:r});return new Mi(n).toPromise()}function Fi(e,t){const r=Oi(e,!0).delete(t);return new Mi(r).toPromise()}class Bi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Pi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(qF){if(t++>3)throw qF;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ni()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_i._getInstance(Ni()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ii(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=r[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(JS){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pi();return await Li(e,mi,"1"),await Fi(e,mi),!0}catch(JS){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((r=>Li(r,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const r=Oi(e,!1).get(t),n=await new Mi(r).toPromise();return void 0===n?null:n.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Fi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Oi(e,!1).getAll();return new Mi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;if(0!==e.length)for(const{fbase_key:n,value:a}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(a)&&(this.notifyListeners(n,a),t.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!r.has(n)&&(this.notifyListeners(n,null),t.push(n));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Bi.type="LOCAL";const Ui=Bi;function Vi(e,t){return Rn(e,"POST","/v2/accounts/mfaSignIn:start",Dn(e,t))}const ji=Ia("rcb"),Hi=new _n(3e4,6e4);class zi{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ki().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return wn(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Un(ki().grecaptcha)?Promise.resolve(ki().grecaptcha):new Promise(((r,n)=>{const a=ki().setTimeout((()=>{n(pn(e,"network-request-failed"))}),Hi.get());ki()[ji]=()=>{ki().clearTimeout(a),delete ki()[ji];const i=ki().grecaptcha;if(!i||!Un(i))return void n(pn(e,"internal-error"));const s=i.render;i.render=(e,t)=>{const r=s(e,t);return this.counter++,r},this.hostLanguage=t,r(i)};Aa(`${_a.recaptchaV2Script}?${At({onload:ji,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(a),n(pn(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ki().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wi{async load(e){return new Na(e)}clearedOneInstance(){}}const Yi="recaptcha",Gi={theme:"light",type:"image"};class $i{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Gi);this.parameters=r,this.type=Yi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ta(e),this.isInvisible="invisible"===this.parameters.size,wn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const n="string"===typeof t?document.getElementById(t):t;wn(n,this.auth,"argument-error"),this.container=n,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wi:new zi,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise((r=>{const n=e=>{e&&(this.tokenChangeListeners.delete(n),r(e))};this.tokenChangeListeners.add(n),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(qF){return Promise.reject(qF)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){wn(!this.parameters.sitekey,this.auth,"argument-error"),wn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),wn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const r=ki()[e];"function"===typeof r&&r(t)}}}assertNotDestroyed(){wn(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){wn(Sn()&&!Ni(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Rn(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);wn(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return wn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ki{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Xa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Xi(e,t,r){var n;if(!e._getRecaptchaConfig())try{await Fa(e)}catch(a){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){wn("enroll"===t.type,e,"internal-error");const n={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=La(e,n,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ma){wn((null===r||void 0===r?void 0:r.type)===Yi,e,"argument-error");return gi(e,await qi(e,t,r))}return gi(e,t)}),"PHONE_PROVIDER"),s=await i.catch((e=>Promise.reject(e)));return s.phoneSessionInfo.sessionInfo}{wn("signin"===t.type,e,"internal-error");const i=(null===(n=a.multiFactorHint)||void 0===n?void 0:n.uid)||a.multiFactorUid;wn(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=La(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ma){wn((null===r||void 0===r?void 0:r.type)===Yi,e,"argument-error");return Vi(e,await qi(e,t,r))}return Vi(e,t)}),"PHONE_PROVIDER"),l=await o.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"},n=La(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ma){wn((null===r||void 0===r?void 0:r.type)===Yi,e,"argument-error");return $a(e,await qi(e,t,r))}return $a(e,t)}),"PHONE_PROVIDER"),i=await n.catch((e=>Promise.reject(e)));return i.sessionInfo}}finally{null===r||void 0===r||r._reset()}}async function qi(e,t,r){wn(r.type===Yi,e,"argument-error");const n=await r.verify();wn("string"===typeof n,e,"argument-error");const a=Object.assign({},t);if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,r=a.phoneEnrollmentInfo.clientType,i=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:t,clientType:r,recaptchaVersion:i}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,r=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:e,clientType:t,recaptchaVersion:r}}),a}return Object.assign(a,{recaptchaToken:n}),a}class Qi{constructor(e){this.providerId=Qi.PROVIDER_ID,this.auth=Ta(e)}verifyPhoneNumber(e,t){return Xi(this.auth,e,Dt(t))}static credential(e,t){return Xa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Qi.credentialFromTaggedObject(t)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:r,temporaryProof:n}=t;return r&&n?Xa._fromTokenResponse(r,n):null}}function Zi(e,t){return t?na(t):(wn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Qi.PROVIDER_ID="phone",Qi.PHONE_SIGN_IN_METHOD="phone";class Ji extends ja{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ya(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function es(e){return hi(e.auth,new Ji(e),e.bypassAuthState)}function ts(e){const{auth:t,user:r}=e;return wn(r,t,"internal-error"),ui(r,new Ji(e),e.bypassAuthState)}async function rs(e){const{auth:t,user:r}=e;return wn(r,t,"internal-error"),ci(r,new Ji(e),e.bypassAuthState)}class ns{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(qF){this.reject(qF)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:n,tenantId:a,error:i,type:s}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(qF){this.reject(qF)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return es;case"linkViaPopup":case"linkViaRedirect":return rs;case"reauthViaPopup":case"reauthViaRedirect":return ts;default:fn(this.auth,"internal-error")}}resolve(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const as=new _n(2e3,1e4);class is extends ns{constructor(e,t,r,n,a){super(e,t,n,a),this.provider=r,this.authWindow=null,this.pollId=null,is.currentPopupAction&&is.currentPopupAction.cancel(),is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wn(e,this.auth,"internal-error"),e}async onExecution(){bn(1===this.filter.length,"Popup operations only handle one event");const e=Ai();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(pn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;(null===(r=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===r?void 0:r.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,as.get())};e()}}is.currentPopupAction=null;const ss=new Map;class os extends ns{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ss.get(this.auth._key());if(!e){try{const t=await async function(e,t){const r=us(t),n=cs(e);if(!await n._isAvailable())return!1;const a="true"===await n._get(r);return await n._remove(r),a}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(qF){e=()=>Promise.reject(qF)}ss.set(this.auth._key(),e)}return this.bypassAuthState||ss.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ls(e,t){ss.set(e._key(),t)}function cs(e){return na(e._redirectPersistence)}function us(e){return sa("pendingRedirect",e.config.apiKey,e.name)}async function hs(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zr(e.app))return Promise.reject(mn(e));const n=Ta(e),a=Zi(n,t),i=new os(n,a,r),s=await i.execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}class ds{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ps(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ps(e)){const n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(pn(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fs(e))}saveEventToCache(e){this.cachedEventUids.add(fs(e)),this.lastProcessedEventTime=Date.now()}}function fs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ps(e){let{type:t,error:r}=e;return"unknown"===t&&"auth/no-auth-event"===(null===r||void 0===r?void 0:r.code)}const gs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ms=/^https?/;async function vs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Rn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ws(r))return}catch(JS){}fn(e,"unauthorized-domain")}function ws(e){const t=En(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===n}if(!ms.test(r))return!1;if(gs.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}const ys=new _n(3e4,6e4);function bs(){const e=ki().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}function Es(e){return new Promise(((t,r)=>{var n,a,i;function s(){bs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bs(),r(pn(e,"network-request-failed"))},timeout:ys.get()})}if(null===(a=null===(n=ki().gapi)||void 0===n?void 0:n.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=ki().gapi)||void 0===i?void 0:i.load)){const t=Ia("iframefcb");return ki()[t]=()=>{gapi.load?s():r(pn(e,"network-request-failed"))},Aa(`${_a.gapiScript}?onload=${t}`).catch((e=>r(e)))}s()}})).catch((e=>{throw Ss=null,e}))}let Ss=null;const Ts=new _n(5e3,15e3),Cs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_s=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function As(e){const t=e.config;wn(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?An(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:Gr},a=_s.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${At(n).slice(1)}`}async function Is(e){const t=await function(e){return Ss=Ss||Es(e),Ss}(e),r=ki().gapi;return wn(r,e,"internal-error"),t.open({where:document.body,url:As(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cs,dontclear:!0},(t=>new Promise((async(r,n)=>{await t.restyle({setHideOnLeave:!1});const a=pn(e,"network-request-failed"),i=ki().setTimeout((()=>{n(a)}),Ts.get());function s(){ki().clearTimeout(i),r(t)}t.ping(s).then(s,(()=>{n(a)}))}))))}const ks={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ns{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(qF){}}}function xs(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ks),{width:n.toString(),height:a.toString(),top:i,left:s}),c=wt().toLowerCase();r&&(o=ha(c)?"_blank":r),ca(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[r,n]=t;return`${e}${r}=${n},`}),"");if(function(){var e;return ma(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",o),new Ns(null);const h=window.open(t||"",o,u);wn(h,e,"popup-blocked");try{h.focus()}catch(qF){}return new Ns(h)}const Ds="__/auth/handler",Rs="emulator/auth/handler",Ms=encodeURIComponent("fac");async function Os(e,t,r,n,a,i){wn(e.config.authDomain,e,"auth-domain-config-required"),wn(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Gr,eventId:a};if(t instanceof Za){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Ja){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Ms}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ds}`;return An(t,Rs)}(e)}?${At(o).slice(1)}${c}`}const Ps="webStorageSupport";const Ls=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ci,this._completeRedirectFn=hs,this._overrideRedirectResult=ls}async _openPopup(e,t,r,n){var a;bn(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return xs(e,await Os(e,t,r,En(),n),Ai())}async _openRedirect(e,t,r,n){await this._originValidation(e);return function(e){ki().location.href=e}(await Os(e,t,r,En(),n)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(bn(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch((()=>{delete this.eventManagers[t]})),r}async initAndGetManager(e){const t=await Is(e),r=new ds(e);return t.register("authEvent",(t=>{wn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ps,{type:Ps},(r=>{var n;const a=null===(n=null===r||void 0===r?void 0:r[0])||void 0===n?void 0:n[Ps];void 0!==a&&t(!!a),fn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wa()||ua()||ma()}};var Fs="@firebase/auth",Bs="1.10.0";class Us{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vs=mt("authIdTokenMaxAge")||300;let js=null;function Hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();const t=Hr(e,"auth");if(t.isInitialized())return t.getImmediate();const r=function(e,t){const r=Hr(e,"auth");if(r.isInitialized()){const e=r.getImmediate();if(Ct(r.getOptions(),null!==t&&void 0!==t?t:{}))return e;fn(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:Ls,persistence:[Ui,yi,Ci]}),n=mt("authTokenSyncURL");if(n&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(n,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),r=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Vs)return;const n=null===t||void 0===t?void 0:t.token;js!==n&&(js=n,await fetch(a,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))});!function(e,t,r){Dt(e).beforeAuthStateChanged(t,r)}(r,t,(()=>t(r.currentUser))),function(e,t,r,n){Dt(e).onIdTokenChanged(t,r,n)}(r,(e=>t(e)))}}var a;const i=pt("auth");return i&&Ba(r,`http://${i}`),r}var zs,Ws;zs={loadJS:e=>new Promise(((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=pn("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_a=zs,Ws="Browser",jr(new Rt("auth",((e,t)=>{let{options:r}=t;const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;wn(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:Ws,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ya(Ws)},c=new Sa(n,a,i,l);return function(e,t){const r=(null===t||void 0===t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(na);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,r),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,r)=>{e.getProvider("auth-internal").initialize()}))),jr(new Rt("auth-internal",(e=>(e=>new Us(e))(Ta(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(Fs,Bs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ws)),Xr(Fs,Bs,"esm2017");Xr("firebase","11.6.0","app");var Ys,Gs,$s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ks={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,r){r||(r=0);var n=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)n[a]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(a=0;16>a;++a)n[a]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],a=e.g[2];var i=e.g[3],s=t+(i^r&(a^i))+n[0]+3614090360&4294967295;s=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=r+(s<<7&4294967295|s>>>25))+((s=i+(a^t&(r^a))+n[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=a+(r^i&(t^r))+n[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^a&(i^t))+n[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(a^i))+n[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(r^a))+n[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=a+(r^i&(t^r))+n[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^a&(i^t))+n[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(a^i))+n[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(r^a))+n[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=a+(r^i&(t^r))+n[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^a&(i^t))+n[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(a^i))+n[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(r^a))+n[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=a+(r^i&(t^r))+n[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^a&(i^t))+n[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^i&(r^a))+n[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^a&(t^r))+n[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^r&(i^t))+n[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(a^i))+n[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(r^a))+n[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^a&(t^r))+n[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^r&(i^t))+n[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(a^i))+n[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(r^a))+n[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^a&(t^r))+n[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^r&(i^t))+n[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(a^i))+n[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(r^a))+n[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^a&(t^r))+n[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^r&(i^t))+n[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(a^i))+n[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^a^i)+n[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^a)+n[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^r)+n[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=r+(a^i^t)+n[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^a^i)+n[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^a)+n[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^r)+n[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=r+(a^i^t)+n[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^a^i)+n[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^a)+n[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^r)+n[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=r+(a^i^t)+n[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^a^i)+n[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^a)+n[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^r)+n[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=r+(a^i^t)+n[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(a^(r|~i))+n[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~a))+n[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~r))+n[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(a|~t))+n[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(r|~i))+n[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~a))+n[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~r))+n[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(a|~t))+n[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(r|~i))+n[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~a))+n[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~r))+n[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(a|~t))+n[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=r+((s=t+(a^(r|~i))+n[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~a))+n[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((a=i+((s=a+(t^(i|~r))+n[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function n(e,t){this.h=t;for(var r=[],n=!0,a=e.length-1;0<=a;a--){var i=0|e[a];n&&i==t||(r[a]=i,n=!1)}this.g=r}!function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[r].apply(e,a)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,a=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)r(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(a[i++]=e.charCodeAt(s++),i==this.blockSize){r(this,a),i=0;break}}else for(;s<t;)if(a[i++]=e[s++],i==this.blockSize){r(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var r=a;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}(e,(function(e){return new n([0|e],0>e?-1:0)})):new n([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(s(-e));for(var t=[],r=1,a=0;e>=r;a++)t[a]=e/r|0,r*=4294967296;return new n(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,r=[],a=0;a<t;a++)r[a]=~e.g[a];return new n(r,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(o,o);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var r=l,n=t;0>=n.l(e);)r=v(r),n=v(n);var a=w(r,1),i=w(n,1);for(n=w(n,2),r=w(r,2);!u(n);){var c=i.add(n);0>=c.l(e)&&(a=a.add(r),i=c),n=w(n,1),r=w(r,1)}return t=f(e,a.j(t)),new g(a,t)}for(a=o;0<=e.l(t);){for(r=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),c=(i=s(r)).j(t);h(c)||0<c.l(e);)c=(i=s(r-=n)).j(t);u(i)&&(i=l),a=a.add(i),e=f(e,c)}return new g(a,e)}function v(e){for(var t=e.g.length+1,r=[],a=0;a<t;a++)r[a]=e.i(a)<<1|e.i(a-1)>>>31;return new n(r,e.h)}function w(e,t){var r=t>>5;t%=32;for(var a=e.g.length-r,i=[],s=0;s<a;s++)i[s]=0<t?e.i(s+r)>>>t|e.i(s+r+1)<<32-t:e.i(s+r);return new n(i,e.h)}(e=n.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),r=this,n="";;){var a=m(r,t).g,i=((0<(r=f(r,a.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(u(r=a))return i+n;for(;6>i.length;)i="0"+i;n=i+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0,i=0;i<=t;i++){var s=a+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=o>>>16,s&=65535,o&=65535,r[i]=o<<16|s}return new n(r,-2147483648&r[r.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],a=0;a<2*t;a++)r[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),g=e.i(i)>>>16,m=65535&e.i(i);r[2*a+2*i]+=f*m,p(r,2*a+2*i),r[2*a+2*i+1]+=l*m,p(r,2*a+2*i+1),r[2*a+2*i+1]+=f*g,p(r,2*a+2*i+1),r[2*a+2*i+2]+=l*g,p(r,2*a+2*i+2)}for(a=0;a<t;a++)r[a]=r[2*a+1]<<16|r[2*a];for(a=t;a<2*t;a++)r[a]=0;return new n(r,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)&e.i(a);return new n(r,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)|e.i(a);return new n(r,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)^e.i(a);return new n(r,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Gs=Ks.Md5=t,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=s,n.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return d(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=s(Math.pow(r,8)),a=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),r);8>l?(l=s(Math.pow(r,l)),a=a.j(l).add(s(c))):a=(a=a.j(n)).add(s(c))}return a},Ys=Ks.Integer=n}).apply("undefined"!==typeof $s?$s:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Xs,qs,Qs,Zs,Js,eo,to,ro,no="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ao={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof no&&no];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var a=r;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in a))break e;a=a[s]}(n=n(i=a[e=e[e.length-1]]))!=i&&null!=n&&t(a,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var r=0,n=!1,a={next:function(){if(!n&&r<e.length){var a=r++;return{value:t(a,e[a]),done:!1}}return n=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e,t){return t}))}}));var n=n||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,r){return e.call.apply(e.bind,arguments)}function l(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function c(e,t,r){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function r(){}r.prototype=t.prototype,e.aa=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,n){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[r].apply(e,a)}}function d(e){const t=e.length;if(0<t){const r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];if(i(t)){const r=e.length||0,n=t.length||0;e.length=r+n;for(let a=0;a<n;a++)e[r+a]=t[a]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function w(e,t,r){for(const n in e)t.call(r,e[n],n,e)}function y(e){const t={};for(const r in e)t[r]=e[r];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let r,n;for(let a=1;a<arguments.length;a++){for(r in n=arguments[a],n)e[r]=n[r];for(let t=0;t<b.length;t++)r=b[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function S(e){var t=1;e=e.split(":");const r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function T(e){a.setTimeout((()=>{throw e}),0)}function C(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new A),(e=>e.reset()));class A{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,k=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const r=_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},x=()=>{const e=a.Promise.resolve(void 0);I=()=>{e.then(D)}};var D=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(r){T(r)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}k=!1};function R(){this.s=this.s,this.C=this.C}function M(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(r){}return e}();function P(e,t){if(M.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&P.aa.h.call(this)}}h(P,M);var L={2:"touch",3:"pen",4:"mouse"};P.prototype.h=function(){P.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),B=0;function U(e,t,r,n,a){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=a,this.key=++B,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e){this.src=e,this.g={},this.h=0}function H(e,t){var r=t.type;if(r in e.g){var n,a=e.g[r],i=Array.prototype.indexOf.call(a,t,void 0);(n=0<=i)&&Array.prototype.splice.call(a,i,1),n&&(V(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function z(e,t,r,n){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!r&&i.ha==n)return a}return-1}j.prototype.add=function(e,t,r,n,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=z(e,t,n,a);return-1<s?(t=e[s],r||(t.fa=!1)):((t=new U(t,this.src,i,!!n,a)).fa=r,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),Y={};function G(e,t,r,n,a){if(n&&n.once)return K(e,t,r,n,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],r,n,a);return null}return r=te(r),e&&e[F]?e.K(t,r,s(n)?!!n.capture:!!n,a):$(e,t,r,!1,n,a)}function $(e,t,r,n,a,i){if(!t)throw Error("Invalid event type");var o=s(a)?!!a.capture:!!a,l=J(e);if(l||(e[W]=l=new j(e)),(r=l.add(t,r,n,o,i)).proxy)return r;if(n=function(){function e(r){return t.call(e.src,e.listener,r)}const t=Z;return e}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)O||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),n,a);else if(e.attachEvent)e.attachEvent(Q(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return r}function K(e,t,r,n,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],r,n,a);return null}return r=te(r),e&&e[F]?e.L(t,r,s(n)?!!n.capture:!!n,a):$(e,t,r,!0,n,a)}function X(e,t,r,n,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)X(e,t[i],r,n,a);else n=s(n)?!!n.capture:!!n,r=te(r),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(r=z(i=e.g[t],r,n,a))&&(V(i[r]),Array.prototype.splice.call(i,r,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,r,n,a)),(r=-1<e?t[e]:null)&&q(r))}function q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])H(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(Q(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=J(t))?(H(r,e),0==r.h&&(r.src=null,t[W]=null)):V(e)}}}function Q(e){return e in Y?Y[e]:Y[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new P(t,this);var r=e.listener,n=e.ha||e.src;e.fa&&q(e),e=r.call(n,t)}return e}function J(e){return(e=e[W])instanceof j?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function re(){R.call(this),this.i=new j(this),this.M=this,this.F=null}function ne(e,t){var r,n=e.F;if(n)for(r=[];n;n=n.F)r.push(n);if(e=e.M,n=t.type||t,"string"===typeof t)t=new M(t,e);else if(t instanceof M)t.target=t.target||e;else{var a=t;E(t=new M(n,e),a)}if(a=!0,r)for(var i=r.length-1;0<=i;i--){var s=t.g=r[i];a=ae(s,n,!0,t)&&a}if(a=ae(s=t.g=e,n,!0,t)&&a,a=ae(s,n,!1,t)&&a,r)for(i=0;i<r.length;i++)a=ae(s=t.g=r[i],n,!1,t)&&a}function ae(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==r){var o=s.listener,l=s.ha||s.src;s.fa&&H(e.i,s),a=!1!==o.call(l,n)&&a}}return a&&!n.defaultPrevented}function ie(e,t,r){if("function"===typeof e)r&&(e=c(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(re,R),re.prototype[F]=!0,re.prototype.removeEventListener=function(e,t,r,n){X(this,e,t,r,n)},re.prototype.N=function(){if(re.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)V(r[n]);delete t.g[e],t.h--}}this.F=null},re.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},re.prototype.L=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}h(le,R);var ce=[];function ue(e){w(e.g,(function(e,t){this.g.hasOwnProperty(t)&&q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=a.JSON.stringify,de=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function we(){M.call(this,"d")}function ye(){M.call(this,"c")}h(we,M),h(ye,M);var be={},Ee=null;function Se(){return Ee=Ee||new re}function Te(e){M.call(this,be.La,e)}function Ce(e){const t=Se();ne(t,new Te(t))}function _e(e,t){M.call(this,be.STAT_EVENT,e),this.stat=t}function Ae(e){const t=Se();ne(t,new _e(t,e))}function Ie(e,t){M.call(this,be.Ma,e),this.size=t}function ke(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function xe(e,t,r,n){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var a=n[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return he(r)}catch(o){return t}}(e,r)+(n?" "+n:"")}))}be.La="serverreachability",h(Te,M),be.STAT_EVENT="statevent",h(_e,M),be.Ma="timingevent",h(Ie,M),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var De,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Pe(e,t,r,n){this.j=e,this.i=t,this.l=r,this.R=n||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},De=new Oe;var Fe={},Be={};function Ue(e,t,r){e.L=1,e.v=ht(st(t)),e.m=r,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),ze(e),e.A=st(e.v);var r=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),_t(r.i,"t",n),e.C=0,r=e.j.J,e.h=new Le,e.g=dr(e.j,r?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,r=e.g,n=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var i=0;i<a.length;i++){var s=G(r,a[i],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?y(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ce(),function(e,t,r,n,a,i){e.info((function(){if(e.g)if(i)for(var s="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+n+") [attempt "+a+"]: "+t+"\n"+r+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function He(e,t){var r=e.C,n=t.indexOf("\n",r);return-1==n?Be:(r=Number(t.substring(r,n)),isNaN(r)?Fe:(n+=1)+r>t.length?Be:(t=t.slice(n,n+r),e.C=n+r,t))}function ze(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ke(c(e.ba,e),t)}function Ye(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||or(e.j,e)}function $e(e){Ye(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var r=e.j;if(0!=r.G&&(r.g==e||Je(r.h,e)))if(!e.K&&Je(r.h,e)&&3==r.G){try{var n=r.Da.g.parse(t)}catch(u){n=null}if(Array.isArray(n)&&3==n.length){var a=n;if(0==a[0]){e:if(!r.u){if(r.g){if(!(r.g.F+3e3<e.F))break e;sr(r),qt(r)}nr(r),Ae(18)}}else r.za=a[1],0<r.za-r.T&&37500>a[2]&&r.F&&0==r.v&&!r.C&&(r.C=ke(c(r.Za,r),6e3));if(1>=Ze(r.h)&&r.ca){try{r.ca()}catch(u){}r.ca=void 0}}else cr(r,11)}else if((e.K||r.g==e)&&sr(r),!p(t))for(a=r.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(r.T=c[0],c=c[1],2==r.G)if("c"==c[0]){r.K=c[1],r.ia=c[2];const t=c[3];null!=t&&(r.la=t,r.j.info("VER="+r.la));const a=c[4];null!=a&&(r.Aa=a,r.j.info("SVER="+r.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(n=1.5*u,r.L=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=n.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(n.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,ut(n.I,n.D,e))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms"));var s=e;if((n=r).qa=hr(n,n.J?n.ia:null,n.W),s.K){tt(n.h,s);var o=s,l=n.L;l&&(o.I=l),o.B&&(Ye(o),ze(o)),n.g=s}else rr(n);0<r.i.length&&Zt(r)}else"stop"!=c[0]&&"close"!=c[0]||cr(r,7);else 3==r.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cr(r,7):Xt(r):"noop"!=c[0]&&r.l&&r.l.ta(c),r.v=0)}Ce()}catch(u){}}Pe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Yt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const d=Yt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=d||7==t||Ce(),Ye(this);var r=this.g.Z();this.X=r;t:if(je(this)){var n=Gt(this.g);e="";var i=n.length,s=4==Yt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$e(this),Ge(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(s&&t==i-1)});n.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==r,function(e,t,r,n,a,i,s){e.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+a+"]: "+t+"\n"+r+"\n"+i+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,r),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(r=u)){this.o=!1,this.s=3,Ae(12),$e(this),Ge(this);break e}xe(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,r)}if(this.P){let e;for(r=!0;!this.J&&this.C<o.length;){if(e=He(this,o),e==Be){4==d&&(this.s=4,Ae(14),r=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Ae(15),xe(this.i,this.l,o,"[Invalid Chunk]"),r=!1;break}xe(this.i,this.l,e,null),Ke(this,e)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Ae(16),r=!1),this.o=this.o&&r,r){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),ar(h),h.M=!0,Ae(11))}}else xe(this.i,this.l,o,"[Invalid Chunked Response]"),$e(this),Ge(this)}else xe(this.i,this.l,o,null),Ke(this,o);4==d&&$e(this),this.o&&!this.J&&(4==d?or(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=Yt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(p(e[n]))continue;var r=S(e[n]);const a=r[0];if("string"!==typeof(r=r[1]))continue;r=r.trim();const i=t[a]||[];t[a]=i,i.push(r)}!function(e,t){for(const r in e)t.call(void 0,e[r],r,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<o.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),$e(this),Ge(this)}}}catch(d){}},Pe.prototype.cancel=function(){this.J=!0,$e(this)},Pe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ce(),Ae(17)),$e(this),this.s=2,Ge(this)):We(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function qe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const r of e.g.values())t=t.concat(r.D);return t}return d(e.i)}function nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}t=[],r=0;for(const n in e)t[r++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),a=n.length,s=0;s<a;s++)t.call(void 0,n[s],r&&r[s],e)}qe.prototype.cancel=function(){if(this.i=rt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,r=new Et;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),ct(this,r),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function st(e){return new it(e)}function ot(e,t,r){e.j=r?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,r){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var r=t.toLowerCase();t!=r&&(Tt(this,t),_t(this,r,e))}),e)),e.j=t}(e.i,e.h)):(r||(t=ft(t,yt)),e.i=new Et(t,e.h))}function ut(e,t,r){e.i.set(t,r)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,r){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(ft(r,"/"==r.charAt(0)?wt:vt,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",ft(r,bt)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,wt=/[#\?]/g,yt=/[#\?@]/g,bt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),a=null;if(0<=n){var i=e[r].substring(0,n);a=e[r].substring(n+1)}else i=e[r];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)})))}function Tt(e,t){St(e),t=At(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return St(e),t=At(e,t),e.g.has(t)}function _t(e,t,r){Tt(e,t),0<r.length&&(e.i=null,e.g.set(At(e,t),d(r)),e.h+=r.length)}function At(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,r,n,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),n(r)}catch(i){}}function kt(){this.g=new fe}function Nt(e,t,r){const n=r||"";try{nt(e,(function(e,r){let a=e;s(e)&&(a=he(e)),t.push(n+r+"="+encodeURIComponent(a))}))}catch(qF){throw t.push(n+"type="+encodeURIComponent("_badmap")),qF}}function xt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Dt(e,t){re.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Mt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return w(e,(function(e,r){t+=r,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=Pt(r),"string"===typeof e?null!=r&&encodeURIComponent(String(r)):ut(e,t,r))}function Ft(e){re.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){St(this),this.i=null,e=At(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(r,n){r.forEach((function(r){e.call(t,r,n,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){const a=e[n];for(let e=0;e<a.length;e++)r.push(t[n])}return r},e.V=function(e){St(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(At(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},e.set=function(e,t){return St(this),this.i=null,Ct(this,e=At(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];const i=encodeURIComponent(String(n)),s=this.V(n);for(n=0;n<s.length;n++){var a=i;""!==s[n]&&(a+="="+encodeURIComponent(String(s[n]))),e.push(a)}}return this.i=e.join("&")},h(xt,pe),xt.prototype.g=function(){return new Dt(this.l,this.j)},xt.prototype.i=(gt={},function(){return gt}),h(Dt,re),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mt(this):Ot(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Mt(this))},e.Qa=function(e){this.g&&(this.response=e,Mt(this))},e.ga=function(){this.g&&Mt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,re);var Bt=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,jt(e),zt(e)}function jt(e){e.A||(e.A=!0,ne(e,"complete"),ne(e,"error"))}function Ht(e){if(e.h&&"undefined"!=typeof n&&(!e.v[1]||4!=Yt(e)||2!=e.Z()))if(e.u&&4==Yt(e))ie(e.Ea,0,e);else if(ne(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const n=e.Z();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var i;if(i=0===n){var s=String(e.D).match(at)[1]||null;!s&&a.self&&a.self.location&&(s=a.self.location.protocol.slice(0,-1)),i=!Bt.test(s?s.toLowerCase():"")}r=i}if(r)ne(e,"complete"),ne(e,"success");else{e.m=6;try{var o=2<Yt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",jt(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Wt(e);const r=e.g,n=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ne(e,"ready");try{r.onreadystatechange=n}catch(qF){}}}function Wt(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Yt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(so){return null}}function $t(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$t("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$t("baseRetryDelayMs",5e3,e),this.cb=$t("retryDelaySeedMs",1e4,e),this.Wa=$t("forwardChannelMaxRetries",2,e),this.wa=$t("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new qe(e&&e.concurrentRequestLimit),this.Da=new kt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xt(e){if(Qt(e),3==e.G){var t=e.U++,r=st(e.I);if(ut(r,"SID",e.K),ut(r,"RID",t),ut(r,"TYPE","terminate"),er(e,r),(t=new Pe(e,e.j,t)).L=2,t.v=ht(st(r)),r=!1,a.navigator&&a.navigator.sendBeacon)try{r=a.navigator.sendBeacon(t.v.toString(),"")}catch(n){}!r&&a.Image&&((new Image).src=t.v,r=!0),r||(t.g=dr(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}ur(e)}function qt(e){e.g&&(ar(e),e.g.cancel(),e.g=null)}function Qt(e){qt(e),e.u&&(a.clearTimeout(e.u),e.u=null),sr(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||x(),k||(I(),k=!0),N.add(t,e),e.B=0}}function Jt(e,t){var r;r=t?t.l:e.U++;const n=st(e.I);ut(n,"SID",e.K),ut(n,"RID",r),ut(n,"AID",e.T),er(e,n),e.m&&e.o&&Lt(n,e.m,e.o),r=new Pe(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tr(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,r),Ue(r,n,t)}function er(e,t){e.H&&w(e.H,(function(e,r){ut(t,r,e)})),e.l&&nt({},(function(e,r){ut(t,r,e)}))}function tr(e,t,r){r=Math.min(e.i.length,r);var n=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+r];-1==t?0<r?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<r;o++){let r=a[o].g;const l=a[o].map;if(r-=t,0>r)t=Math.max(0,a[o].g-100),s=!1;else try{Nt(l,e,"req"+r+"_")}catch(i){n&&n(l)}}if(s){n=e.join("&");break e}}}return e=e.i.splice(0,r),t.D=e,n}function rr(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||x(),k||(I(),k=!0),N.add(t,e),e.v=0}}function nr(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=ke(c(e.Fa,e),lr(e,e.v)),e.v++,!0)}function ar(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function ir(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),er(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=ht(st(t)),r.m=null,r.P=!0,Ve(r,e)}function sr(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function or(e,t){var r=null;if(e.g==t){sr(e),ar(e),e.g=null;var n=2}else{if(!Je(e.h,t))return;r=t.D,tt(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){r=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;ne(n=Se(),new Ie(n,r)),Zt(e)}else rr(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==n&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=ke(c(e.Ga,e,t),lr(e,e.B)),e.B++,!0))}(e,t)||2==n&&nr(e)))switch(r&&0<r.length&&(t=e.h,t.i=t.i.concat(r)),a){case 1:cr(e,5);break;case 4:cr(e,10);break;case 3:cr(e,6);break;default:cr(e,2)}}function lr(e,t){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*t}function cr(e,t){if(e.j.info("Error code "+t),2==t){var r=c(e.fb,e),n=e.Xa;const t=!n;n=new it(n||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ot(n,"https"),ht(n),t?function(e,t){const r=new Ne;if(a.Image){const n=new Image;n.onload=u(It,r,"TestLoadImage: loaded",!0,t,n),n.onerror=u(It,r,"TestLoadImage: error",!1,t,n),n.onabort=u(It,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=u(It,r,"TestLoadImage: timeout",!1,t,n),a.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=e}else t(!1)}(n.toString(),r):function(e,t){new Ne;const r=new AbortController,n=setTimeout((()=>{r.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:r.signal}).then((e=>{clearTimeout(n),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(n),It(0,0,!1,t)}))}(n.toString(),r)}else Ae(2);e.G=0,e.l&&e.l.sa(t),ur(e),Qt(e)}function ur(e){if(e.G=0,e.ka=[],e.l){const t=rt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function hr(e,t,r){var n=r instanceof it?st(r):new it(r);if(""!=n.g)t&&(n.g=t+"."+n.g),lt(n,n.s);else{var i=a.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);n&&ot(s,n),t&&(s.g=t),i&&lt(s,i),r&&(s.l=r),n=s}return r=e.D,t=e.ya,r&&t&&ut(n,r,t),ut(n,"VER",e.la),er(e,n),n}function dr(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new xt({eb:r})):new Ft(e.pa)).Ha(e.J),t}function fr(){}function pr(){}function gr(e,t){re.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wr(this)}function mr(e){we.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vr(){ye.call(this),this.status=1}function wr(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?ge(this.o):ge(De),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Vt(this,s)}if(e=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else{if("function"!==typeof n.keys||"function"!==typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())r.set(e,n.get(e))}n=Array.from(r.keys()).find((e=>"content-type"==e.toLowerCase())),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of r)this.g.setRequestHeader(a,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Vt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ne(this,"complete"),ne(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ht(this):this.bb())},e.bb=function(){Ht(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,r,n){Ae(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=hr(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Pe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=y(i),E(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,r=0;r<this.i.length;r++){var n=this.i[r];if(void 0===(n="__data__"in n.map&&"string"===typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=tr(this,a,t),ut(r=st(this.I),"RID",e),ut(r,"CVER",22),this.D&&ut(r,"X-HTTP-Session-Id",this.D),er(this,r),i&&(this.O?t="headers="+encodeURIComponent(String(Pt(i)))+"&"+t:this.m&&Lt(r,this.m,i)),et(this.h,a),this.Ua&&ut(r,"TYPE","init"),this.P?(ut(r,"$req",t),ut(r,"SID","null"),a.T=!0,Ue(a,r,null)):Ue(a,r,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Qe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,ir(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ke(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),qt(this),ir(this))},e.Za=function(){null!=this.C&&(this.C=null,qt(this),nr(this),Ae(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fr.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pr.prototype.g=function(e,t){return new gr(e,t)},h(gr,re),gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){Xt(this.g)},gr.prototype.o=function(e){var t=this.g;if("string"===typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=he(e),e=r);t.i.push(new Xe(t.Ya++,e)),3==t.G&&Zt(t)},gr.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,gr.aa.N.call(this)},h(mr,we),h(vr,ye),h(wr,fr),wr.prototype.ua=function(){ne(this.g,"a")},wr.prototype.ta=function(e){ne(this.g,new mr(e))},wr.prototype.sa=function(e){ne(this.g,new vr)},wr.prototype.ra=function(){ne(this.g,"b")},pr.prototype.createWebChannel=pr.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,ro=ao.createWebChannelTransport=function(){return new pr},to=ao.getStatEventTarget=function(){return Se()},eo=ao.Event=be,Js=ao.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Zs=ao.ErrorCode=Re,Me.COMPLETE="complete",Qs=ao.EventType=Me,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",re.prototype.listen=re.prototype.K,qs=ao.WebChannel=me,ao.FetchXmlHttpFactory=xt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Xs=ao.XhrIo=Ft}).apply("undefined"!==typeof no?no:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const io="@firebase/firestore",so="4.7.10";class oo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oo.UNAUTHENTICATED=new oo(null),oo.GOOGLE_CREDENTIALS=new oo("google-credentials-uid"),oo.FIRST_PARTY=new oo("first-party-uid"),oo.MOCK_USER=new oo("mock-user");let lo="11.5.0";const co=new Ht("@firebase/firestore");function uo(){return co.logLevel}function ho(e){if(co.logLevel<=Ft.DEBUG){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(go);co.debug(`Firestore (${lo}): ${e}`,...a)}}function fo(e){if(co.logLevel<=Ft.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(go);co.error(`Firestore (${lo}): ${e}`,...a)}}function po(e){if(co.logLevel<=Ft.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(go);co.warn(`Firestore (${lo}): ${e}`,...a)}}function go(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function mo(){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw fo(e),new Error(e)}function vo(e,t){e||mo()}function wo(e,t){return e}const yo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bo extends Et{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Eo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class So{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class To{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(oo.UNAUTHENTICATED)))}shutdown(){}}class Co{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _o{constructor(e){this.t=e,this.currentUser=oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vo(void 0===this.o);let r=this.i;const n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let a=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Eo,e.enqueueRetryable((()=>n(this.currentUser)))};const i=()=>{const t=a;e.enqueueRetryable((async()=>{await t.promise,await n(this.currentUser)}))},s=e=>{ho("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ho("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Eo)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ho("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(vo("string"==typeof t.accessToken),new So(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vo(null===e||"string"==typeof e),new oo(e)}}class Ao{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=oo.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Io{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Ao(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(oo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ko{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class No{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){vo(void 0===this.o);const r=e=>{null!=e.error&&ho("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const r=e.token!==this.R;return this.R=e.token,ho("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>r(t)))};const n=e=>{ho("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?n(e):ho("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new ko(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(vo("string"==typeof e.token),this.R=e.token,new ko(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}function Do(){return new TextEncoder}class Ro{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const r=xo(40);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function Mo(e,t){return e<t?-1:e>t?1:0}function Oo(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return Mo(n,a);{const i=Do(),s=Lo(i.encode(Po(e,r)),i.encode(Po(t,r)));return 0!==s?s:Mo(n,a)}}r+=n>65535?2:1}return Mo(e.length,t.length)}function Po(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Lo(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Mo(e[r],t[r]);return Mo(e.length,t.length)}function Fo(e,t,r){return e.length===t.length&&e.every(((e,n)=>r(e,t[n])))}const Bo=-62135596800,Uo=1e6;class Vo{static now(){return Vo.fromMillis(Date.now())}static fromDate(e){return Vo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Uo);return new Vo(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new bo(yo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new bo(yo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bo)throw new bo(yo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bo(yo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uo}_compareTo(e){return this.seconds===e.seconds?Mo(this.nanoseconds,e.nanoseconds):Mo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Bo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jo{static fromTimestamp(e){return new jo(e)}static min(){return new jo(new Vo(0,0))}static max(){return new jo(new Vo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ho="__name__";class zo{constructor(e,t,r){void 0===t?t=0:t>e.length&&mo(),void 0===r?r=e.length-t:r>e.length-t&&mo(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===zo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zo?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=zo.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return Mo(e.length,t.length)}static compareSegments(e,t){const r=zo.isNumericId(e),n=zo.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?zo.extractNumericId(e).compare(zo.extractNumericId(t)):Oo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class Wo extends zo{construct(e,t,r){return new Wo(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r){if(a.indexOf("//")>=0)throw new bo(yo.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter((e=>e.length>0)))}return new Wo(e)}static emptyPath(){return new Wo([])}}const Yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Go extends zo{construct(e,t,r){return new Go(e,t,r)}static isValidIdentifier(e){return Yo.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Go.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ho}static keyField(){return new Go([Ho])}static fromServerFormat(e){const t=[];let r="",n=0;const a=()=>{if(0===r.length)throw new bo(yo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let i=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new bo(yo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new bo(yo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?(i=!i,n++):"."!==t||i?(r+=t,n++):(a(),n++)}if(a(),i)throw new bo(yo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Go(t)}static emptyPath(){return new Go([])}}class $o{constructor(e){this.path=e}static fromPath(e){return new $o(Wo.fromString(e))}static fromName(e){return new $o(Wo.fromString(e).popFirst(5))}static empty(){return new $o(Wo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $o(new Wo(e.slice()))}}const Ko=-1;class Xo{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}Xo.UNKNOWN_ID=-1;function qo(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=jo.fromTimestamp(1e9===n?new Vo(r+1,0):new Vo(r,n));return new Zo(a,$o.empty(),t)}function Qo(e){return new Zo(e.readTime,e.key,Ko)}class Zo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zo(jo.min(),$o.empty(),Ko)}static max(){return new Zo(jo.max(),$o.empty(),Ko)}}function Jo(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r?r:(r=$o.comparator(e.documentKey,t.documentKey),0!==r?r:Mo(e.largestBatchId,t.largestBatchId))}const el="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function rl(e){if(e.code!==yo.FAILED_PRECONDITION||e.message!==el)throw e;ho("LocalStore","Unexpectedly lost primary lease")}class nl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nl(((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nl?t:nl.resolve(t)}catch(e){return nl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nl.reject(t)}static resolve(e){return new nl(((t,r)=>{t(e)}))}static reject(e){return new nl(((t,r)=>{r(e)}))}static waitFor(e){return new nl(((t,r)=>{let n=0,a=0,i=!1;e.forEach((e=>{++n,e.next((()=>{++a,i&&a===n&&t()}),(e=>r(e)))})),i=!0,a===n&&t()}))}static or(e){let t=nl.resolve(!1);for(const r of e)t=t.next((e=>e?nl.resolve(e):r()));return t}static forEach(e,t){const r=[];return e.forEach(((e,n)=>{r.push(t.call(this,e,n))})),this.waitFor(r)}static mapArray(e,t){return new nl(((r,n)=>{const a=e.length,i=new Array(a);let s=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++s,s===a&&r(i)}),(e=>n(e)))}}))}static doWhile(e,t){return new nl(((r,n)=>{const a=()=>{!0===e()?t().next((()=>{a()}),n):r()};a()}))}}function al(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function il(e){return"IndexedDbTransactionError"===e.name}class sl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sl.ae=-1;const ol=-1;function ll(e){return null==e}function cl(e){return 0===e&&1/e==-1/0}function ul(e){return"number"==typeof e&&Number.isInteger(e)&&!cl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const hl="\x01";function dl(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=pl(t)),t=fl(e.get(r),t);return pl(t)}function fl(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const t=e.charAt(a);switch(t){case"\0":r+="\x01\x10";break;case hl:r+="\x01\x11";break;default:r+=t}}return r}function pl(e){return e+hl+"\x01"}const gl="remoteDocuments",ml="owner",vl="mutationQueues",wl="mutations";const yl="documentMutations",bl="remoteDocumentsV14",El="remoteDocumentGlobal",Sl="targets",Tl="targetDocuments",Cl="targetGlobal",_l="collectionParents",Al="clientMetadata",Il="bundles",kl="namedQueries",Nl="indexConfiguration",xl="indexState",Dl="indexEntries",Rl="documentOverlays",Ml="globals",Ol=[vl,wl,yl,gl,Sl,ml,Cl,Tl,Al,El,_l,Il,kl],Pl=[vl,wl,yl,bl,Sl,ml,Cl,Tl,Al,El,_l,Il,kl,Rl],Ll=Pl,Fl=[...Ll,Nl,xl,Dl];function Bl(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Ul(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Vl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class jl{constructor(e,t){this.comparator=e,this.root=t||zl.EMPTY}insert(e,t){return new jl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zl.BLACK,null,null))}remove(e){return new jl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hl(this.root,e,this.comparator,!0)}}class Hl{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&n&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zl{constructor(e,t,r,n,a){this.key=e,this.value=t,this.color=null!=r?r:zl.RED,this.left=null!=n?n:zl.EMPTY,this.right=null!=a?a:zl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,a){return new zl(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const a=r(e,n.key);return n=a<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===a?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return zl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return zl.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mo();if(this.right.isRed())throw mo();const e=this.left.check();if(e!==this.right.check())throw mo();return e+(this.isRed()?0:1)}}zl.EMPTY=null,zl.RED=!0,zl.BLACK=!1,zl.EMPTY=new class{constructor(){this.size=0}get key(){throw mo()}get value(){throw mo()}get color(){throw mo()}get left(){throw mo()}get right(){throw mo()}copy(e,t,r,n,a){return this}insert(e,t,r){return new zl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wl{constructor(e){this.comparator=e,this.data=new jl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yl(this.data.getIterator())}getIteratorFrom(e){return new Yl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Wl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wl(this.comparator);return t.data=e,t}}class Yl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gl{constructor(e){this.fields=e,e.sort(Go.comparator)}static empty(){return new Gl([])}unionWith(e){let t=new Wl(Go.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Gl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $l extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $l("Invalid base64 string: "+e):e}}(e);return new Kl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new Kl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kl.EMPTY_BYTE_STRING=new Kl("");const Xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ql(e){if(vo(!!e),"string"==typeof e){let t=0;const r=Xl.exec(e);if(vo(!!r),r[1]){let e=r[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Ql(e.seconds),nanos:Ql(e.nanos)}}function Ql(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zl(e){return"string"==typeof e?Kl.fromBase64String(e):Kl.fromUint8Array(e)}const Jl="server_timestamp",ec="__type__",tc="__previous_value__",rc="__local_write_time__";function nc(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ec])||void 0===r?void 0:r.stringValue)===Jl}function ac(e){const t=e.mapValue.fields[tc];return nc(t)?ac(t):t}function ic(e){const t=ql(e.mapValue.fields[rc].timestampValue);return new Vo(t.seconds,t.nanos)}class sc{constructor(e,t,r,n,a,i,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}const oc="(default)";class lc{constructor(e,t){this.projectId=e,this.database=t||oc}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===oc}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}const cc="__type__",uc="__max__",hc={mapValue:{fields:{__type__:{stringValue:uc}}}},dc="__vector__",fc="value";function pc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nc(e)?4:Dc(e)?9007199254740991:Nc(e)?10:11:mo()}function gc(e,t){if(e===t)return!0;const r=pc(e);if(r!==pc(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ic(e).isEqual(ic(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const r=ql(e.timestampValue),n=ql(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zl(e.bytesValue).isEqual(Zl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ql(e.geoPointValue.latitude)===Ql(t.geoPointValue.latitude)&&Ql(e.geoPointValue.longitude)===Ql(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ql(e.integerValue)===Ql(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const r=Ql(e.doubleValue),n=Ql(t.doubleValue);return r===n?cl(r)===cl(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return Fo(e.arrayValue.values||[],t.arrayValue.values||[],gc);case 10:case 11:return function(e,t){const r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(Bl(r)!==Bl(n))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(void 0===n[a]||!gc(r[a],n[a])))return!1;return!0}(e,t);default:return mo()}}function mc(e,t){return void 0!==(e.values||[]).find((e=>gc(e,t)))}function vc(e,t){if(e===t)return 0;const r=pc(e),n=pc(t);if(r!==n)return Mo(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const r=Ql(e.integerValue||e.doubleValue),n=Ql(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return wc(e.timestampValue,t.timestampValue);case 4:return wc(ic(e),ic(t));case 5:return Oo(e.stringValue,t.stringValue);case 6:return function(e,t){const r=Zl(e),n=Zl(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const r=e.split("/"),n=t.split("/");for(let a=0;a<r.length&&a<n.length;a++){const e=Mo(r[a],n[a]);if(0!==e)return e}return Mo(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const r=Mo(Ql(e.latitude),Ql(t.latitude));return 0!==r?r:Mo(Ql(e.longitude),Ql(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return yc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var r,n,a,i;const s=e.fields||{},o=t.fields||{},l=null===(r=s[fc])||void 0===r?void 0:r.arrayValue,c=null===(n=o[fc])||void 0===n?void 0:n.arrayValue,u=Mo((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:yc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===hc.mapValue&&t===hc.mapValue)return 0;if(e===hc.mapValue)return 1;if(t===hc.mapValue)return-1;const r=e.fields||{},n=Object.keys(r),a=t.fields||{},i=Object.keys(a);n.sort(),i.sort();for(let s=0;s<n.length&&s<i.length;++s){const e=Oo(n[s],i[s]);if(0!==e)return e;const t=vc(r[n[s]],a[i[s]]);if(0!==t)return t}return Mo(n.length,i.length)}(e.mapValue,t.mapValue);default:throw mo()}}function wc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mo(e,t);const r=ql(e),n=ql(t),a=Mo(r.seconds,n.seconds);return 0!==a?a:Mo(r.nanos,n.nanos)}function yc(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const e=vc(r[a],n[a]);if(e)return e}return Mo(r.length,n.length)}function bc(e){return Ec(e)}function Ec(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ql(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Zl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return $o.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",r=!0;for(const n of e.values||[])r?r=!1:t+=",",t+=Ec(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let r="{",n=!0;for(const a of t)n?n=!1:r+=",",r+=`${a}:${Ec(e.fields[a])}`;return r+"}"}(e.mapValue):mo()}function Sc(e){switch(pc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ac(e);return t?16+Sc(t):16;case 5:return 2*e.stringValue.length;case 6:return Zl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Sc(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ul(e.fields,((e,r)=>{t+=e.length+Sc(r)})),t}(e.mapValue);default:throw mo()}}function Tc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Cc(e){return!!e&&"integerValue"in e}function _c(e){return!!e&&"arrayValue"in e}function Ac(e){return!!e&&"nullValue"in e}function Ic(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kc(e){return!!e&&"mapValue"in e}function Nc(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[cc])||void 0===r?void 0:r.stringValue)===dc}function xc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ul(e.mapValue.fields,((e,r)=>t.mapValue.fields[e]=xc(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=xc(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Dc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===uc}class Rc{constructor(e){this.value=e}static empty(){return new Rc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(t)}setAll(e){let t=Go.emptyPath(),r={},n=[];e.forEach(((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=a.popLast()}e?r[a.lastSegment()]=xc(e):n.push(a.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,n)}delete(e){const t=this.field(e.popLast());kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];kc(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){Ul(t,((t,r)=>e[t]=r));for(const n of r)delete e[n]}clone(){return new Rc(xc(this.value))}}function Mc(e){const t=[];return Ul(e.fields,((e,r)=>{const n=new Go([e]);if(kc(r)){const e=Mc(r.mapValue).fields;if(0===e.length)t.push(n);else for(const r of e)t.push(n.child(r))}else t.push(n)})),new Gl(t)}class Oc{constructor(e,t,r,n,a,i,s){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=a,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Oc(e,0,jo.min(),jo.min(),jo.min(),Rc.empty(),0)}static newFoundDocument(e,t,r,n){return new Oc(e,1,t,jo.min(),r,n,0)}static newNoDocument(e,t){return new Oc(e,2,t,jo.min(),jo.min(),Rc.empty(),0)}static newUnknownDocument(e,t){return new Oc(e,3,t,jo.min(),jo.min(),Rc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function Lc(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(n=i.field.isKeyField()?$o.comparator($o.fromName(s.referenceValue),r.key):vc(s,r.data.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return n}function Fc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!gc(e.position[r],t.position[r]))return!1;return!0}class Bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Uc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Vc{}class jc extends Vc{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Xc(e,t,r):"array-contains"===t?new Jc(e,r):"in"===t?new eu(e,r):"not-in"===t?new tu(e,r):"array-contains-any"===t?new ru(e,r):new jc(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new qc(e,r):new Qc(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vc(t,this.value)):null!==t&&pc(this.value)===pc(t)&&this.matchesComparison(vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hc extends Vc{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Hc(e,t)}matches(e){return zc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function zc(e){return"and"===e.op}function Wc(e){return Yc(e)&&zc(e)}function Yc(e){for(const t of e.filters)if(t instanceof Hc)return!1;return!0}function Gc(e){if(e instanceof jc)return e.field.canonicalString()+e.op.toString()+bc(e.value);if(Wc(e))return e.filters.map((e=>Gc(e))).join(",");{const t=e.filters.map((e=>Gc(e))).join(",");return`${e.op}(${t})`}}function $c(e,t){return e instanceof jc?function(e,t){return t instanceof jc&&e.op===t.op&&e.field.isEqual(t.field)&&gc(e.value,t.value)}(e,t):e instanceof Hc?function(e,t){return t instanceof Hc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,r,n)=>e&&$c(r,t.filters[n])),!0)}(e,t):void mo()}function Kc(e){return e instanceof jc?function(e){return`${e.field.canonicalString()} ${e.op} ${bc(e.value)}`}(e):e instanceof Hc?function(e){return e.op.toString()+" {"+e.getFilters().map(Kc).join(" ,")+"}"}(e):"Filter"}class Xc extends jc{constructor(e,t,r){super(e,t,r),this.key=$o.fromName(r.referenceValue)}matches(e){const t=$o.comparator(e.key,this.key);return this.matchesComparison(t)}}class qc extends jc{constructor(e,t){super(e,"in",t),this.keys=Zc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Qc extends jc{constructor(e,t){super(e,"not-in",t),this.keys=Zc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zc(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map((e=>$o.fromName(e.referenceValue)))}class Jc extends jc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _c(t)&&mc(t.arrayValue,this.value)}}class eu extends jc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mc(this.value.arrayValue,t)}}class tu extends jc{constructor(e,t){super(e,"not-in",t)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!mc(this.value.arrayValue,t)}}class ru extends jc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_c(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>mc(this.value.arrayValue,e)))}}class nu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=a,this.startAt=i,this.endAt=s,this.le=null}}function au(e){return new nu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function iu(e){const t=wo(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Gc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ll(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>bc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>bc(e))).join(",")),t.le=e}return t.le}function su(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Uc(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!$c(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fc(e.startAt,t.startAt)&&Fc(e.endAt,t.endAt)}function ou(e){return $o.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class lu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=a,this.limitType=i,this.startAt=s,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function cu(e,t,r,n,a,i,s,o){return new lu(e,t,r,n,a,i,s,o)}function uu(e){return new lu(e)}function hu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function du(e){return null!==e.collectionGroup}function fu(e){const t=wo(e);if(null===t.he){t.he=[];const e=new Set;for(const a of t.explicitOrderBy)t.he.push(a),e.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new Wl(Go.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);n.forEach((n=>{e.has(n.canonicalString())||n.isKeyField()||t.he.push(new Bc(n,r))})),e.has(Go.keyField().canonicalString())||t.he.push(new Bc(Go.keyField(),r))}return t.he}function pu(e){const t=wo(e);return t.Pe||(t.Pe=gu(t,fu(e))),t.Pe}function gu(e,t){if("F"===e.limitType)return au(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Bc(e.field,t)}));const r=e.endAt?new Pc(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Pc(e.startAt.position,e.startAt.inclusive):null;return au(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function mu(e,t){const r=e.filters.concat([t]);return new lu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function vu(e,t,r){return new lu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function wu(e,t){return su(pu(e),pu(t))&&e.limitType===t.limitType}function yu(e){return`${iu(pu(e))}|lt:${e.limitType}`}function bu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Kc(e))).join(", ")}]`),ll(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>bc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>bc(e))).join(",")),`Target(${t})`}(pu(e))}; limitType=${e.limitType})`}function Eu(e,t){return t.isFoundDocument()&&function(e,t){const r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):$o.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){for(const r of fu(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(const r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,r){const n=Lc(e,t,r);return e.inclusive?n<=0:n<0}(e.startAt,fu(e),t))&&!(e.endAt&&!function(e,t,r){const n=Lc(e,t,r);return e.inclusive?n>=0:n>0}(e.endAt,fu(e),t))}(e,t)}function Su(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tu(e){return(t,r)=>{let n=!1;for(const a of fu(e)){const e=Cu(a,t,r);if(0!==e)return e;n=n||a.field.isKeyField()}return 0}}function Cu(e,t,r){const n=e.field.isKeyField()?$o.comparator(t.key,r.key):function(e,t,r){const n=t.data.field(e),a=r.data.field(e);return null!==n&&null!==a?vc(n,a):mo()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return mo()}}class _u{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[n,a]of r)if(this.equalsFn(n,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return void(n[a]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){Ul(this.inner,((t,r)=>{for(const[n,a]of r)e(n,a)}))}isEmpty(){return Vl(this.inner)}size(){return this.innerSize}}const Au=new jl($o.comparator);function Iu(){return Au}const ku=new jl($o.comparator);function Nu(){let e=ku;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r)e=e.insert(a.key,a);return e}function xu(e){let t=ku;return e.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Du(){return Mu()}function Ru(){return Mu()}function Mu(){return new _u((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ou=new jl($o.comparator),Pu=new Wl($o.comparator);function Lu(){let e=Pu;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r)e=e.add(a);return e}const Fu=new Wl(Mo);function Bu(){return Fu}function Uu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cl(t)?"-0":t}}function Vu(e){return{integerValue:""+e}}function ju(e,t){return ul(t)?Vu(t):Uu(e,t)}class Hu{constructor(){this._=void 0}}function zu(e,t,r){return e instanceof Gu?function(e,t){const r={fields:{[ec]:{stringValue:Jl},[rc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nc(t)&&(t=ac(t)),t&&(r.fields[tc]=t),{mapValue:r}}(r,t):e instanceof $u?Ku(e,t):e instanceof Xu?qu(e,t):function(e,t){const r=Yu(e,t),n=Zu(r)+Zu(e.Ie);return Cc(r)&&Cc(e.Ie)?Vu(n):Uu(e.serializer,n)}(e,t)}function Wu(e,t,r){return e instanceof $u?Ku(e,t):e instanceof Xu?qu(e,t):r}function Yu(e,t){return e instanceof Qu?function(e){return Cc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Gu extends Hu{}class $u extends Hu{constructor(e){super(),this.elements=e}}function Ku(e,t){const r=Ju(t);for(const n of e.elements)r.some((e=>gc(e,n)))||r.push(n);return{arrayValue:{values:r}}}class Xu extends Hu{constructor(e){super(),this.elements=e}}function qu(e,t){let r=Ju(t);for(const n of e.elements)r=r.filter((e=>!gc(e,n)));return{arrayValue:{values:r}}}class Qu extends Hu{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Zu(e){return Ql(e.integerValue||e.doubleValue)}function Ju(e){return _c(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class eh{constructor(e,t){this.version=e,this.transformResults=t}}class th{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new th}static exists(e){return new th(void 0,e)}static updateTime(e){return new th(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class nh{}function ah(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ph(e.key,th.none()):new ch(e.key,e.data,th.none());{const r=e.data,n=Rc.empty();let a=new Wl(Go.comparator);for(let e of t.fields)if(!a.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),a=a.add(e)}return new uh(e.key,n,new Gl(a.toArray()),th.none())}}function ih(e,t,r){e instanceof ch?function(e,t,r){const n=e.value.clone(),a=dh(e.fieldTransforms,t,r.transformResults);n.setAll(a),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(e,t,r):e instanceof uh?function(e,t,r){if(!rh(e.precondition,t))return void t.convertToUnknownDocument(r.version);const n=dh(e.fieldTransforms,t,r.transformResults),a=t.data;a.setAll(hh(e)),a.setAll(n),t.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(e,t,r):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,r)}function sh(e,t,r,n){return e instanceof ch?function(e,t,r,n){if(!rh(e.precondition,t))return r;const a=e.value.clone(),i=fh(e.fieldTransforms,n,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,r,n):e instanceof uh?function(e,t,r,n){if(!rh(e.precondition,t))return r;const a=fh(e.fieldTransforms,n,t),i=t.data;return i.setAll(hh(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===r?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,r,n):function(e,t,r){return rh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}(e,t,r)}function oh(e,t){let r=null;for(const n of e.fieldTransforms){const e=t.data.field(n.field),a=Yu(n.transform,e||null);null!=a&&(null===r&&(r=Rc.empty()),r.set(n.field,a))}return r||null}function lh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $u&&t instanceof $u||e instanceof Xu&&t instanceof Xu?Fo(e.elements,t.elements,gc):e instanceof Qu&&t instanceof Qu?gc(e.Ie,t.Ie):e instanceof Gu&&t instanceof Gu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ch extends nh{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class uh extends nh{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hh(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function dh(e,t,r){const n=new Map;vo(e.length===r.length);for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Wu(s,o,r[a]))}return n}function fh(e,t,r){const n=new Map;for(const a of e){const e=a.transform,i=r.data.field(a.field);n.set(a.field,zu(e,i,t))}return n}class ph extends nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gh extends nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mh{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let n=0;n<this.mutations.length;n++){const t=this.mutations[n];t.key.isEqual(e.key)&&ih(t,e,r[n])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ru();return this.mutations.forEach((n=>{const a=e.get(n.key),i=a.overlayedDocument;let s=this.applyToLocalView(i,a.mutatedFields);s=t.has(n.key)?null:s;const o=ah(i,s);null!==o&&r.set(n.key,o),i.isValidDocument()||i.convertToNoDocument(jo.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Lu())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,((e,t)=>lh(e,t)))&&Fo(this.baseMutations,e.baseMutations,((e,t)=>lh(e,t)))}}class vh{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){vo(e.mutations.length===r.length);let n=Ou;const a=e.mutations;for(let i=0;i<a.length;i++)n=n.insert(a[i].key,r[i].version);return new vh(e,t,r,n)}}class wh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yh{constructor(e,t){this.count=e,this.unchangedNames=t}}var bh,Eh;function Sh(e){switch(e){case yo.OK:return mo();case yo.CANCELLED:case yo.UNKNOWN:case yo.DEADLINE_EXCEEDED:case yo.RESOURCE_EXHAUSTED:case yo.INTERNAL:case yo.UNAVAILABLE:case yo.UNAUTHENTICATED:return!1;case yo.INVALID_ARGUMENT:case yo.NOT_FOUND:case yo.ALREADY_EXISTS:case yo.PERMISSION_DENIED:case yo.FAILED_PRECONDITION:case yo.ABORTED:case yo.OUT_OF_RANGE:case yo.UNIMPLEMENTED:case yo.DATA_LOSS:return!0;default:return mo()}}function Th(e){if(void 0===e)return fo("GRPC error has no .code"),yo.UNKNOWN;switch(e){case bh.OK:return yo.OK;case bh.CANCELLED:return yo.CANCELLED;case bh.UNKNOWN:return yo.UNKNOWN;case bh.DEADLINE_EXCEEDED:return yo.DEADLINE_EXCEEDED;case bh.RESOURCE_EXHAUSTED:return yo.RESOURCE_EXHAUSTED;case bh.INTERNAL:return yo.INTERNAL;case bh.UNAVAILABLE:return yo.UNAVAILABLE;case bh.UNAUTHENTICATED:return yo.UNAUTHENTICATED;case bh.INVALID_ARGUMENT:return yo.INVALID_ARGUMENT;case bh.NOT_FOUND:return yo.NOT_FOUND;case bh.ALREADY_EXISTS:return yo.ALREADY_EXISTS;case bh.PERMISSION_DENIED:return yo.PERMISSION_DENIED;case bh.FAILED_PRECONDITION:return yo.FAILED_PRECONDITION;case bh.ABORTED:return yo.ABORTED;case bh.OUT_OF_RANGE:return yo.OUT_OF_RANGE;case bh.UNIMPLEMENTED:return yo.UNIMPLEMENTED;case bh.DATA_LOSS:return yo.DATA_LOSS;default:return mo()}}(Eh=bh||(bh={}))[Eh.OK=0]="OK",Eh[Eh.CANCELLED=1]="CANCELLED",Eh[Eh.UNKNOWN=2]="UNKNOWN",Eh[Eh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Eh[Eh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Eh[Eh.NOT_FOUND=5]="NOT_FOUND",Eh[Eh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Eh[Eh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Eh[Eh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Eh[Eh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Eh[Eh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Eh[Eh.ABORTED=10]="ABORTED",Eh[Eh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Eh[Eh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Eh[Eh.INTERNAL=13]="INTERNAL",Eh[Eh.UNAVAILABLE=14]="UNAVAILABLE",Eh[Eh.DATA_LOSS=15]="DATA_LOSS";let Ch=null;const _h=new Ys([4294967295,4294967295],0);function Ah(e){const t=Do().encode(e),r=new Gs;return r.update(t),new Uint8Array(r.digest())}function Ih(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Ys([r,n],0),new Ys([a,i],0)]}class kh{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nh(`Invalid padding: ${t}`);if(r<0)throw new Nh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Nh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Nh(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ys.fromNumber(this.Ee)}Ae(e,t,r){let n=e.add(t.multiply(Ys.fromNumber(r)));return 1===n.compare(_h)&&(n=new Ys([n.getBits(0),n.getBits(1)],0)),n.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Ah(e),[r,n]=Ih(t);for(let a=0;a<this.hashCount;a++){const e=this.Ae(r,n,a);if(!this.Re(e))return!1}return!0}static create(e,t,r){const n=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new kh(a,n,t);return r.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Ee)return;const t=Ah(e),[r,n]=Ih(t);for(let a=0;a<this.hashCount;a++){const e=this.Ae(r,n,a);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,t,r,n,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const n=new Map;return n.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xh(jo.min(),n,new jl(Mo),Iu(),Lu())}}class Dh{constructor(e,t,r,n,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Dh(r,t,Lu(),Lu(),Lu())}}class Rh{constructor(e,t,r,n){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=n}}class Mh{constructor(e,t){this.targetId=e,this.ge=t}}class Oh{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kl.EMPTY_BYTE_STRING,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class Ph{constructor(){this.pe=0,this.ye=Bh(),this.we=Kl.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Lu(),t=Lu(),r=Lu();return this.ye.forEach(((n,a)=>{switch(a){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:mo()}})),new Dh(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Bh()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,vo(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Lh{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Iu(),this.$e=Fh(),this.Ue=Fh(),this.Ke=new jl(Mo)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:mo()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,r)=>{this.Je(r)&&t(r)}))}Ze(e){const t=e.targetId,r=e.ge.count,n=this.Xe(t);if(n){const a=n.target;if(ou(a))if(0===r){const e=new $o(a.path);this.ze(t,e,Oc.newNoDocument(e,jo.min()))}else vo(1===r);else{const n=this.et(t);if(n!==r){const r=this.tt(e),a=r?this.nt(r,e,n):1;if(0!==a){this.Ye(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Ch||Ch.rt(function(e,t,r,n,a){var i,s,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===a,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==n?void 0:n.mightContain(e))&&void 0!==t&&t}}),h}(n,e.ge,this.ke.it(),r,a))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:a=0}=t;let i,s;try{i=Zl(r).toUint8Array()}catch(e){if(e instanceof $l)return po("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new kh(i,n,a)}catch(e){return po(e instanceof Nh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ee?null:s}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let n=0;return r.forEach((r=>{const a=this.ke.it(),i=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(i)||(this.ze(t,r,null),n++)})),n}ot(e){const t=new Map;this.qe.forEach(((r,n)=>{const a=this.Xe(n);if(a){if(r.current&&ou(a.target)){const t=new $o(a.target.path);this._t(t).has(n)||this.ut(n,t)||this.ze(n,t,Oc.newNoDocument(t,e))}r.ve&&(t.set(n,r.Fe()),r.Me())}}));let r=Lu();this.Ue.forEach(((e,t)=>{let n=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)})),n&&(r=r.add(e))})),this.Qe.forEach(((t,r)=>r.setReadTime(e)));const n=new xh(e,t,this.Ke,this.Qe,r);return this.Qe=Iu(),this.$e=Fh(),this.Ue=Fh(),this.Ke=new jl(Mo),n}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const n=this.He(e);this.ut(e,t)?n.xe(t,1):n.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ph,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Wl(Mo),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Wl(Mo),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||ho("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ph),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Fh(){return new jl($o.comparator)}function Bh(){return new jl($o.comparator)}const Uh={asc:"ASCENDING",desc:"DESCENDING"},Vh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jh={and:"AND",or:"OR"};class Hh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zh(e,t){return e.useProto3Json||ll(t)?t:{value:t}}function Wh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gh(e,t){return Wh(e,t.toTimestamp())}function $h(e){return vo(!!e),jo.fromTimestamp(function(e){const t=ql(e);return new Vo(t.seconds,t.nanos)}(e))}function Kh(e,t){return Xh(e,t).canonicalString()}function Xh(e,t){const r=function(e){return new Wo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?r:r.child(t)}function qh(e){const t=Wo.fromString(e);return vo(md(t)),t}function Qh(e,t){return Kh(e.databaseId,t.path)}function Zh(e,t){const r=qh(t);if(r.get(1)!==e.databaseId.projectId)throw new bo(yo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new bo(yo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new $o(rd(r))}function Jh(e,t){return Kh(e.databaseId,t)}function ed(e){const t=qh(e);return 4===t.length?Wo.emptyPath():rd(t)}function td(e){return new Wo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rd(e){return vo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function nd(e,t,r){return{name:Qh(e,t),fields:r.value.mapValue.fields}}function ad(e,t){let r;if(t instanceof ch)r={update:nd(e,t.key,t.value)};else if(t instanceof ph)r={delete:Qh(e,t.key)};else if(t instanceof uh)r={update:nd(e,t.key,t.data),updateMask:gd(t.fieldMask)};else{if(!(t instanceof gh))return mo();r={verify:Qh(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const r=t.transform;if(r instanceof Gu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof $u)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof Xu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof Qu)return{fieldPath:t.field.canonicalString(),increment:r.Ie};throw mo()}(0,e)))),t.precondition.isNone||(r.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mo()}(e,t.precondition)),r}function id(e,t){return{documents:[Jh(e,t.path)]}}function sd(e,t){const r={structuredQuery:{}},n=t.path;let a;null!==t.collectionGroup?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Jh(e,a);const i=function(e){if(0!==e.length)return pd(Hc.create(e,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:dd(e.field),direction:cd(e.dir)}}(e)))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=zh(e,t.limit);return null!==o&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:r,parent:a}}function od(e){let t=ed(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){vo(1===n);const e=r.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];r.where&&(i=function(e){const t=ld(e);return t instanceof Hc&&Wc(t)?t.getFilters():[t]}(r.where));let s=[];r.orderBy&&(s=function(e){return e.map((e=>function(e){return new Bc(fd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(r.orderBy));let o=null;r.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ll(t)?null:t}(r.limit));let l=null;r.startAt&&(l=function(e){const t=!!e.before,r=e.values||[];return new Pc(r,t)}(r.startAt));let c=null;return r.endAt&&(c=function(e){const t=!e.before,r=e.values||[];return new Pc(r,t)}(r.endAt)),cu(t,a,s,i,o,"F",l,c)}function ld(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fd(e.unaryFilter.field);return jc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=fd(e.unaryFilter.field);return jc.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=fd(e.unaryFilter.field);return jc.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fd(e.unaryFilter.field);return jc.create(a,"!=",{nullValue:"NULL_VALUE"});default:return mo()}}(e):void 0!==e.fieldFilter?function(e){return jc.create(fd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mo()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Hc.create(e.compositeFilter.filters.map((e=>ld(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mo()}}(e.compositeFilter.op))}(e):mo()}function cd(e){return Uh[e]}function ud(e){return Vh[e]}function hd(e){return jh[e]}function dd(e){return{fieldPath:e.canonicalString()}}function fd(e){return Go.fromServerFormat(e.fieldPath)}function pd(e){return e instanceof jc?function(e){if("=="===e.op){if(Ic(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NAN"}};if(Ac(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ic(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NOT_NAN"}};if(Ac(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dd(e.field),op:ud(e.op),value:e.value}}}(e):e instanceof Hc?function(e){const t=e.getFilters().map((e=>pd(e)));return 1===t.length?t[0]:{compositeFilter:{op:hd(e.op),filters:t}}}(e):mo()}function gd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function md(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class vd{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jo.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Kl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new vd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wd{constructor(e){this.Tt=e}}function yd(e){const t=od({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vu(t,t.limit,"L"):t}class bd{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Ql(e.integerValue));else if("doubleValue"in e){const r=Ql(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),cl(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),"string"==typeof r&&(r=ql(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Zl(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?Dc(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Nc(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):mo()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const n of Object.keys(r))this.wt(n,t),this.Rt(r[n],t)}vt(e,t){var r,n;const a=e.fields||{};this.ft(t,53);const i=fc,s=(null===(n=null===(r=a[i].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.length)||0;this.ft(t,15),t.gt(Ql(s)),this.wt(i,t),this.Rt(a[i],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const n of r)this.Rt(n,t)}Dt(e,t){this.ft(t,37),$o.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}bd.xt=new bd;class Ed{constructor(){this.Tn=new Sd}addToCollectionParentIndex(e,t){return this.Tn.add(t),nl.resolve()}getCollectionParents(e,t){return nl.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return nl.resolve()}deleteFieldIndex(e,t){return nl.resolve()}deleteAllFieldIndexes(e){return nl.resolve()}createTargetIndexes(e,t){return nl.resolve()}getDocumentsMatchingTarget(e,t){return nl.resolve(null)}getIndexType(e,t){return nl.resolve(0)}getFieldIndexes(e,t){return nl.resolve([])}getNextCollectionGroupToUpdate(e){return nl.resolve(null)}getMinOffset(e,t){return nl.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,t){return nl.resolve(Zo.min())}updateCollectionGroup(e,t,r){return nl.resolve()}updateIndexEntries(e,t){return nl.resolve()}}class Sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new Wl(Wo.comparator),a=!n.has(r);return this.index[t]=n.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new Wl(Wo.comparator)).toArray()}}new Uint8Array(0);const Td={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cd=41943040;class _d{static withCacheSize(e){return new _d(e,_d.DEFAULT_COLLECTION_PERCENTILE,_d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}_d.DEFAULT_COLLECTION_PERCENTILE=10,_d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_d.DEFAULT=new _d(Cd,_d.DEFAULT_COLLECTION_PERCENTILE,_d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_d.DISABLED=new _d(-1,0,0);class Ad{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ad(0)}static Kn(){return new Ad(-1)}}const Id="LruGarbageCollector",kd=1048576;function Nd(e,t){let[r,n]=e,[a,i]=t;const s=Mo(r,a);return 0===s?Mo(n,i):s}class xd{constructor(e){this.Hn=e,this.buffer=new Wl(Nd),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Nd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Dd{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){ho(Id,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){il(e)?ho(Id,"Ignoring IndexedDB error during garbage collection: ",e):await rl(e)}await this.er(3e5)}))}}class Rd{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return nl.resolve(sl.ae);const r=new xd(t);return this.tr.forEachTarget(e,(e=>r.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>r.Zn(e))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ho("LruGarbageCollector","Garbage collection skipped; disabled"),nl.resolve(Td)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ho("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Td):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,n,a,i,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ho("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,i=Date.now(),this.nthSequenceNumber(e,n)))).next((n=>(r=n,s=Date.now(),this.removeTargets(e,r,t)))).next((t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,r)))).next((e=>(l=Date.now(),uo()<=Ft.DEBUG&&ho("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${n} in `+(s-i)+"ms\n"+`\tRemoved ${a} targets in `+(o-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),nl.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:a,documentsRemoved:e}))))}}function Md(e,t){return new Rd(e,t)}class Od{constructor(){this.changes=new _u((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Oc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?nl.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ld{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((n=>(r=n,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==r&&sh(r.mutation,e,Gl.empty(),Vo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Lu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lu();const n=Du();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,r).next((e=>{let t=Nu();return e.forEach(((e,r)=>{t=t.insert(e,r.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const r=Du();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Lu())))}populateOverlays(e,t,r){const n=[];return r.forEach((e=>{t.has(e)||n.push(e)})),this.documentOverlayCache.getOverlays(e,n).next((e=>{e.forEach(((e,r)=>{t.set(e,r)}))}))}computeViews(e,t,r,n){let a=Iu();const i=Mu(),s=Mu();return t.forEach(((e,t)=>{const s=r.get(t.key);n.has(t.key)&&(void 0===s||s.mutation instanceof uh)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),sh(s.mutation,t,s.mutation.getFieldMask(),Vo.now())):i.set(t.key,Gl.empty())})),this.recalculateAndSaveOverlays(e,a).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var r;return s.set(e,new Pd(t,null!==(r=i.get(e))&&void 0!==r?r:null))})),s)))}recalculateAndSaveOverlays(e,t){const r=Mu();let n=new jl(((e,t)=>e-t)),a=Lu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const a of e)a.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=r.get(e)||Gl.empty();s=a.applyToLocalView(i,s),r.set(e,s);const o=(n.get(a.batchId)||Lu()).add(e);n=n.insert(a.batchId,o)}))})).next((()=>{const i=[],s=n.getReverseIterator();for(;s.hasNext();){const n=s.getNext(),o=n.key,l=n.value,c=Ru();l.forEach((e=>{if(!a.has(e)){const n=ah(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return nl.waitFor(i)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,r,n){return function(e){return $o.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):du(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next((a=>{const i=n-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-a.size):nl.resolve(Du());let s=Ko,o=a;return i.next((t=>nl.forEach(t,((t,r)=>(s<r.largestBatchId&&(s=r.largestBatchId),a.get(t)?nl.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,a))).next((()=>this.computeViews(e,o,t,Lu()))).next((e=>({batchId:s,changes:xu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $o(t)).next((e=>{let t=Nu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){const a=t.collectionGroup;let i=Nu();return this.indexManager.getCollectionParents(e,a).next((s=>nl.forEach(s,(s=>{const o=function(e,t){return new lu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,r,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,r,n){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,n)))).next((e=>{a.forEach(((t,r)=>{const n=r.getKey();null===e.get(n)&&(e=e.insert(n,Oc.newInvalidDocument(n)))}));let r=Nu();return e.forEach(((e,n)=>{const i=a.get(e);void 0!==i&&sh(i.mutation,n,Gl.empty(),Vo.now()),Eu(t,n)&&(r=r.insert(e,n))})),r}))}}class Fd{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return nl.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:$h(e.createTime)}}(t)),nl.resolve()}getNamedQuery(e,t){return nl.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:yd(e.bundledQuery),readTime:$h(e.readTime)}}(t)),nl.resolve()}}class Bd{constructor(){this.overlays=new jl($o.comparator),this.Rr=new Map}getOverlay(e,t){return nl.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Du();return nl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&r.set(t,e)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((r,n)=>{this.Et(e,t,n)})),nl.resolve()}removeOverlaysForBatchId(e,t,r){const n=this.Rr.get(r);return void 0!==n&&(n.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(r)),nl.resolve()}getOverlaysForCollection(e,t,r){const n=Du(),a=t.length+1,i=new $o(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>r&&n.set(e.getKey(),e)}return nl.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let a=new jl(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=a.get(e.largestBatchId);null===t&&(t=Du(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Du(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=n)););return nl.resolve(s)}Et(e,t,r){const n=this.overlays.get(r.key);if(null!==n){const e=this.Rr.get(n.largestBatchId).delete(r.key);this.Rr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new wh(t,r));let a=this.Rr.get(t);void 0===a&&(a=Lu(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}class Ud{constructor(){this.sessionToken=Kl.EMPTY_BYTE_STRING}getSessionToken(e){return nl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nl.resolve()}}class Vd{constructor(){this.Vr=new Wl(jd.mr),this.gr=new Wl(jd.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new jd(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new jd(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new $o(new Wo([])),r=new jd(t,e),n=new jd(t,e+1),a=[];return this.gr.forEachInRange([r,n],(e=>{this.wr(e),a.push(e.key)})),a}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new $o(new Wo([])),r=new jd(t,e),n=new jd(t,e+1);let a=Lu();return this.gr.forEachInRange([r,n],(e=>{a=a.add(e.key)})),a}containsKey(e){const t=new jd(e,0),r=this.Vr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class jd{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return $o.comparator(e.key,t.key)||Mo(e.Cr,t.Cr)}static pr(e,t){return Mo(e.Cr,t.Cr)||$o.comparator(e.key,t.key)}}class Hd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Wl(jd.mr)}checkEmpty(e){return nl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new mh(a,t,r,n);this.mutationQueue.push(i);for(const s of n)this.Mr=this.Mr.add(new jd(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return nl.resolve(i)}lookupMutationBatch(e,t){return nl.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=this.Nr(r),a=n<0?0:n;return nl.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return nl.resolve(0===this.mutationQueue.length?ol:this.Fr-1)}getAllMutationBatches(e){return nl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jd(t,0),n=new jd(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,n],(e=>{const t=this.Or(e.Cr);a.push(t)})),nl.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wl(Mo);return t.forEach((e=>{const t=new jd(e,0),n=new jd(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,n],(e=>{r=r.add(e.Cr)}))})),nl.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,n=r.length+1;let a=r;$o.isDocumentKey(a)||(a=a.child(""));const i=new jd(new $o(a),0);let s=new Wl(Mo);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(s=s.add(e.Cr)),!0)}),i),nl.resolve(this.Br(s))}Br(e){const t=[];return e.forEach((e=>{const r=this.Or(e);null!==r&&t.push(r)})),t}removeMutationBatch(e,t){vo(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Mr;return nl.forEach(t.mutations,(n=>{const a=new jd(n.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)})).next((()=>{this.Mr=r}))}qn(e){}containsKey(e,t){const r=new jd(t,0),n=this.Mr.firstAfterOrEqual(r);return nl.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,nl.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zd{constructor(e){this.kr=e,this.docs=new jl($o.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,n=this.docs.get(r),a=n?n.size:0,i=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return nl.resolve(r?r.document.mutableCopy():Oc.newInvalidDocument(t))}getEntries(e,t){let r=Iu();return t.forEach((e=>{const t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Oc.newInvalidDocument(e))})),nl.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let a=Iu();const i=t.path,s=new $o(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Jo(Qo(s),r)<=0||(n.has(s.key)||Eu(t,s))&&(a=a.insert(s.key,s.mutableCopy()))}return nl.resolve(a)}getAllFromCollectionGroup(e,t,r,n){mo()}qr(e,t){return nl.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wd(this)}getSize(e){return nl.resolve(this.size)}}class Wd extends Od{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((r,n)=>{n.isValidDocument()?t.push(this.Ir.addEntry(e,n)):this.Ir.removeEntry(r)})),nl.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Yd{constructor(e){this.persistence=e,this.Qr=new _u((e=>iu(e)),su),this.lastRemoteSnapshotVersion=jo.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vd,this.targetCount=0,this.Kr=Ad.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,r)=>t(r))),nl.resolve()}getLastRemoteSnapshotVersion(e){return nl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nl.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),nl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),nl.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ad(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,nl.resolve()}updateTargetData(e,t){return this.zn(t),nl.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,nl.resolve()}removeTargets(e,t,r){let n=0;const a=[];return this.Qr.forEach(((i,s)=>{s.sequenceNumber<=t&&null===r.get(s.targetId)&&(this.Qr.delete(i),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),n++)})),nl.waitFor(a).next((()=>n))}getTargetCount(e){return nl.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return nl.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),nl.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const n=this.persistence.referenceDelegate,a=[];return n&&t.forEach((t=>{a.push(n.markPotentiallyOrphaned(e,t))})),nl.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),nl.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return nl.resolve(r)}containsKey(e,t){return nl.resolve(this.Ur.containsKey(t))}}class Gd{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new sl(0),this.zr=!1,this.zr=!0,this.jr=new Ud,this.referenceDelegate=e(this),this.Hr=new Yd(this),this.indexManager=new Ed,this.remoteDocumentCache=function(e){return new zd(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new wd(t),this.Yr=new Fd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Hd(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ho("MemoryPersistence","Starting transaction:",e);const n=new $d(this.Gr.next());return this.referenceDelegate.Zr(),r(n).next((e=>this.referenceDelegate.Xr(n).next((()=>e)))).toPromise().then((e=>(n.raiseOnCommittedEvent(),e)))}ei(e,t){return nl.or(Object.values(this.Wr).map((r=>()=>r.containsKey(e,t))))}}class $d extends tl{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.ti=new Vd,this.ni=null}static ri(e){return new Kd(e)}get ii(){if(this.ni)return this.ni;throw mo()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),nl.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),nl.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),nl.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>r.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nl.forEach(this.ii,(r=>{const n=$o.fromPath(r);return this.si(e,n).next((e=>{e||t.removeEntry(n,jo.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return nl.or([()=>nl.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Xd{constructor(e,t){this.persistence=e,this.oi=new _u((e=>dl(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Md(this,t)}static ri(e,t){return new Xd(e,t)}Zr(){}Xr(e){return nl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return nl.forEach(this.oi,((r,n)=>this.ar(e,r,n).next((e=>e?nl.resolve():t(n)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const n=this.persistence.getRemoteDocumentCache(),a=n.newChangeBuffer();return n.qr(e,(n=>this.ar(e,n,t).next((e=>{e||(r++,a.removeEntry(n,jo.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),nl.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),nl.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),nl.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),nl.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sc(e.data.value)),t}ar(e,t,r){return nl.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return nl.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qd{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=n}static Yi(e,t){let r=Lu(),n=Lu();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:n=n.add(a.doc.key)}return new qd(e,t.fromCache,r,n)}}class Qd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zd{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=yt()?8:al(wt())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,n){const a={result:null};return this.rs(e,t).next((e=>{a.result=e})).next((()=>{if(!a.result)return this.ss(e,t,n,r).next((e=>{a.result=e}))})).next((()=>{if(a.result)return;const r=new Qd;return this._s(e,t,r).next((n=>{if(a.result=n,this.Xi)return this.us(e,t,r,n.size)}))})).next((()=>a.result))}us(e,t,r,n){return r.documentReadCount<this.es?(uo()<=Ft.DEBUG&&ho("QueryEngine","SDK will not create cache indexes for query:",bu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),nl.resolve()):(uo()<=Ft.DEBUG&&ho("QueryEngine","Query:",bu(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ts*n?(uo()<=Ft.DEBUG&&ho("QueryEngine","The SDK decides to create cache indexes for query:",bu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pu(t))):nl.resolve())}rs(e,t){if(hu(t))return nl.resolve(null);let r=pu(t);return this.indexManager.getIndexType(e,r).next((n=>0===n?null:(null!==t.limit&&1===n&&(t=vu(t,null,"F"),r=pu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((n=>{const a=Lu(...n);return this.ns.getDocuments(e,a).next((n=>this.indexManager.getMinOffset(e,r).next((r=>{const i=this.cs(t,n);return this.ls(t,i,a,r.readTime)?this.rs(e,vu(t,null,"F")):this.hs(e,i,t,r)}))))})))))}ss(e,t,r,n){return hu(t)||n.isEqual(jo.min())?nl.resolve(null):this.ns.getDocuments(e,r).next((a=>{const i=this.cs(t,a);return this.ls(t,i,r,n)?nl.resolve(null):(uo()<=Ft.DEBUG&&ho("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bu(t)),this.hs(e,i,t,qo(n,Ko)).next((e=>e)))}))}cs(e,t){let r=new Wl(Tu(e));return t.forEach(((t,n)=>{Eu(e,n)&&(r=r.add(n))})),r}ls(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(n)>0)}_s(e,t,r){return uo()<=Ft.DEBUG&&ho("QueryEngine","Using full collection scan to execute query:",bu(t)),this.ns.getDocumentsMatchingQuery(e,t,Zo.min(),r)}hs(e,t,r,n){return this.ns.getDocumentsMatchingQuery(e,r,n).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Jd="LocalStore";class ef{constructor(e,t,r,n){this.persistence=e,this.Ps=t,this.serializer=n,this.Ts=new jl(Mo),this.Is=new _u((e=>iu(e)),su),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ld(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function tf(e,t,r,n){return new ef(e,t,r,n)}async function rf(e,t){const r=wo(e);return await r.persistence.runTransaction("Handle user change","readonly",(e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next((a=>(n=a,r.As(t),r.mutationQueue.getAllMutationBatches(e)))).next((t=>{const a=[],i=[];let s=Lu();for(const e of n){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return r.localDocuments.getDocuments(e,s).next((e=>({Rs:e,removedBatchIds:a,addedBatchIds:i})))}))}))}function nf(e){const t=wo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function af(e,t,r){let n=Lu(),a=Lu();return r.forEach((e=>n=n.add(e))),t.getEntries(e,n).next((e=>{let n=Iu();return r.forEach(((r,i)=>{const s=e.get(r);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(r)),i.isNoDocument()&&i.version.isEqual(jo.min())?(t.removeEntry(r,i.readTime),n=n.insert(r,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),n=n.insert(r,i)):ho(Jd,"Ignoring outdated watch update for ",r,". Current version:",s.version," Watch version:",i.version)})),{Vs:n,fs:a}}))}function sf(e,t){const r=wo(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ol),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function of(e,t){const r=wo(e);return r.persistence.runTransaction("Allocate target","readwrite",(e=>{let n;return r.Hr.getTargetData(e,t).next((a=>a?(n=a,nl.resolve(n)):r.Hr.allocateTargetId(e).next((a=>(n=new vd(t,a,"TargetPurposeListen",e.currentSequenceNumber),r.Hr.addTargetData(e,n).next((()=>n)))))))})).then((e=>{const n=r.Ts.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(e.targetId,e),r.Is.set(t,e.targetId)),e}))}async function lf(e,t,r){const n=wo(e),a=n.Ts.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,(e=>n.persistence.referenceDelegate.removeTarget(e,a)))}catch(e){if(!il(e))throw e;ho(Jd,`Failed to update sequence numbers for target ${t}: ${e}`)}n.Ts=n.Ts.remove(t),n.Is.delete(a.target)}function cf(e,t,r){const n=wo(e);let a=jo.min(),i=Lu();return n.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,r){const n=wo(e),a=n.Is.get(r);return void 0!==a?nl.resolve(n.Ts.get(a)):n.Hr.getTargetData(t,r)}(n,e,pu(t)).next((t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>n.Ps.getDocumentsMatchingQuery(e,t,r?a:jo.min(),r?i:Lu()))).next((e=>(uf(n,Su(t),e),{documents:e,gs:i})))))}function uf(e,t,r){let n=e.Es.get(t)||jo.min();r.forEach(((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)})),e.Es.set(t,n)}class hf{constructor(){this.activeTargetIds=Bu()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class df{constructor(){this.ho=new hf,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new hf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ff{To(e){}shutdown(){}}const pf="ConnectivityMonitor";class gf{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ho(pf,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ho(pf,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mf=null;function vf(){return null===mf?mf=268435456+Math.round(2147483648*Math.random()):mf++,"0x"+mf.toString(16)}const wf="RestConnection",yf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bf{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${n}`,this.wo=this.databaseId.database===oc?`project_id=${r}`:`project_id=${r}&database_id=${n}`}So(e,t,r,n,a){const i=vf(),s=this.bo(e,t.toUriEncodedString());ho(wf,`Sending RPC '${e}' ${i}:`,s,r);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,n,a),this.vo(e,s,o,r).then((t=>(ho(wf,`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw po(wf,`RPC '${e}' ${i} failed with error: `,t,"url: ",s,"request:",r),t}))}Co(e,t,r,n,a,i){return this.So(e,t,r,n,a)}Do(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+lo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,r)=>e[r]=t)),r&&r.headers.forEach(((t,r)=>e[r]=t))}bo(e,t){const r=yf[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}class Ef{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Sf="WebChannelConnection";class Tf extends bf{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,n){const a=vf();return new Promise(((i,s)=>{const o=new Xs;o.setWithCredentials(!0),o.listenOnce(Qs.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Zs.NO_ERROR:const t=o.getResponseJson();ho(Sf,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Zs.TIMEOUT:ho(Sf,`RPC '${e}' ${a} timed out`),s(new bo(yo.DEADLINE_EXCEEDED,"Request time out"));break;case Zs.HTTP_ERROR:const r=o.getStatus();if(ho(Sf,`RPC '${e}' ${a} failed with status:`,r,"response text:",o.getResponseText()),r>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yo).indexOf(t)>=0?t:yo.UNKNOWN}(t.status);s(new bo(e,t.message))}else s(new bo(yo.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new bo(yo.UNAVAILABLE,"Connection failed."));break;default:mo()}}finally{ho(Sf,`RPC '${e}' ${a} completed.`)}}));const l=JSON.stringify(n);ho(Sf,`RPC '${e}' ${a} sending request:`,n),o.send(t,"POST",l,r,15)}))}Wo(e,t,r){const n=vf(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ro(),s=to(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,r),o.encodeInitMessageHeaders=!0;const c=a.join("");ho(Sf,`Creating RPC '${e}' stream ${n}: ${c}`,o);const u=i.createWebChannel(c,o);let h=!1,d=!1;const f=new Ef({Fo:t=>{d?ho(Sf,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(h||(ho(Sf,`Opening RPC '${e}' stream ${n} transport.`),u.open(),h=!0),ho(Sf,`RPC '${e}' stream ${n} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,r)=>{e.listen(t,(e=>{try{r(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,qs.EventType.OPEN,(()=>{d||(ho(Sf,`RPC '${e}' stream ${n} transport opened.`),f.Qo())})),p(u,qs.EventType.CLOSE,(()=>{d||(d=!0,ho(Sf,`RPC '${e}' stream ${n} transport closed`),f.Uo())})),p(u,qs.EventType.ERROR,(t=>{d||(d=!0,po(Sf,`RPC '${e}' stream ${n} transport errored:`,t),f.Uo(new bo(yo.UNAVAILABLE,"The operation could not be completed")))})),p(u,qs.EventType.MESSAGE,(t=>{var r;if(!d){const a=t.data[0];vo(!!a);const i=a,s=(null==i?void 0:i.error)||(null===(r=i[0])||void 0===r?void 0:r.error);if(s){ho(Sf,`RPC '${e}' stream ${n} received error:`,s);const t=s.status;let r=function(e){const t=bh[e];if(void 0!==t)return Th(t)}(t),a=s.message;void 0===r&&(r=yo.INTERNAL,a="Unknown error status: "+t+" with message "+s.message),d=!0,f.Uo(new bo(r,a)),u.close()}else ho(Sf,`RPC '${e}' stream ${n} received:`,a),f.Ko(a)}})),p(s,eo.STAT_EVENT,(t=>{t.stat===Js.PROXY?ho(Sf,`RPC '${e}' stream ${n} detected buffering proxy`):t.stat===Js.NOPROXY&&ho(Sf,`RPC '${e}' stream ${n} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Cf(){return"undefined"!=typeof document?document:null}function _f(e){return new Hh(e,!0)}class Af{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=r,this.zo=n,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),n=Math.max(0,t-r);n>0&&ho("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const If="PersistentStream";class kf{constructor(e,t,r,n,a,i,s,o){this.Ti=e,this.n_=r,this.r_=n,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Af(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===yo.RESOURCE_EXHAUSTED?(fo(t.toString()),fo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===yo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[r,n]=e;this.i_===t&&this.V_(r,n)}),(t=>{e((()=>{const e=new bo(yo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{r((()=>this.listener.xo()))})),this.stream.No((()=>{r((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{r((()=>this.m_(e)))})),this.stream.onMessage((e=>{r((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return ho(If,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(ho(If,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nf extends kf{constructor(e,t,r,n,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,i),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mo()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(vo(void 0===t||"string"==typeof t),Kl.fromBase64String(t||"")):(vo(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Kl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?yo.UNKNOWN:Th(e.code);return new bo(t,e.message||"")}(s);r=new Oh(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=Zh(e,n.document.name),i=$h(n.document.updateTime),s=n.document.createTime?$h(n.document.createTime):jo.min(),o=new Rc({mapValue:{fields:n.document.fields}}),l=Oc.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Rh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=Zh(e,n.document),i=n.readTime?$h(n.readTime):jo.min(),s=Oc.newNoDocument(a,i),o=n.removedTargetIds||[];r=new Rh([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=Zh(e,n.document),i=n.removedTargetIds||[];r=new Rh([],i,a,null)}else{if(!("filter"in t))return mo();{t.filter;const e=t.filter;e.targetId;const{count:n=0,unchangedNames:a}=e,i=new yh(n,a),s=e.targetId;r=new Mh(s,i)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return jo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?jo.min():t.readTime?$h(t.readTime):jo.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=td(this.serializer),t.addTarget=function(e,t){let r;const n=t.target;if(r=ou(n)?{documents:id(e,n)}:{query:sd(e,n).ht},r.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=Yh(e,t.resumeToken);const n=zh(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(jo.min())>0){r.readTime=Wh(e,t.snapshotVersion.toTimestamp());const n=zh(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);const r=function(e,t){const r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mo()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=td(this.serializer),t.removeTarget=e,this.I_(t)}}class xf extends kf{constructor(e,t,r,n,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,i),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return vo(!!e.streamToken),this.lastStreamToken=e.streamToken,vo(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){vo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(vo(void 0!==t),e.map((e=>function(e,t){let r=e.updateTime?$h(e.updateTime):$h(t);return r.isEqual(jo.min())&&(r=$h(t)),new eh(r,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),r=$h(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=td(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ad(this.serializer,e)))};this.I_(t)}}class Df{}class Rf extends Df{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new bo(yo.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[i,s]=a;return this.connection.So(e,Xh(t,r),n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new bo(yo.UNKNOWN,e.toString())}))}Co(e,t,r,n,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,Xh(t,r),n,s,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new bo(yo.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Mf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(fo(t),this.N_=!1):ho("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Of="RemoteStore";class Pf{constructor(e,t,r,n,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To((e=>{r.enqueueAndForget((async()=>{Wf(this)&&(ho(Of,"Restarting streams for network reachability change."),await async function(e){const t=wo(e);t.W_.add(4),await Ff(t),t.j_.set("Unknown"),t.W_.delete(4),await Lf(t)}(this))}))})),this.j_=new Mf(r,n)}}async function Lf(e){if(Wf(e))for(const t of e.G_)await t(!0)}async function Ff(e){for(const t of e.G_)await t(!1)}function Bf(e,t){const r=wo(e);r.K_.has(t.targetId)||(r.K_.set(t.targetId,t),zf(r)?Hf(r):cp(r).c_()&&Vf(r,t))}function Uf(e,t){const r=wo(e),n=cp(r);r.K_.delete(t),n.c_()&&jf(r,t),0===r.K_.size&&(n.c_()?n.P_():Wf(r)&&r.j_.set("Unknown"))}function Vf(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jo.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}cp(e).y_(t)}function jf(e,t){e.H_.Ne(t),cp(e).w_(t)}function Hf(e){e.H_=new Lh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),cp(e).start(),e.j_.B_()}function zf(e){return Wf(e)&&!cp(e).u_()&&e.K_.size>0}function Wf(e){return 0===wo(e).W_.size}function Yf(e){e.H_=void 0}async function Gf(e){e.j_.set("Online")}async function $f(e){e.K_.forEach(((t,r)=>{Vf(e,t)}))}async function Kf(e,t){Yf(e),zf(e)?(e.j_.q_(t),Hf(e)):e.j_.set("Unknown")}async function Xf(e,t,r){if(e.j_.set("Online"),t instanceof Oh&&2===t.state&&t.cause)try{await async function(e,t){const r=t.cause;for(const n of t.targetIds)e.K_.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.K_.delete(n),e.H_.removeTarget(n))}(e,t)}catch(r){ho(Of,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await qf(e,r)}else if(t instanceof Rh?e.H_.We(t):t instanceof Mh?e.H_.Ze(t):e.H_.je(t),!r.isEqual(jo.min()))try{const t=await nf(e.localStore);r.compareTo(t)>=0&&await function(e,t){const r=e.H_.ot(t);return r.targetChanges.forEach(((r,n)=>{if(r.resumeToken.approximateByteSize()>0){const a=e.K_.get(n);a&&e.K_.set(n,a.withResumeToken(r.resumeToken,t))}})),r.targetMismatches.forEach(((t,r)=>{const n=e.K_.get(t);if(!n)return;e.K_.set(t,n.withResumeToken(Kl.EMPTY_BYTE_STRING,n.snapshotVersion)),jf(e,t);const a=new vd(n.target,t,r,n.sequenceNumber);Vf(e,a)})),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(t){ho(Of,"Failed to raise snapshot:",t),await qf(e,t)}}async function qf(e,t,r){if(!il(t))throw t;e.W_.add(1),await Ff(e),e.j_.set("Offline"),r||(r=()=>nf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ho(Of,"Retrying IndexedDB access"),await r(),e.W_.delete(1),await Lf(e)}))}function Qf(e,t){return t().catch((r=>qf(e,r,t)))}async function Zf(e){const t=wo(e),r=up(t);let n=t.U_.length>0?t.U_[t.U_.length-1].batchId:ol;for(;Jf(t);)try{const e=await sf(t.localStore,n);if(null===e){0===t.U_.length&&r.P_();break}n=e.batchId,ep(t,e)}catch(e){await qf(t,e)}tp(t)&&rp(t)}function Jf(e){return Wf(e)&&e.U_.length<10}function ep(e,t){e.U_.push(t);const r=up(e);r.c_()&&r.S_&&r.b_(t.mutations)}function tp(e){return Wf(e)&&!up(e).u_()&&e.U_.length>0}function rp(e){up(e).start()}async function np(e){up(e).C_()}async function ap(e){const t=up(e);for(const r of e.U_)t.b_(r.mutations)}async function ip(e,t,r){const n=e.U_.shift(),a=vh.from(n,t,r);await Qf(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Zf(e)}async function sp(e,t){t&&up(e).S_&&await async function(e,t){if(function(e){return Sh(e)&&e!==yo.ABORTED}(t.code)){const r=e.U_.shift();up(e).h_(),await Qf(e,(()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t))),await Zf(e)}}(e,t),tp(e)&&rp(e)}async function op(e,t){const r=wo(e);r.asyncQueue.verifyOperationInProgress(),ho(Of,"RemoteStore received new credentials");const n=Wf(r);r.W_.add(3),await Ff(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await Lf(r)}async function lp(e,t){const r=wo(e);t?(r.W_.delete(2),await Lf(r)):t||(r.W_.add(2),await Ff(r),r.j_.set("Unknown"))}function cp(e){return e.J_||(e.J_=function(e,t,r){const n=wo(e);return n.M_(),new Nf(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{xo:Gf.bind(null,e),No:$f.bind(null,e),Lo:Kf.bind(null,e),p_:Xf.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),zf(e)?Hf(e):e.j_.set("Unknown")):(await e.J_.stop(),Yf(e))}))),e.J_}function up(e){return e.Y_||(e.Y_=function(e,t,r){const n=wo(e);return n.M_(),new xf(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:np.bind(null,e),Lo:sp.bind(null,e),D_:ap.bind(null,e),v_:ip.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Zf(e)):(await e.Y_.stop(),e.U_.length>0&&(ho(Of,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class hp{constructor(e,t,r,n,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=a,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,a){const i=Date.now()+r,s=new hp(e,t,i,n,a);return s.start(r),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bo(yo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(e,t){if(fo("AsyncQueue",`${t}: ${e}`),il(e))return new bo(yo.UNAVAILABLE,`${t}: ${e}`);throw e}class fp{static emptySet(e){return new fp(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$o.comparator(t.key,r.key):(e,t)=>$o.comparator(e.key,t.key),this.keyedMap=Nu(),this.sortedSet=new jl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new fp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class pp{constructor(){this.Z_=new jl($o.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?0!==e.type&&3===r.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==r.type?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Z_=this.Z_.remove(t):1===e.type&&2===r.type?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):mo():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,r)=>{e.push(r)})),e}}class gp{constructor(e,t,r,n,a,i,s,o,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,a){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new gp(e,t,fp.emptySet(t),i,r,n,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n].type!==r[n].type||!t[n].doc.isEqual(r[n].doc))return!1;return!0}}class mp{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class vp{constructor(){this.queries=wp(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const r=wo(e),n=r.queries;r.queries=wp(),n.forEach(((e,r)=>{for(const n of r.ta)n.onError(t)}))}(this,new bo(yo.ABORTED,"Firestore shutting down"))}}function wp(){return new _u((e=>yu(e)),wu)}async function yp(e,t){const r=wo(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.na()&&t.ra()&&(n=2):(i=new mp,n=t.ra()?0:1);try{switch(n){case 0:i.ea=await r.onListen(a,!0);break;case 1:i.ea=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(e){const r=dp(e,`Initialization of query '${bu(t.query)}' failed`);return void t.onError(r)}r.queries.set(a,i),i.ta.push(t),t.sa(r.onlineState),i.ea&&t.oa(i.ea)&&Tp(r)}async function bp(e,t){const r=wo(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const e=i.ta.indexOf(t);e>=0&&(i.ta.splice(e,1),0===i.ta.length?a=t.ra()?0:1:!i.na()&&t.ra()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Ep(e,t){const r=wo(e);let n=!1;for(const a of t){const e=a.query,t=r.queries.get(e);if(t){for(const e of t.ta)e.oa(a)&&(n=!0);t.ea=a}}n&&Tp(r)}function Sp(e,t,r){const n=wo(e),a=n.queries.get(t);if(a)for(const i of a.ta)i.onError(r);n.queries.delete(t)}function Tp(e){e.ia.forEach((e=>{e.next()}))}var Cp,_p;(_p=Cp||(Cp={}))._a="default",_p.Cache="cache";class Ap{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const r of e.docChanges)3!==r.type&&t.push(r);e=new gp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const r="Offline"!==t;return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=gp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Cp.Cache}}class Ip{constructor(e){this.key=e}}class kp{constructor(e){this.key=e}}class Np{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Lu(),this.mutatedKeys=Lu(),this.ya=Tu(e),this.wa=new fp(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new pp,n=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,i=n,s=!1;const o="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal(((e,t)=>{const c=n.get(e),u=Eu(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(r.track({type:3,doc:u}),f=!0):this.va(c,u)||(r.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(s=!0)):!c&&u?(r.track({type:0,doc:u}),f=!0):c&&!u&&(r.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(i=i.add(u),a=d?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),r.track({type:1,doc:e})}return{wa:i,Da:r,ls:s,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const i=e.Da.X_();i.sort(((e,t)=>function(e,t){const r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mo()}};return r(e)-r(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(r),n=null!=n&&n;const s=t&&!n?this.Fa():[],o=0===this.pa.size&&this.current&&!n?1:0,l=o!==this.ga;return this.ga=o,0!==i.length||l?{snapshot:new gp(this.query,e.wa,a,i,e.mutatedKeys,0===o,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pp,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Lu(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new kp(e))})),this.pa.forEach((r=>{e.has(r)||t.push(new Ip(r))})),t}Oa(e){this.fa=e.gs,this.pa=Lu();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return gp.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const xp="SyncEngine";class Dp{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Rp{constructor(e){this.key=e,this.Ba=!1}}class Mp{constructor(e,t,r,n,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.La={},this.ka=new _u((e=>yu(e)),wu),this.qa=new Map,this.Qa=new Set,this.$a=new jl($o.comparator),this.Ua=new Map,this.Ka=new Vd,this.Wa={},this.Ga=new Map,this.za=Ad.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Op(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=tg(e);let a;const i=n.ka.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.Na()):a=await Lp(n,t,r,!0),a}async function Pp(e,t){const r=tg(e);await Lp(r,t,!0,!1)}async function Lp(e,t,r,n){const a=await of(e.localStore,pu(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Fp(e,t,i,"current"===s,a.resumeToken)),e.isPrimaryClient&&r&&Bf(e.remoteStore,a),o}async function Fp(e,t,r,n,a){e.Ha=(t,r,n)=>async function(e,t,r,n){let a=t.view.ba(r);a.ls&&(a=await cf(e.localStore,t.query,!1).then((e=>{let{documents:r}=e;return t.view.ba(r,a)})));const i=n&&n.targetChanges.get(t.targetId),s=n&&null!=n.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,i,s);return Xp(e,t.targetId,o.Ma),o.snapshot}(e,t,r,n);const i=await cf(e.localStore,t,!0),s=new Np(t,i.gs),o=s.ba(i.documents),l=Dh.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,a),c=s.applyChanges(o,e.isPrimaryClient,l);Xp(e,r,c.Ma);const u=new Dp(t,r,s);return e.ka.set(t,u),e.qa.has(r)?e.qa.get(r).push(t):e.qa.set(r,[t]),c.snapshot}async function Bp(e,t,r){const n=wo(e),a=n.ka.get(t),i=n.qa.get(a.targetId);if(i.length>1)return n.qa.set(a.targetId,i.filter((e=>!wu(e,t)))),void n.ka.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await lf(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Uf(n.remoteStore,a.targetId),$p(n,a.targetId)})).catch(rl)):($p(n,a.targetId),await lf(n.localStore,a.targetId,!0))}async function Up(e,t){const r=wo(e),n=r.ka.get(t),a=r.qa.get(n.targetId);r.isPrimaryClient&&1===a.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Uf(r.remoteStore,n.targetId))}async function Vp(e,t){const r=wo(e);try{const e=await function(e,t){const r=wo(e),n=t.snapshotVersion;let a=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=r.ds.newChangeBuffer({trackRemovals:!0});a=r.Ts;const s=[];t.targetChanges.forEach(((i,o)=>{const l=a.get(o);if(!l)return;s.push(r.Hr.removeMatchingKeys(e,i.removedDocuments,o).next((()=>r.Hr.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Kl.EMPTY_BYTE_STRING,jo.min()).withLastLimboFreeSnapshotVersion(jo.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,n)),a=a.insert(o,c),function(e,t,r){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0)}(l,c,i)&&s.push(r.Hr.updateTargetData(e,c))}));let o=Iu(),l=Lu();if(t.documentUpdates.forEach((n=>{t.resolvedLimboDocuments.has(n)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))})),s.push(af(e,i,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!n.isEqual(jo.min())){const t=r.Hr.getLastRemoteSnapshotVersion(e).next((t=>r.Hr.setTargetsMetadata(e,e.currentSequenceNumber,n)));s.push(t)}return nl.waitFor(s).next((()=>i.apply(e))).next((()=>r.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(r.Ts=a,e)))}(r.localStore,t);t.targetChanges.forEach(((e,t)=>{const n=r.Ua.get(t);n&&(vo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ba=!0:e.modifiedDocuments.size>0?vo(n.Ba):e.removedDocuments.size>0&&(vo(n.Ba),n.Ba=!1))})),await Zp(r,e,t)}catch(e){await rl(e)}}function jp(e,t,r){const n=wo(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const e=[];n.ka.forEach(((r,n)=>{const a=n.view.sa(t);a.snapshot&&e.push(a.snapshot)})),function(e,t){const r=wo(e);r.onlineState=t;let n=!1;r.queries.forEach(((e,r)=>{for(const a of r.ta)a.sa(t)&&(n=!0)})),n&&Tp(r)}(n.eventManager,t),e.length&&n.La.p_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Hp(e,t,r){const n=wo(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Ua.get(t),i=a&&a.key;if(i){let e=new jl($o.comparator);e=e.insert(i,Oc.newNoDocument(i,jo.min()));const r=Lu().add(i),a=new xh(jo.min(),new Map,new jl(Mo),e,r);await Vp(n,a),n.$a=n.$a.remove(i),n.Ua.delete(t),Qp(n)}else await lf(n.localStore,t,!1).then((()=>$p(n,t,r))).catch(rl)}async function zp(e,t){const r=wo(e),n=t.batch.batchId;try{const e=await function(e,t){const r=wo(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const n=t.batch.keys(),a=r.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,r,n){const a=r.batch,i=a.keys();let s=nl.resolve();return i.forEach((e=>{s=s.next((()=>n.getEntry(t,e))).next((t=>{const i=r.docVersions.get(e);vo(null!==i),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,a)))}(r,e,t,a).next((()=>a.apply(e))).next((()=>r.mutationQueue.performConsistencyCheck(e))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Lu();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t)))).next((()=>r.localDocuments.getDocuments(e,n)))}))}(r.localStore,t);Gp(r,n,null),Yp(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Zp(r,e)}catch(e){await rl(e)}}async function Wp(e,t,r){const n=wo(e);try{const e=await function(e,t){const r=wo(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next((t=>(vo(null!==t),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t)))).next((()=>r.mutationQueue.performConsistencyCheck(e))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n))).next((()=>r.localDocuments.getDocuments(e,n)))}))}(n.localStore,t);Gp(n,t,r),Yp(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Zp(n,e)}catch(r){await rl(r)}}function Yp(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Gp(e,t,r){const n=wo(e);let a=n.Wa[n.currentUser.toKey()];if(a){const e=a.get(t);e&&(r?e.reject(r):e.resolve(),a=a.remove(t)),n.Wa[n.currentUser.toKey()]=a}}function $p(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.qa.get(t))e.ka.delete(n),r&&e.La.Ja(n,r);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||Kp(e,t)}))}function Kp(e,t){e.Qa.delete(t.path.canonicalString());const r=e.$a.get(t);null!==r&&(Uf(e.remoteStore,r),e.$a=e.$a.remove(t),e.Ua.delete(r),Qp(e))}function Xp(e,t,r){for(const n of r)n instanceof Ip?(e.Ka.addReference(n.key,t),qp(e,n)):n instanceof kp?(ho(xp,"Document no longer in limbo: "+n.key),e.Ka.removeReference(n.key,t),e.Ka.containsKey(n.key)||Kp(e,n.key)):mo()}function qp(e,t){const r=t.key,n=r.path.canonicalString();e.$a.get(r)||e.Qa.has(n)||(ho(xp,"New document in limbo: "+r),e.Qa.add(n),Qp(e))}function Qp(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const r=new $o(Wo.fromString(t)),n=e.za.next();e.Ua.set(n,new Rp(r)),e.$a=e.$a.insert(r,n),Bf(e.remoteStore,new vd(pu(uu(r.path)),n,"TargetPurposeLimboResolution",sl.ae))}}async function Zp(e,t,r){const n=wo(e),a=[],i=[],s=[];n.ka.isEmpty()||(n.ka.forEach(((e,o)=>{s.push(n.Ha(o,t,r).then((e=>{var t;if((e||r)&&n.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==r?void 0:r.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;n.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(e){a.push(e);const t=qd.Yi(o.targetId,e);i.push(t)}})))})),await Promise.all(s),n.La.p_(a),await async function(e,t){const r=wo(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>nl.forEach(t,(t=>nl.forEach(t.Hi,(n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n))).next((()=>nl.forEach(t.Ji,(n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))))))}catch(e){if(!il(e))throw e;ho(Jd,"Failed to update sequence numbers: "+e)}for(const n of t){const e=n.targetId;if(!n.fromCache){const t=r.Ts.get(e),n=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(n);r.Ts=r.Ts.insert(e,a)}}}(n.localStore,i))}async function Jp(e,t){const r=wo(e);if(!r.currentUser.isEqual(t)){ho(xp,"User change. New user:",t.toKey());const e=await rf(r.localStore,t);r.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new bo(yo.CANCELLED,t))}))})),e.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Zp(r,e.Rs)}}function eg(e,t){const r=wo(e),n=r.Ua.get(t);if(n&&n.Ba)return Lu().add(n.key);{let e=Lu();const n=r.qa.get(t);if(!n)return e;for(const t of n){const n=r.ka.get(t);e=e.unionWith(n.view.Sa)}return e}}function tg(e){const t=wo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hp.bind(null,t),t.La.p_=Ep.bind(null,t.eventManager),t.La.Ja=Sp.bind(null,t.eventManager),t}function rg(e){const t=wo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wp.bind(null,t),t}class ng{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return tf(this.persistence,new Zd,e.initialUser,this.serializer)}Xa(e){return new Gd(Kd.ri,this.serializer)}Za(e){return new df}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ng.provider={build:()=>new ng};class ag extends ng{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){vo(this.persistence.referenceDelegate instanceof Xd);const r=this.persistence.referenceDelegate.garbageCollector;return new Dd(r,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?_d.withCacheSize(this.cacheSizeBytes):_d.DEFAULT;return new Gd((e=>Xd.ri(e,t)),this.serializer)}}class ig{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>jp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jp.bind(null,this.syncEngine),await lp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vp}createDatastore(e){const t=_f(e.databaseInfo.databaseId),r=function(e){return new Tf(e)}(e.databaseInfo);return function(e,t,r,n){return new Rf(e,t,r,n)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(e,t,r,n,a){return new Pf(e,t,r,n,a)}(this.localStore,this.datastore,e.asyncQueue,(e=>jp(this.syncEngine,e,0)),gf.D()?new gf:new ff)}createSyncEngine(e,t){return function(e,t,r,n,a,i,s){const o=new Mp(e,t,r,n,a,i);return s&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=wo(e);ho(Of,"RemoteStore shutting down."),t.W_.add(5),await Ff(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ig.provider={build:()=>new ig};class sg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):fo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const og="FirestoreClient";class lg{constructor(e,t,r,n,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=oo.UNAUTHENTICATED,this.clientId=Ro.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async e=>{ho(og,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(r,(e=>(ho(og,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=dp(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cg(e,t){e.asyncQueue.verifyOperationInProgress(),ho(og,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async e=>{n.isEqual(e)||(await rf(t.localStore,e),n=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ug(e,t){e.asyncQueue.verifyOperationInProgress();const r=await hg(e);ho(og,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((e=>op(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,r)=>op(t.remoteStore,r))),e._onlineComponents=t}async function hg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ho(og,"Using user provided OfflineComponentProvider");try{await cg(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(e){return"FirebaseError"===e.name?e.code===yo.FAILED_PRECONDITION||e.code===yo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r))throw r;po("Error using user provided cache. Falling back to memory cache: "+r),await cg(e,new ng)}}else ho(og,"Using default OfflineComponentProvider"),await cg(e,new ag(void 0));return e._offlineComponents}async function dg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ho(og,"Using user provided OnlineComponentProvider"),await ug(e,e._uninitializedComponentsProvider._online)):(ho(og,"Using default OnlineComponentProvider"),await ug(e,new ig))),e._onlineComponents}function fg(e){return dg(e).then((e=>e.syncEngine))}async function pg(e){const t=await dg(e),r=t.eventManager;return r.onListen=Op.bind(null,t.syncEngine),r.onUnlisten=Bp.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Pp.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Up.bind(null,t.syncEngine),r}function gg(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new Eo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,r,n,a){const i=new sg({next:o=>{i.su(),t.enqueueAndForget((()=>bp(e,s)));const l=o.docs.has(r);!l&&o.fromCache?a.reject(new bo(yo.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&n&&"server"===n.source?a.reject(new bo(yo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:e=>a.reject(e)}),s=new Ap(uu(r.path),i,{includeMetadataChanges:!0,Ta:!0});return yp(e,s)}(await pg(e),e.asyncQueue,t,r,n))),n.promise}function mg(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new Eo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,r,n,a){const i=new sg({next:r=>{i.su(),t.enqueueAndForget((()=>bp(e,s))),r.fromCache&&"server"===n.source?a.reject(new bo(yo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(r)},error:e=>a.reject(e)}),s=new Ap(r,i,{includeMetadataChanges:!0,Ta:!0});return yp(e,s)}(await pg(e),e.asyncQueue,t,r,n))),n.promise}function vg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const wg=new Map;function yg(e,t,r){if(!r)throw new bo(yo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function bg(e){if(!$o.isDocumentKey(e))throw new bo(yo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Eg(e){if($o.isDocumentKey(e))throw new bo(yo.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Sg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":mo()}function Tg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bo(yo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Sg(e);throw new bo(yo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}const Cg="firestore.googleapis.com",_g=!0;class Ag{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new bo(yo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cg,this.ssl=_g}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:_g;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Cd;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<kd)throw new bo(yo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new bo(yo.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vg(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new bo(yo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new bo(yo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new bo(yo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ig{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bo(yo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new bo(yo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new To;switch(e.type){case"firstParty":return new Io(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new bo(yo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wg.get(e);t&&(ho("ComponentProvider","Removing Datastore"),wg.delete(e),t.terminate())}(this),Promise.resolve()}}function kg(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;const i=(e=Tg(e,Ig))._getSettings(),s=Object.assign(Object.assign({},i),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${r}`;i.host!==Cg&&i.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:o,ssl:!1,emulatorOptions:n});if(!Ct(l,s)&&(e._setSettings(l),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=oo.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ut(JSON.stringify({alg:"none",type:"JWT"})),ut(JSON.stringify(i)),""].join(".")}(n.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const i=n.mockUserToken.sub||n.mockUserToken.user_id;if(!i)throw new bo(yo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new oo(i)}e._authCredentials=new Co(new So(t,r))}}class Ng{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ng(this.firestore,e,this._query)}}class xg{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xg(this.firestore,e,this._key)}}class Dg extends Ng{constructor(e,t,r){super(e,t,uu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xg(this.firestore,null,new $o(e))}withConverter(e){return new Dg(this.firestore,e,this._path)}}function Rg(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(e=Dt(e),yg("collection","path",t),e instanceof Ig){const r=Wo.fromString(t,...n);return Eg(r),new Dg(e,null,r)}{if(!(e instanceof xg||e instanceof Dg))throw new bo(yo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Wo.fromString(t,...n));return Eg(r),new Dg(e.firestore,null,r)}}function Mg(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(e=Dt(e),1===arguments.length&&(t=Ro.newId()),yg("doc","path",t),e instanceof Ig){const r=Wo.fromString(t,...n);return bg(r),new xg(e,null,new $o(r))}{if(!(e instanceof xg||e instanceof Dg))throw new bo(yo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Wo.fromString(t,...n));return bg(r),new xg(e.firestore,e instanceof Dg?e.converter:null,new $o(r))}}const Og="AsyncQueue";class Pg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Af(this,"async_queue_retry"),this.Su=()=>{const e=Cf();e&&ho(Og,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Cf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Cf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Eo;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(qF){if(!il(qF))throw qF;ho(Og,"Operation failed with retryable error: "+qF)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw fo("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const n=hp.createAndSchedule(this,e,t,r,(e=>this.Fu(e)));return this.fu.push(n),n}Du(){this.gu&&mo()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Lg extends Ig{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new Pg,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pg(e),this._firestoreClient=void 0,await e}}}function Fg(e){if(e._terminated)throw new bo(yo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Bg(e),e._firestoreClient}function Bg(e){var t,r,n;const a=e._freezeSettings(),i=function(e,t,r,n){return new sc(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,vg(n.experimentalLongPollingOptions),n.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(r=a.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=a.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new lg(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Ug{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ug(Kl.fromBase64String(e))}catch(e){throw new bo(yo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ug(Kl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vg{constructor(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let n=0;n<t.length;++n)if(0===t[n].length)throw new bo(yo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Go(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jg{constructor(e){this._methodName=e}}class Hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new bo(yo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new bo(yo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mo(this._lat,e._lat)||Mo(this._long,e._long)}}class zg{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}}const Wg=/^__.*__$/;class Yg{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new uh(e,this.data,this.fieldMask,t,this.fieldTransforms):new ch(e,this.data,t,this.fieldTransforms)}}class Gg{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new uh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $g(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mo()}}class Kg{constructor(e,t,r,n,a,i){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===a&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ku({path:r,Qu:!1});return n.$u(e),n}Uu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ku({path:r,Qu:!1});return n.Bu(),n}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if($g(this.Lu)&&Wg.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Xg{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_f(e)}ju(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Kg({Lu:e,methodName:t,zu:r,path:Go.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(e){const t=e._freezeSettings(),r=_f(e._databaseId);return new Xg(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Qg(e,t,r,n,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ju(i.merge||i.mergeFields?2:0,t,r,a);im("Data must be an object, but it was:",s,n);const o=nm(n,s);let l,c;if(i.merge)l=new Gl(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const n of i.mergeFields){const a=sm(t,n,r);if(!s.contains(a))throw new bo(yo.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);um(e,a)||e.push(a)}l=new Gl(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Yg(new Rc(o),l,c)}class Zg extends jg{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zg}}function Jg(e,t,r,n){const a=e.ju(1,t,r);im("Data must be an object, but it was:",a,n);const i=[],s=Rc.empty();Ul(n,((e,n)=>{const o=lm(t,e,r);n=Dt(n);const l=a.Uu(o);if(n instanceof Zg)i.push(o);else{const e=rm(n,l);null!=e&&(i.push(o),s.set(o,e))}}));const o=new Gl(i);return new Gg(s,o,a.fieldTransforms)}function em(e,t,r,n,a,i){const s=e.ju(1,t,r),o=[sm(t,n,r)],l=[a];if(i.length%2!=0)throw new bo(yo.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)o.push(sm(t,i[d])),l.push(i[d+1]);const c=[],u=Rc.empty();for(let d=o.length-1;d>=0;--d)if(!um(c,o[d])){const e=o[d];let t=l[d];t=Dt(t);const r=s.Uu(e);if(t instanceof Zg)c.push(e);else{const n=rm(t,r);null!=n&&(c.push(e),u.set(e,n))}}const h=new Gl(c);return new Gg(u,h,s.fieldTransforms)}function tm(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return rm(r,e.ju(n?4:3,t))}function rm(e,t){if(am(e=Dt(e)))return im("Unsupported field value:",t,e),nm(e,t);if(e instanceof jg)return function(e,t){if(!$g(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const r=[];let n=0;for(const a of e){let e=rm(a,t.Ku(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ju(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Vo.fromDate(e);return{timestampValue:Wh(t.serializer,r)}}if(e instanceof Vo){const r=new Vo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wh(t.serializer,r)}}if(e instanceof Hg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ug)return{bytesValue:Yh(t.serializer,e._byteString)};if(e instanceof xg){const r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.Wu(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Kh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof zg)return function(e,t){return{mapValue:{fields:{[cc]:{stringValue:dc},[fc]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Uu(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Sg(e)}`)}(e,t)}function nm(e,t){const r={};return Vl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ul(e,((e,n)=>{const a=rm(n,t.qu(e));null!=a&&(r[e]=a)})),{mapValue:{fields:r}}}function am(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vo||e instanceof Hg||e instanceof Ug||e instanceof xg||e instanceof jg||e instanceof zg)}function im(e,t,r){if(!am(r)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(r)){const n=Sg(r);throw"an object"===n?t.Wu(e+" a custom object"):t.Wu(e+" "+n)}}function sm(e,t,r){if((t=Dt(t))instanceof Vg)return t._internalPath;if("string"==typeof t)return lm(e,t);throw cm("Field path arguments must be of type string or ",e,!1,void 0,r)}const om=new RegExp("[~\\*/\\[\\]]");function lm(e,t,r){if(t.search(om)>=0)throw cm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Vg(...t.split("."))._internalPath}catch(Km){throw cm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function cm(e,t,r,n,a){const i=n&&!n.isEmpty(),s=void 0!==a;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new bo(yo.INVALID_ARGUMENT,o+e+l)}function um(e,t){return e.some((e=>e.isEqual(t)))}class hm{constructor(e,t,r,n,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dm extends hm{data(){return super.data()}}function fm(e,t){return"string"==typeof t?lm(e,t):t instanceof Vg?t._internalPath:t._delegate._internalPath}function pm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new bo(yo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gm{}class mm extends gm{}function vm(e,t){let r=[];for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];t instanceof gm&&r.push(t),r=r.concat(a),function(e){const t=e.filter((e=>e instanceof bm)).length,r=e.filter((e=>e instanceof wm)).length;if(t>1||t>0&&r>0)throw new bo(yo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class wm extends mm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wm(e,t,r)}_apply(e){const t=this._parse(e);return Tm(e._query,t),new Ng(e.firestore,e.converter,mu(e._query,t))}_parse(e){const t=qg(e.firestore),r=function(e,t,r,n,a,i,s){let o;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new bo(yo.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){Sm(s,i);const t=[];for(const r of s)t.push(Em(n,e,r));o={arrayValue:{values:t}}}else o=Em(n,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Sm(s,i),o=tm(r,t,s,"in"===i||"not-in"===i);return jc.create(a,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return r}}function ym(e,t,r){const n=t,a=fm("where",e);return wm._create(a,n,r)}class bm extends gm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Hc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;const n=t.getFlattenedFilters();for(const a of n)Tm(r,a),r=mu(r,a)}(e._query,t),new Ng(e.firestore,e.converter,mu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Em(e,t,r){if("string"==typeof(r=Dt(r))){if(""===r)throw new bo(yo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!du(t)&&-1!==r.indexOf("/"))throw new bo(yo.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Wo.fromString(r));if(!$o.isDocumentKey(n))throw new bo(yo.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Tc(e,new $o(n))}if(r instanceof xg)return Tc(e,r._key);throw new bo(yo.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sg(r)}.`)}function Sm(e,t){if(!Array.isArray(e)||0===e.length)throw new bo(yo.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tm(e,t){const r=function(e,t){for(const r of e)for(const e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new bo(yo.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new bo(yo.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Cm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ql(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw mo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const r={};return Ul(e,((e,n)=>{r[e]=this.convertValue(n,t)})),r}convertVectorValue(e){var t,r,n;const a=null===(n=null===(r=null===(t=e.fields)||void 0===t?void 0:t[fc].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.map((e=>Ql(e.doubleValue)));return new zg(a)}convertGeoPoint(e){return new Hg(Ql(e.latitude),Ql(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ac(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=ql(e);return new Vo(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wo.fromString(e);vo(md(r));const n=new lc(r.get(1),r.get(3)),a=new $o(r.popFirst(5));return n.isEqual(t)||fo(`Document ${a} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function _m(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Am{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Im extends hm{constructor(e,t,r,n,a,i){super(e,t,r,n,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const r=this._document.data.field(fm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class km extends Im{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Nm{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Am(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new km(this._firestore,this._userDataWriter,r.key,r,new Am(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bo(yo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((r=>{const n=new km(e._firestore,e._userDataWriter,r.doc.key,r.doc,new Am(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}}))}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const n=new km(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Am(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(r=r.add(t.doc),i=r.indexOf(t.doc.key)),{type:xm(t.type),doc:n,oldIndex:a,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mo()}}function Dm(e){e=Tg(e,xg);const t=Tg(e.firestore,Lg);return gg(Fg(t),e._key).then((r=>Bm(t,e,r)))}class Rm extends Cm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ug(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xg(this.firestore,null,t)}}function Mm(e){e=Tg(e,Ng);const t=Tg(e.firestore,Lg),r=Fg(t),n=new Rm(t);return pm(e._query),mg(r,e._query).then((r=>new Nm(t,n,e,r)))}function Om(e,t,r){e=Tg(e,xg);const n=Tg(e.firestore,Lg),a=qg(n);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Dt(t))||t instanceof Vg?em(a,"updateDoc",e._key,t,r,o):Jg(a,"updateDoc",e._key,t),Fm(n,[i.toMutation(e._key,th.exists(!0))])}function Pm(e){return Fm(Tg(e.firestore,Lg),[new ph(e._key,th.none())])}function Lm(e,t){const r=Tg(e.firestore,Lg),n=Mg(e),a=_m(e.converter,t);return Fm(r,[Qg(qg(e.firestore),"addDoc",n._key,a,null!==e.converter,{}).toMutation(n._key,th.exists(!1))]).then((()=>n))}function Fm(e,t){return function(e,t){const r=new Eo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,r){const n=rg(e);try{const e=await function(e,t){const r=wo(e),n=Vo.now(),a=t.reduce(((e,t)=>e.add(t.key)),Lu());let i,s;return r.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Iu(),l=Lu();return r.ds.getEntries(e,a).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>r.localDocuments.getOverlayedDocuments(e,o))).next((a=>{i=a;const s=[];for(const e of t){const t=oh(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new uh(e.key,t,Mc(t.value.mapValue),th.exists(!0)))}return r.mutationQueue.addMutationBatch(e,n,s,t)})).next((t=>{s=t;const n=t.applyToLocalDocumentSet(i,l);return r.documentOverlayCache.saveOverlays(e,t.batchId,n)}))})).then((()=>({batchId:s.batchId,changes:xu(i)})))}(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),function(e,t,r){let n=e.Wa[e.currentUser.toKey()];n||(n=new jl(Mo)),n=n.insert(t,r),e.Wa[e.currentUser.toKey()]=n}(n,e.batchId,r),await Zp(n,e.changes),await Zf(n.remoteStore)}catch(e){const t=dp(e,"Failed to persist write");r.reject(t)}}(await fg(e),t,r))),r.promise}(Fg(e),t)}function Bm(e,t,r){const n=r.docs.get(t._key),a=new Rm(e);return new Im(e,a,t._key,n,new Am(r.hasPendingWrites,r.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){lo=e}(Gr),jr(new Rt("firestore",((e,r)=>{let{instanceIdentifier:n,options:a}=r;const i=e.getProvider("app").getImmediate(),s=new Lg(new _o(e.getProvider("auth-internal")),new No(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new bo(yo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(e.options.projectId,t)}(i,n),i);return a=Object.assign({useFetchStreams:t},a),s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),Xr(io,so,e),Xr(io,so,"esm2017")}();const Um=$r({apiKey:"AIzaSyClZxwXvXQbpCZRu0UctBRjfA2Fe6tPiLs",authDomain:"YOUR_PROJECT.firebaseapp.com",projectId:"pusula-etkinlik",storageBucket:"YOUR_PROJECT.appspot.com",messagingSenderId:"YOUR_SENDER_ID",appId:"1:102196639632:web:c5fc0662cb51e862886515"}),Vm=Hs(Um),jm=function(e,t){const r="object"==typeof e?e:Kr(),n="string"==typeof e?e:t||oc,a=Hr(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const e=(e=>{const t=pt(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]})("firestore");e&&kg(a,...e)}return a}(Um),Hm=r.p+"static/media/pusula.bd2ad611ef552f24efec.PNG";var zm=r(579);function Wm(){const[t,r]=(0,e.useState)(""),[n,a]=(0,e.useState)(""),i=ee();return(0,zm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=`${(e=>{let t=e.replace(/\D/g,"");return t.startsWith("0")&&(t=t.slice(1)),"+90"+t.slice(0,10)})(t).replace("+","")}@pusula.fake`;try{await function(e,t,r){return zr(e.app)?Promise.reject(mn(e)):di(Dt(e),Qa.credential(t,r)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&fi(e),t}))}(Vm,r,n),i("/dashboard")}catch(a){console.error("Giri\u015f hatas\u0131:",a),alert("Telefon numaras\u0131 veya \u015fifre hatal\u0131.")}},className:"bg-white shadow-xl rounded-3xl p-8 max-w-sm w-full space-y-6 border border-gray-200",children:[(0,zm.jsx)("div",{className:"flex justify-center mb-2",children:(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim Kurumlar\u0131",className:"h-20 object-contain"})}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"\ud83d\udd10 Giri\u015f Yap"}),(0,zm.jsxs)("div",{className:"flex",children:[(0,zm.jsx)("span",{className:"inline-flex items-center px-3 text-gray-700 bg-gray-200 border border-r-0 border-gray-300 rounded-l-xl text-sm",children:"+90"}),(0,zm.jsx)("input",{type:"tel",placeholder:"Telefon",value:t.replace("+90",""),onChange:e=>r(e.target.value),autoComplete:"tel",className:"w-full p-3 border border-gray-300 rounded-r-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,zm.jsx)("input",{type:"password",placeholder:"\u015eifre",value:n,onChange:e=>a(e.target.value),autoComplete:"current-password",className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,zm.jsx)("button",{type:"submit",className:"w-full bg-gray-800 text-white py-3 rounded-xl hover:bg-gray-900 transition duration-300 font-semibold",children:"Giri\u015f Yap"}),(0,zm.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,zm.jsx)("button",{type:"button",onClick:()=>i("/register-sms"),className:"w-full text-amber-600 border border-amber-600 py-2 rounded-xl font-medium hover:bg-amber-600 hover:text-white transition duration-300",children:"Yetkili Kay\u0131t"})})]})})}async function Ym(e){let{password:t,phone:r,role:n="normal",firstName:a,lastName:i}=e;const s=vm(Rg(jm,"admins"),ym("phone","==",r));if(!(await Mm(s)).empty)throw new Error("Bu telefon numaras\u0131yla kay\u0131tl\u0131 bir admin zaten var.");const o=`${r.replace("+","")}@pusula.fake`,l=await async function(e,t,r){if(zr(e.app))return Promise.reject(mn(e));const n=Ta(e),a=La(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ai,"EMAIL_PASSWORD_PROVIDER"),i=await a.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&fi(e),t})),s=await ii._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}(Vm,o,t),c=l.user;return await function(e,t,r){e=Tg(e,xg);const n=Tg(e.firestore,Lg),a=_m(e.converter,t,r);return Fm(n,[Qg(qg(n),"setDoc",e._key,a,null!==e.converter,r).toMutation(e._key,th.none())])}(Mg(jm,"admins",c.uid),{uid:c.uid,phone:r,firstName:a,lastName:i,role:n}),c}function Gm(){const[t,r]=(0,e.useState)(""),[n,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(!1),[g,m]=(0,e.useState)(60),v=ee(),[w,y]=(0,e.useState)(""),[b,E]=(0,e.useState)("");(0,e.useEffect)((()=>{if(f&&g>0){const e=setTimeout((()=>m(g-1)),1e3);return()=>clearTimeout(e)}f&&0===g&&(alert("Kod s\xfcresi doldu. L\xfctfen tekrar deneyin."),p(!1),d(""),m(60))}),[f,g]);const S=(e,t)=>{let r=e.target.value.replace(/\D/g,"");r.startsWith("0")&&(r=r.slice(1)),r.length>10&&(r=r.slice(0,10));const n=`+90${r}`;"new"===t?s(n):u(n)};return(0,zm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:(0,zm.jsxs)("div",{className:"bg-white shadow-xl rounded-3xl p-8 max-w-md w-full space-y-5 border border-gray-200",children:[(0,zm.jsx)("div",{className:"flex justify-center",children:(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim",className:"h-20"})}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"\ud83d\udcf2 Yetkili Kayd\u0131"}),!f&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("input",{type:"text",placeholder:"Ad",value:t,onChange:e=>r(e.target.value),autoComplete:"given-name",className:"w-full p-3 border border-gray-300 rounded-xl"}),(0,zm.jsx)("input",{type:"text",placeholder:"Soyad",value:n,onChange:e=>a(e.target.value),autoComplete:"family-name",className:"w-full p-3 border border-gray-300 rounded-xl"}),(0,zm.jsxs)("div",{className:"flex",children:[(0,zm.jsx)("span",{className:"inline-flex items-center px-3 text-gray-700 bg-gray-200 border border-r-0 border-gray-300 rounded-l-xl text-sm",children:"+90"}),(0,zm.jsx)("input",{type:"tel",placeholder:"Telefon",value:i.replace("+90",""),onChange:e=>S(e,"new"),autoComplete:"tel",className:"w-full p-3 border border-gray-300 rounded-r-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,zm.jsx)("input",{type:"password",placeholder:"\u015eifre",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,zm.jsxs)("div",{className:"flex",children:[(0,zm.jsx)("span",{className:"inline-flex items-center px-3 text-gray-700 bg-gray-200 border border-r-0 border-gray-300 rounded-l-xl text-sm",children:"+90"}),(0,zm.jsx)("input",{type:"tel",placeholder:"Onaylayacak yetkili telefonu",value:c.replace("+90",""),onChange:e=>S(e,"approver"),autoComplete:"tel",className:"w-full p-3 border border-gray-300 rounded-r-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,zm.jsx)("button",{onClick:async()=>{const e=c.startsWith("+90")?c:"+90"+c.replace(/^0/,""),t=vm(Rg(jm,"admins"),ym("phone","==",e));if((await Mm(t)).empty)return void alert("\u274c Bu numara sistemde kay\u0131tl\u0131 bir admin de\u011fil!");const r=Math.floor(1e5+9e5*Math.random()).toString();E(r);try{const t=await fetch("https://pusulaeventapi.onrender.com/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,message:`Kullan\u0131c\u0131 yetkilendirme kodunuz: ${r}\nBu kodu kimseyle payla\u015fmay\u0131n.`})}),n=await t.json();n.success?(p(!0),m(60),alert("Kod ba\u015far\u0131yla g\xf6nderildi!")):alert("SMS g\xf6nderilemedi: "+n.error)}catch(n){console.error("Fetch hatas\u0131:",n),alert("SMS g\xf6nderimi ba\u015far\u0131s\u0131z oldu.")}},className:"w-full bg-amber-500 text-white py-3 rounded-xl font-semibold hover:bg-amber-600 transition duration-300",children:"SMS Kod G\xf6nder"})]}),f&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("input",{type:"text",placeholder:"Gelen SMS kodu",value:h,onChange:e=>d(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,zm.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Kalan s\xfcre: ",(0,zm.jsx)("span",{className:"font-semibold",children:g})," saniye"]}),(0,zm.jsx)("button",{onClick:async()=>{if(h===b)try{await Ym({password:o,phone:i,role:"admin",firstName:t,lastName:n}),alert("\u2705 Kay\u0131t ba\u015far\u0131l\u0131!"),v("/")}catch(e){console.error("Kay\u0131t hatas\u0131:",e),alert("Kay\u0131t s\u0131ras\u0131nda bir hata olu\u015ftu: "+e.message)}else alert("Girilen kod hatal\u0131!")},className:"w-full bg-green-600 text-white py-3 rounded-xl hover:bg-green-700 transition duration-300",children:"\u2705 Kayd\u0131 Tamamla"})]}),(0,zm.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,zm.jsx)("p",{className:"text-sm text-gray-600 text-center mb-2",children:"Zaten yetkili misin?"}),(0,zm.jsx)("button",{type:"button",onClick:()=>v("/"),className:"w-full text-gray-800 border border-gray-800 py-2 rounded-xl font-medium hover:bg-gray-800 hover:text-white transition",children:"\ud83d\udd10 Giri\u015f Yap"})]})]})})}function $m(){const e=ee();return(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center p-4 space-y-6",children:[(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim Kurumlar\u0131",className:"h-20"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-3xl",children:[(0,zm.jsx)("button",{onClick:()=>e("/create-event"),className:"bg-amber-500 hover:bg-amber-600 transition-all duration-200 text-white text-lg font-semibold py-4 rounded-2xl shadow",children:"\u2795 Etkinlik Olu\u015ftur"}),(0,zm.jsx)("button",{onClick:()=>e("/events"),className:"bg-gray-800 hover:bg-gray-900 transition-all duration-200 text-white text-lg font-semibold py-4 rounded-2xl shadow",children:"\ud83d\udccb Etkinlikler"}),(0,zm.jsx)("button",{onClick:()=>e("/invite"),className:"bg-amber-600 hover:bg-amber-700 transition-all duration-200 text-white text-lg font-semibold py-4 rounded-2xl shadow",children:"\ud83d\udc64 Davetli Ekle"}),(0,zm.jsx)("button",{onClick:()=>e("/import"),className:"bg-yellow-500 hover:bg-yellow-600 transition-all duration-200 text-white text-lg font-semibold py-4 rounded-2xl shadow",children:"\ud83d\udce5 Excel ile Y\xfckle"}),(0,zm.jsx)("button",{onClick:()=>e("/check-in"),className:"bg-gray-600 hover:bg-gray-700 transition-all duration-200 text-white text-lg font-semibold py-4 rounded-2xl shadow",children:"\ud83c\udfab Giri\u015f Kontrol\xfc"}),(0,zm.jsx)("button",{onClick:()=>e("/analytics"),className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 text-white text-lg font-semibold py-4 rounded-2xl shadow",children:"\ud83d\udcca Analiz"})]}),(0,zm.jsx)("div",{className:"w-full max-w-3xl pt-2",children:(0,zm.jsx)("button",{onClick:()=>{window.confirm("\xc7\u0131k\u0131\u015f yapmak istedi\u011finizden emin misiniz?")&&e("/")},className:"w-full bg-red-600 hover:bg-red-700 transition-all duration-200 text-white text-lg font-semibold py-4 rounded-2xl shadow",children:"\ud83d\udd13 \xc7\u0131k\u0131\u015f Yap"})})]})}function Km(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Km(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xm(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Km(e))&&(n&&(n+=" "),n+=t);return n}Math.pow(10,8);const qm=6048e5,Qm=6e4,Zm=36e5,Jm=Symbol.for("constructDateFrom");function ev(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Jm in e?e[Jm](t):e instanceof Date?new e.constructor(t):new Date(t)}function tv(e,t){return ev(t||e,e)}function rv(e,t){const r=()=>ev(t?.in,NaN),n=t?.additionalDigits??2,a=function(e){const t={},r=e.split(nv.dateTimeDelimiter);let n;if(r.length>2)return t;/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],nv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(nv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length)));if(n){const e=nv.timezone.exec(n);e?(t.time=n.replace(e[1],""),t.timezone=e[1]):t.time=n}return t}(e);let i;if(a.date){const e=function(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((n[1]||n[2]).length)}}(a.date,n);i=function(e,t){if(null===t)return new Date(NaN);const r=e.match(av);if(!r)return new Date(NaN);const n=!!r[4],a=ov(r[1]),i=ov(r[2])-1,s=ov(r[3]),o=ov(r[4]),l=ov(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,o,l)?function(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=7*(t-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(cv[t]||(uv(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(uv(e)?366:365)}(t,a)?(e.setUTCFullYear(t,i,Math.max(a,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return r();const s=+i;let o,l=0;if(a.time&&(l=function(e){const t=e.match(iv);if(!t)return NaN;const r=lv(t[1]),n=lv(t[2]),a=lv(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,a))return NaN;return r*Zm+n*Qm+1e3*a}(a.time),isNaN(l)))return r();if(!a.timezone){const e=new Date(s+l),r=tv(0,t?.in);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}return o=function(e){if("Z"===e)return 0;const t=e.match(sv);if(!t)return 0;const r="+"===t[1]?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return r*(n*Zm+a*Qm)}(a.timezone),isNaN(o)?r():tv(s+l+o,t?.in)}const nv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},av=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,iv=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sv=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ov(e){return e?parseInt(e):1}function lv(e){return e&&parseFloat(e.replace(",","."))||0}const cv=[31,null,31,30,31,30,31,31,30,31,30,31];function uv(e){return e%400===0||e%4===0&&e%100!==0}const hv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function dv(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const fv={date:dv({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:dv({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:dv({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},pv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function gv(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=r?.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=r?.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const mv={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:gv({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:gv({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:gv({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:gv({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:gv({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function vv(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(o,(e=>e.test(s))):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(o,(e=>e.test(s)));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}function wv(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;return{value:s,rest:t.slice(a.length)}}}const yv={ordinalNumber:wv({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:vv({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:vv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:vv({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:vv({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:vv({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},bv={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=hv[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:fv,formatRelative:(e,t,r,n)=>pv[e],localize:mv,match:yv,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ev=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Sv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Tv={p:Sv,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Ev(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",Ev(n,t)).replace("{{time}}",Sv(a,t))}},Cv=/^D+$/,_v=/^Y+$/,Av=["D","DD","YY","YYYY"];function Iv(e){return Cv.test(e)}function kv(e){return _v.test(e)}function Nv(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),Av.includes(e))throw new RangeError(n)}let xv={};function Dv(){return xv}function Rv(){return Object.assign({},Dv())}function Mv(e,t){const r=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):ev(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}class Ov{subPriority=0;validate(e,t){return!0}}class Pv extends Ov{constructor(e,t,r,n,a){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=n,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class Lv extends Ov{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>ev(t,e))}set(e,t){return t.timestampIsSet?e:ev(e,Mv(e,this.context))}}class Fv{run(e,t,r,n){const a=this.parse(e,t,r,n);return a?{setter:new Pv(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,r){return!0}}const Bv=/^(1[0-2]|0?\d)/,Uv=/^(3[0-1]|[0-2]?\d)/,Vv=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,jv=/^(5[0-3]|[0-4]?\d)/,Hv=/^(2[0-3]|[0-1]?\d)/,zv=/^(2[0-4]|[0-1]?\d)/,Wv=/^(1[0-1]|0?\d)/,Yv=/^(1[0-2]|0?\d)/,Gv=/^[0-5]?\d/,$v=/^[0-5]?\d/,Kv=/^\d/,Xv=/^\d{1,2}/,qv=/^\d{1,3}/,Qv=/^\d{1,4}/,Zv=/^-?\d+/,Jv=/^-?\d/,ew=/^-?\d{1,2}/,tw=/^-?\d{1,3}/,rw=/^-?\d{1,4}/,nw=/^([+-])(\d{2})(\d{2})?|Z/,aw=/^([+-])(\d{2})(\d{2})|Z/,iw=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,sw=/^([+-])(\d{2}):(\d{2})|Z/,ow=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function lw(e,t){return e?{value:t(e.value),rest:e.rest}:e}function cw(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function uw(e,t){const r=t.match(e);if(!r)return null;if("Z"===r[0])return{value:0,rest:t.slice(1)};const n="+"===r[1]?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*Zm+i*Qm+1e3*s),rest:t.slice(r[0].length)}}function hw(e){return cw(Zv,e)}function dw(e,t){switch(e){case 1:return cw(Kv,t);case 2:return cw(Xv,t);case 3:return cw(qv,t);case 4:return cw(Qv,t);default:return cw(new RegExp("^\\d{1,"+e+"}"),t)}}function fw(e,t){switch(e){case 1:return cw(Jv,t);case 2:return cw(ew,t);case 3:return cw(tw,t);case 4:return cw(rw,t);default:return cw(new RegExp("^-?\\d{1,"+e+"}"),t)}}function pw(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function gw(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const t=n+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return r?a:1-a}function mw(e){return e%400===0||e%4===0&&e%100!==0}function vw(e,t){const r=Dv(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=tv(e,t?.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function ww(e,t){const r=tv(e,t?.in),n=r.getFullYear(),a=Dv(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=ev(t?.in||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=vw(s,t),l=ev(t?.in||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=vw(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function yw(e,t){return vw(e,{...t,weekStartsOn:1})}function bw(e,t){const r=Dv(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=ww(e,t),i=ev(t?.in||e,0);i.setFullYear(a,0,n),i.setHours(0,0,0,0);return vw(i,t)}function Ew(e,t){const r=tv(e,t?.in),n=+vw(r,t)-+bw(r,t);return Math.round(n/qm)+1}function Sw(e,t,r){const n=tv(e,r?.in),a=Ew(n,r)-t;return n.setDate(n.getDate()-7*a),tv(n,r?.in)}function Tw(e,t){const r=tv(e,t?.in),n=r.getFullYear(),a=ev(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=yw(a),s=ev(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=yw(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Cw(e,t){const r=Tw(e,t),n=ev(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),yw(n)}function _w(e,t){const r=tv(e,t?.in),n=+yw(r)-+Cw(r);return Math.round(n/qm)+1}function Aw(e,t,r){const n=tv(e,r?.in),a=_w(n,r)-t;return n.setDate(n.getDate()-7*a),n}const Iw=[31,28,31,30,31,30,31,31,30,31,30,31],kw=[31,29,31,30,31,30,31,31,30,31,30,31];function Nw(e,t,r){const n=tv(e,r?.in);return isNaN(t)?ev(r?.in||e,NaN):t?(n.setDate(n.getDate()+t),n):n}function xw(e,t,r){const n=Dv(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=tv(e,r?.in),s=i.getDay(),o=7-a;return Nw(i,t<0||t>6?t-(s+o)%7:((t%7+7)%7+o)%7-(s+o)%7,r)}function Dw(e,t){const r=tv(e,t?.in).getDay();return 0===r?7:r}function Rw(e,t,r){const n=tv(e,r?.in);return Nw(n,t-Dw(n,r),r)}function Mw(e){const t=tv(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}const Ow={G:new class extends Fv{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends Fv{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const n=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return lw(dw(4,e),n);case"yo":return lw(r.ordinalNumber(e,{unit:"year"}),n);default:return lw(dw(t.length,e),n)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const n=e.getFullYear();if(r.isTwoDigitYear){const t=gw(r.year,n);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-r.year:r.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Fv{priority=130;parse(e,t,r){const n=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return lw(dw(4,e),n);case"Yo":return lw(r.ordinalNumber(e,{unit:"year"}),n);default:return lw(dw(t.length,e),n)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,n){const a=ww(e,n);if(r.isTwoDigitYear){const t=gw(r.year,a);return e.setFullYear(t,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),vw(e,n)}const i="era"in t&&1!==t.era?1-r.year:r.year;return e.setFullYear(i,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),vw(e,n)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends Fv{priority=130;parse(e,t){return fw("R"===t?4:t.length,e)}set(e,t,r){const n=ev(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),yw(n)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends Fv{priority=130;parse(e,t){return fw("u"===t?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends Fv{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return dw(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth(3*(r-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends Fv{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return dw(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth(3*(r-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends Fv{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const n=e=>e-1;switch(t){case"M":return lw(cw(Bv,e),n);case"MM":return lw(dw(2,e),n);case"Mo":return lw(r.ordinalNumber(e,{unit:"month"}),n);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}},L:new class extends Fv{priority=110;parse(e,t,r){const n=e=>e-1;switch(t){case"L":return lw(cw(Bv,e),n);case"LL":return lw(dw(2,e),n);case"Lo":return lw(r.ordinalNumber(e,{unit:"month"}),n);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends Fv{priority=100;parse(e,t,r){switch(t){case"w":return cw(jv,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return dw(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,n){return vw(Sw(e,r,n),n)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends Fv{priority=100;parse(e,t,r){switch(t){case"I":return cw(jv,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return dw(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return yw(Aw(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends Fv{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return cw(Uv,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return dw(t.length,e)}}validate(e,t){const r=mw(e.getFullYear()),n=e.getMonth();return r?t>=1&&t<=kw[n]:t>=1&&t<=Iw[n]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends Fv{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return cw(Vv,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return dw(t.length,e)}}validate(e,t){return mw(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends Fv{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,n){return(e=xw(e,r,n)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends Fv{priority=90;parse(e,t,r,n){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return lw(dw(t.length,e),a);case"eo":return lw(r.ordinalNumber(e,{unit:"day"}),a);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,n){return(e=xw(e,r,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends Fv{priority=90;parse(e,t,r,n){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return lw(dw(t.length,e),a);case"co":return lw(r.ordinalNumber(e,{unit:"day"}),a);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,n){return(e=xw(e,r,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends Fv{priority=90;parse(e,t,r){const n=e=>0===e?7:e;switch(t){case"i":case"ii":return dw(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return lw(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return lw(r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return lw(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);default:return lw(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return(e=Rw(e,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends Fv{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(pw(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends Fv{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(pw(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends Fv{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(pw(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends Fv{priority=70;parse(e,t,r){switch(t){case"h":return cw(Yv,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return dw(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const n=e.getHours()>=12;return n&&r<12?e.setHours(r+12,0,0,0):n||12!==r?e.setHours(r,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends Fv{priority=70;parse(e,t,r){switch(t){case"H":return cw(Hv,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return dw(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends Fv{priority=70;parse(e,t,r){switch(t){case"K":return cw(Wv,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return dw(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends Fv{priority=70;parse(e,t,r){switch(t){case"k":return cw(zv,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return dw(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const n=r<=24?r%24:r;return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends Fv{priority=60;parse(e,t,r){switch(t){case"m":return cw(Gv,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return dw(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]},s:new class extends Fv{priority=50;parse(e,t,r){switch(t){case"s":return cw($v,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return dw(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]},S:new class extends Fv{priority=30;parse(e,t){return lw(dw(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]},X:new class extends Fv{priority=10;parse(e,t){switch(t){case"X":return uw(nw,e);case"XX":return uw(aw,e);case"XXXX":return uw(iw,e);case"XXXXX":return uw(ow,e);default:return uw(sw,e)}}set(e,t,r){return t.timestampIsSet?e:ev(e,e.getTime()-Mw(e)-r)}incompatibleTokens=["t","T","x"]},x:new class extends Fv{priority=10;parse(e,t){switch(t){case"x":return uw(nw,e);case"xx":return uw(aw,e);case"xxxx":return uw(iw,e);case"xxxxx":return uw(ow,e);default:return uw(sw,e)}}set(e,t,r){return t.timestampIsSet?e:ev(e,e.getTime()-Mw(e)-r)}incompatibleTokens=["t","T","X"]},t:new class extends Fv{priority=40;parse(e){return hw(e)}set(e,t,r){return[ev(e,1e3*r),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends Fv{priority=20;parse(e){return hw(e)}set(e,t,r){return[ev(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}},Pw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fw=/^'([^]*?)'?$/,Bw=/''/g,Uw=/\S/,Vw=/[a-zA-Z]/;function jw(e,t,r,n){const a=()=>ev(n?.in||r,NaN),i=Rv(),s=n?.locale??i.locale??bv,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!t)return e?a():tv(r,n?.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:s},u=[new Lv(n?.in,r)],h=t.match(Lw).map((e=>{const t=e[0];if(t in Tv){return(0,Tv[t])(e,s.formatLong)}return e})).join("").match(Pw),d=[];for(let m of h){!n?.useAdditionalWeekYearTokens&&kv(m)&&Nv(m,t,e),!n?.useAdditionalDayOfYearTokens&&Iv(m)&&Nv(m,t,e);const r=m[0],i=Ow[r];if(i){const{incompatibleTokens:t}=i;if(Array.isArray(t)){const e=d.find((e=>t.includes(e.token)||e.token===r));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${m}\` at the same time`)}else if("*"===i.incompatibleTokens&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:r,fullToken:m});const n=i.run(e,m,s.match,c);if(!n)return a();u.push(n.setter),e=n.rest}else{if(r.match(Vw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");if("''"===m?m="'":"'"===r&&(m=m.match(Fw)[1].replace(Bw,"'")),0!==e.indexOf(m))return a();e=e.slice(m.length)}}if(e.length>0&&Uw.test(e))return a();const f=u.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,r)=>r.indexOf(e)===t)).map((e=>u.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let p=tv(r,n?.in);if(isNaN(+p))return a();const g={};for(const m of f){if(!m.validate(p,c))return a();const e=m.set(p,g,c);Array.isArray(e)?(p=e[0],Object.assign(g,e[1])):p=e}return p}function Hw(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function zw(e){return!(!Hw(e)&&"number"!==typeof e||isNaN(+tv(e)))}function Ww(e,t){return+tv(e)<+tv(t)}function Yw(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=ev.bind(null,e||r.find((e=>"object"===typeof e)));return r.map(a)}function Gw(e,t){const r=tv(e,t?.in);return r.setHours(0,0,0,0),r}function $w(e,t,r){const[n,a]=Yw(r?.in,e,t),i=Gw(n),s=Gw(a),o=+i-Mw(i),l=+s-Mw(s);return Math.round((o-l)/864e5)}function Kw(e,t){const r=tv(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Xw(e,t){const r=tv(e,t?.in);return $w(r,Kw(r))+1}function qw(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Qw={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return qw("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):qw(r+1,2)},d:(e,t)=>qw(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>qw(e.getHours()%12||12,t.length),H:(e,t)=>qw(e.getHours(),t.length),m:(e,t)=>qw(e.getMinutes(),t.length),s:(e,t)=>qw(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return qw(Math.trunc(n*Math.pow(10,r-3)),t.length)}},Zw="midnight",Jw="noon",ey="morning",ty="afternoon",ry="evening",ny="night",ay={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return Qw.y(e,t)},Y:function(e,t,r,n){const a=ww(e,n),i=a>0?a:1-a;if("YY"===t){return qw(i%100,2)}return"Yo"===t?r.ordinalNumber(i,{unit:"year"}):qw(i,t.length)},R:function(e,t){return qw(Tw(e),t.length)},u:function(e,t){return qw(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return qw(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return qw(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Qw.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return qw(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Ew(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):qw(a,t.length)},I:function(e,t,r){const n=_w(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):qw(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):Qw.d(e,t)},D:function(e,t,r){const n=Xw(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):qw(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return qw(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return qw(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return qw(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?Jw:0===n?Zw:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?ry:n>=12?ty:n>=4?ey:ny,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Qw.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):Qw.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):qw(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):qw(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qw.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Qw.s(e,t)},S:function(e,t){return Qw.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return sy(n);case"XXXX":case"XX":return oy(n);default:return oy(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return sy(n);case"xxxx":case"xx":return oy(n);default:return oy(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iy(n,":");default:return"GMT"+oy(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iy(n,":");default:return"GMT"+oy(n,":")}},t:function(e,t,r){return qw(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return qw(+e,t.length)}};function iy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return 0===i?r+String(a):r+String(a)+t+qw(i,2)}function sy(e,t){if(e%60===0){return(e>0?"-":"+")+qw(Math.abs(e)/60,2)}return oy(e,t)}function oy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+qw(Math.trunc(n/60),2)+t+qw(n%60,2)}const ly=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cy=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uy=/^'([^]*?)'?$/,hy=/''/g,dy=/[a-zA-Z]/;function fy(e,t,r){const n=Dv(),a=r?.locale??n.locale??bv,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=tv(e,r?.in);if(!zw(o))throw new RangeError("Invalid time value");let l=t.match(cy).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Tv[t])(e,a.formatLong)}return e})).join("").match(ly).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:py(e)};if(ay[t])return{isToken:!0,value:e};if(t.match(dy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map((n=>{if(!n.isToken)return n.value;const i=n.value;(!r?.useAdditionalWeekYearTokens&&kv(i)||!r?.useAdditionalDayOfYearTokens&&Iv(i))&&Nv(i,t,String(e));return(0,ay[i[0]])(o,i,a.localize,c)})).join("")}function py(e){const t=e.match(uy);return t?t[1].replace(hy,"'"):e}function gy(e,t,r){const n=tv(e,r?.in);return n.setHours(t),n}function my(e,t,r){const n=tv(e,r?.in);return n.setMinutes(t),n}function vy(e,t,r){const n=tv(e,r?.in);return n.setSeconds(t),n}function wy(e,t){const r=tv(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function yy(e,t){const r=tv(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function by(e,t){const r=tv(e,t?.in);return r.setHours(23,59,59,999),r}function Ey(e,t){const r=Dv(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=tv(e,t?.in),i=a.getDay(),s=6+(i<n?-7:0)-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function Sy(e,t){const r=tv(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Ty(e,t,r){const[n,a]=Yw(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function Cy(e,t,r){const[n,a]=Yw(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function _y(e,t,r){const[n,a]=Yw(r?.in,e,t);return+yy(n)===+yy(a)}function Ay(e,t,r){const[n,a]=Yw(r?.in,e,t);return+Gw(n)===+Gw(a)}function Iy(e,t){return+tv(e)===+tv(t)}function ky(e,t,r){const n=+tv(e,r?.in),[a,i]=[+tv(t.start,r?.in),+tv(t.end,r?.in)].sort(((e,t)=>e-t));return n>=a&&n<=i}function Ny(e,t){const r=tv(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=ev(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function xy(e,t,r){const n=tv(e,r?.in),a=n.getFullYear(),i=n.getDate(),s=ev(r?.in||e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const o=Ny(s);return n.setMonth(t,Math.min(i,o)),n}function Dy(e,t,r){const n=tv(e,r?.in),a=t-(Math.trunc(n.getMonth()/3)+1);return xy(n,n.getMonth()+3*a)}function Ry(e,t){return tv(e,t?.in).getFullYear()}function My(e,t){return tv(e,t?.in).getMonth()}function Oy(e,t){const r=tv(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Py(e,t){const r=tv(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function Ly(e,t){return tv(e,t?.in).getHours()}function Fy(e,t){return tv(e,t?.in).getMinutes()}function By(e){return tv(e).getSeconds()}function Uy(e,t,r){const n=tv(e,r?.in);if(isNaN(t))return ev(r?.in||e,NaN);if(!t)return n;const a=n.getDate(),i=ev(r?.in||e,n.getTime());i.setMonth(n.getMonth()+t+1,0);return a>=i.getDate()?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function Vy(e,t,r){return Uy(e,-t,r)}function jy(e,t,r){const[n,a]=Yw(r?.in,e,t);return 12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth())}function Hy(e,t,r){return Uy(e,3*t,r)}function zy(e,t,r){return Hy(e,-t,r)}function Wy(e,t,r){const[n,a]=Yw(r?.in,e,t);return 4*(n.getFullYear()-a.getFullYear())+(Py(n)-Py(a))}function Yy(e,t,r){return Uy(e,12*t,r)}function Gy(e,t,r){return Yy(e,-t,r)}function $y(e,t,r){const[n,a]=Yw(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function Ky(e,t){let r,n=t?.in;return e.forEach((e=>{n||"object"!==typeof e||(n=ev.bind(null,e));const t=tv(e,n);(!r||r>t||isNaN(+t))&&(r=t)})),ev(n,r||NaN)}function Xy(e,t){let r,n=t?.in;return e.forEach((e=>{n||"object"!==typeof e||(n=ev.bind(null,e));const t=tv(e,n);(!r||r<t||isNaN(+t))&&(r=t)})),ev(n,r||NaN)}function qy(e,t,r){return ev(r?.in||e,+tv(e)+t)}function Qy(e,t,r){return qy(e,t*Zm,r)}function Zy(e,t,r){const n=tv(e,r?.in);return n.setTime(n.getTime()+t*Qm),n}function Jy(e,t,r){return qy(e,1e3*t,r)}function eb(e,t){return+tv(e)>+tv(t)}function tb(e,t){return tv(e,t?.in).getDay()}function rb(e,t){return tv(e,t?.in).getDate()}function nb(e,t,r){return Nw(e,7*t,r)}function ab(e){return+tv(e)}function ib(e,t,r){const n=tv(e,r?.in);return isNaN(+n)?ev(r?.in||e,NaN):(n.setFullYear(t),n)}function sb(e,t,r){const[n,a]=Yw(r?.in,e,t),i=ob(n,a),s=Math.abs($w(n,a));n.setDate(n.getDate()-i*s);const o=i*(s-Number(ob(n,a)===-i));return 0===o?0:o}function ob(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function lb(e,t,r){return nb(e,-t,r)}function cb(e,t,r){return Nw(e,-t,r)}function ub(){return"undefined"!==typeof window}function hb(e){return pb(e)?(e.nodeName||"").toLowerCase():"#document"}function db(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function fb(e){var t;return null==(t=(pb(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function pb(e){return!!ub()&&(e instanceof Node||e instanceof db(e).Node)}function gb(e){return!!ub()&&(e instanceof Element||e instanceof db(e).Element)}function mb(e){return!!ub()&&(e instanceof HTMLElement||e instanceof db(e).HTMLElement)}function vb(e){return!(!ub()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof db(e).ShadowRoot)}function wb(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Cb(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function yb(e){return["table","td","th"].includes(hb(e))}function bb(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(qF){return!1}}))}function Eb(e){const t=Sb(),r=gb(e)?Cb(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!r[e]&&"none"!==r[e]))||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function Sb(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Tb(e){return["html","body","#document"].includes(hb(e))}function Cb(e){return db(e).getComputedStyle(e)}function _b(e){return gb(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ab(e){if("html"===hb(e))return e;const t=e.assignedSlot||e.parentNode||vb(e)&&e.host||fb(e);return vb(t)?t.host:t}function Ib(e){const t=Ab(e);return Tb(t)?e.ownerDocument?e.ownerDocument.body:e.body:mb(t)&&wb(t)?t:Ib(t)}function kb(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=Ib(e),i=a===(null==(n=e.ownerDocument)?void 0:n.body),s=db(a);if(i){const e=Nb(s);return t.concat(s,s.visualViewport||[],wb(a)?a:[],e&&r?kb(e):[])}return t.concat(a,kb(a,[],r))}function Nb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var xb=r(950);const Db=Math.min,Rb=Math.max,Mb=Math.round,Ob=Math.floor,Pb=e=>({x:e,y:e}),Lb={left:"right",right:"left",bottom:"top",top:"bottom"},Fb={start:"end",end:"start"};function Bb(e,t){return"function"===typeof e?e(t):e}function Ub(e){return e.split("-")[0]}function Vb(e){return e.split("-")[1]}function jb(e){return"y"===e?"height":"width"}function Hb(e){return["top","bottom"].includes(Ub(e))?"y":"x"}function zb(e){return"x"===Hb(e)?"y":"x"}function Wb(e){return e.replace(/start|end/g,(e=>Fb[e]))}function Yb(e){return e.replace(/left|right|bottom|top/g,(e=>Lb[e]))}function Gb(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function $b(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Kb(e,t,r){let{reference:n,floating:a}=e;const i=Hb(t),s=zb(t),o=jb(s),l=Ub(t),c="y"===i,u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,d=n[o]/2-a[o]/2;let f;switch(l){case"top":f={x:u,y:n.y-a.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-a.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Vb(t)){case"start":f[s]-=d*(r&&c?-1:1);break;case"end":f[s]+=d*(r&&c?-1:1)}return f}async function Xb(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=Bb(t,e),p=Gb(f),g=o[d?"floating"===h?"reference":"floating":h],m=$b(await i.getClippingRect({element:null==(r=await(null==i.isElement?void 0:i.isElement(g)))||r?g:g.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===h?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,w=await(null==i.getOffsetParent?void 0:i.getOffsetParent(o.floating)),y=await(null==i.isElement?void 0:i.isElement(w))&&await(null==i.getScale?void 0:i.getScale(w))||{x:1,y:1},b=$b(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:w,strategy:l}):v);return{top:(m.top-b.top+p.top)/y.y,bottom:(b.bottom-m.bottom+p.bottom)/y.y,left:(m.left-b.left+p.left)/y.x,right:(b.right-m.right+p.right)/y.x}}function qb(e){const t=Cb(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=mb(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,o=Mb(r)!==i||Mb(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function Qb(e){return gb(e)?e:e.contextElement}function Zb(e){const t=Qb(e);if(!mb(t))return Pb(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=qb(t);let s=(i?Mb(r.width):r.width)/n,o=(i?Mb(r.height):r.height)/a;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const Jb=Pb(0);function eE(e){const t=db(e);return Sb()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Jb}function tE(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),i=Qb(e);let s=Pb(1);t&&(n?gb(n)&&(s=Zb(n)):s=Zb(e));const o=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==db(e))&&t}(i,r,n)?eE(i):Pb(0);let l=(a.left+o.x)/s.x,c=(a.top+o.y)/s.y,u=a.width/s.x,h=a.height/s.y;if(i){const e=db(i),t=n&&gb(n)?db(n):n;let r=e,a=Nb(r);for(;a&&n&&t!==r;){const e=Zb(a),t=a.getBoundingClientRect(),n=Cb(a),i=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=i,c+=s,r=db(a),a=Nb(r)}}return $b({width:u,height:h,x:l,y:c})}function rE(e,t){const r=_b(e).scrollLeft;return t?t.left+r:tE(fb(e)).left+r}function nE(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:rE(e,n)),y:n.top+t.scrollTop}}function aE(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=db(e),n=fb(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const e=Sb();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o,y:l}}(e,r);else if("document"===t)n=function(e){const t=fb(e),r=_b(e),n=e.ownerDocument.body,a=Rb(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Rb(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+rE(e);const o=-r.scrollTop;return"rtl"===Cb(n).direction&&(s+=Rb(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}(fb(e));else if(gb(t))n=function(e,t){const r=tE(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=mb(e)?Zb(e):Pb(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:n*i.y}}(t,r);else{const r=eE(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return $b(n)}function iE(e,t){const r=Ab(e);return!(r===t||!gb(r)||Tb(r))&&("fixed"===Cb(r).position||iE(r,t))}function sE(e,t,r){const n=mb(t),a=fb(t),i="fixed"===r,s=tE(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=Pb(0);if(n||!n&&!i)if(("body"!==hb(t)||wb(a))&&(o=_b(t)),n){const e=tE(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&(l.x=rE(a));const c=!a||n||i?Pb(0):nE(a,o);return{x:s.left+o.scrollLeft-l.x-c.x,y:s.top+o.scrollTop-l.y-c.y,width:s.width,height:s.height}}function oE(e){return"static"===Cb(e).position}function lE(e,t){if(!mb(e)||"fixed"===Cb(e).position)return null;if(t)return t(e);let r=e.offsetParent;return fb(e)===r&&(r=r.ownerDocument.body),r}function cE(e,t){const r=db(e);if(bb(e))return r;if(!mb(e)){let t=Ab(e);for(;t&&!Tb(t);){if(gb(t)&&!oE(t))return t;t=Ab(t)}return r}let n=lE(e,t);for(;n&&yb(n)&&oE(n);)n=lE(n,t);return n&&Tb(n)&&oE(n)&&!Eb(n)?r:n||function(e){let t=Ab(e);for(;mb(t)&&!Tb(t);){if(Eb(t))return t;if(bb(t))return null;t=Ab(t)}return null}(e)||r}const uE={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i="fixed"===a,s=fb(n),o=!!t&&bb(t.floating);if(n===s||o&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Pb(1);const u=Pb(0),h=mb(n);if((h||!h&&!i)&&(("body"!==hb(n)||wb(s))&&(l=_b(n)),mb(n))){const e=tE(n);c=Zb(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}const d=!s||h||i?Pb(0):nE(s,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-l.scrollTop*c.y+u.y+d.y}},getDocumentElement:fb,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[..."clippingAncestors"===r?bb(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=kb(e,[],!1).filter((e=>gb(e)&&"body"!==hb(e))),a=null;const i="fixed"===Cb(e).position;let s=i?Ab(e):e;for(;gb(s)&&!Tb(s);){const t=Cb(s),r=Eb(s);r||"fixed"!==t.position||(a=null),(i?!r&&!a:!r&&"static"===t.position&&a&&["absolute","fixed"].includes(a.position)||wb(s)&&!r&&iE(e,s))?n=n.filter((e=>e!==s)):a=t,s=Ab(s)}return t.set(e,n),n}(t,this._c):[].concat(r),n],s=i[0],o=i.reduce(((e,r)=>{const n=aE(t,r,a);return e.top=Rb(n.top,e.top),e.right=Db(n.right,e.right),e.bottom=Db(n.bottom,e.bottom),e.left=Rb(n.left,e.left),e}),aE(t,s,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:cE,getElementRects:async function(e){const t=this.getOffsetParent||cE,r=this.getDimensions,n=await r(e.floating);return{reference:sE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=qb(e);return{width:t,height:r}},getScale:Zb,isElement:gb,isRTL:function(e){return"rtl"===Cb(e).direction}};function hE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dE(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=n,c=Qb(e),u=a||i?[...c?kb(c):[],...kb(t)]:[];u.forEach((e=>{a&&e.addEventListener("scroll",r,{passive:!0}),i&&e.addEventListener("resize",r)}));const h=c&&o?function(e,t){let r,n=null;const a=fb(e);function i(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(o||t(),!d||!f)return;const p={rootMargin:-Ob(h)+"px "+-Ob(a.clientWidth-(u+d))+"px "+-Ob(a.clientHeight-(h+f))+"px "+-Ob(u)+"px",threshold:Rb(0,Db(1,l))||1};let g=!0;function m(t){const n=t[0].intersectionRatio;if(n!==l){if(!g)return s();n?s(!1,n):r=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==n||hE(c,e.getBoundingClientRect())||s(),g=!1}try{n=new IntersectionObserver(m,{...p,root:a.ownerDocument})}catch(qF){n=new IntersectionObserver(m,p)}n.observe(e)}(!0),i}(c,r):null;let d,f=-1,p=null;s&&(p=new ResizeObserver((e=>{let[n]=e;n&&n.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),r()})),c&&!l&&p.observe(c),p.observe(t));let g=l?tE(e):null;return l&&function t(){const n=tE(e);g&&!hE(g,n)&&r();g=n,d=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach((e=>{a&&e.removeEventListener("scroll",r),i&&e.removeEventListener("resize",r)})),null==h||h(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(d)}}const fE=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:r,platform:n,elements:a}=e,i=await(null==n.isRTL?void 0:n.isRTL(a.floating)),s=Ub(r),o=Vb(r),l="y"===Hb(r),c=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,h=Bb(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:p}="number"===typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&"number"===typeof p&&(f="end"===o?-1*p:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}(t,e);return s===(null==(r=o.offset)?void 0:r.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}},pE=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Bb(e,t);if(null!=(r=i.arrow)&&r.alignmentOffset)return{};const v=Ub(a),w=Hb(o),y=Ub(o)===o,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),E=d||(y||!g?[Yb(o)]:function(e){const t=Yb(e);return[Wb(e),t,Wb(t)]}(o)),S="none"!==p;!d&&S&&E.push(...function(e,t,r,n){const a=Vb(e);let i=function(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:s;default:return[]}}(Ub(e),"start"===r,n);return a&&(i=i.map((e=>e+"-"+a)),t&&(i=i.concat(i.map(Wb)))),i}(o,g,p,b));const T=[o,...E],C=await Xb(t,m),_=[];let A=(null==(n=i.flip)?void 0:n.overflows)||[];if(u&&_.push(C[v]),h){const e=function(e,t,r){void 0===r&&(r=!1);const n=Vb(e),a=zb(e),i=jb(a);let s="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Yb(s)),[s,Yb(s)]}(a,s,b);_.push(C[e[0]],C[e[1]])}if(A=[...A,{placement:a,overflows:_}],!_.every((e=>e<=0))){var I,k;const e=((null==(I=i.flip)?void 0:I.index)||0)+1,t=T[e];if(t)return{data:{index:e,overflows:A},reset:{placement:t}};let r=null==(k=A.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!r)switch(f){case"bestFit":{var N;const e=null==(N=A.filter((e=>{if(S){const t=Hb(e.placement);return t===w||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(r=e);break}case"initialPlacement":r=o}if(a!==r)return{reset:{placement:r}}}return{}}}},gE=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=Bb(e,t)||{};if(null==c)return{};const h=Gb(u),d={x:r,y:n},f=zb(a),p=jb(f),g=await s.getDimensions(c),m="y"===f,v=m?"top":"left",w=m?"bottom":"right",y=m?"clientHeight":"clientWidth",b=i.reference[p]+i.reference[f]-d[f]-i.floating[p],E=d[f]-i.reference[f],S=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let T=S?S[y]:0;T&&await(null==s.isElement?void 0:s.isElement(S))||(T=o.floating[y]||i.floating[p]);const C=b/2-E/2,_=T/2-g[p]/2-1,A=Db(h[v],_),I=Db(h[w],_),k=A,N=T-g[p]-I,x=T/2-g[p]/2+C,D=Rb(k,Db(x,N));const R=!l.arrow&&null!=Vb(a)&&x!==D&&i.reference[p]/2-(x<k?A:I)-g[p]/2<0,M=R?x<k?x-k:x-N:0;return{[f]:d[f]+M,data:{[f]:D,centerOffset:x-D-M,...R&&{alignmentOffset:M}},reset:R}}}),mE=(e,t,r)=>{const n=new Map,a={platform:uE,...r},i={...a.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=Kb(c,n,l),d=n,f={},p=0;for(let g=0;g<o.length;g++){const{name:r,fn:i}=o[g],{x:m,y:v,data:w,reset:y}=await i({x:u,y:h,initialPlacement:n,placement:d,strategy:a,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=m?m:u,h=null!=v?v:h,f={...f,[r]:{...f[r],...w}},y&&p<=50&&(p++,"object"===typeof y&&(y.placement&&(d=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:u,y:h}=Kb(c,d,l))),g=-1)}return{x:u,y:h,placement:d,strategy:a,middlewareData:f}})(e,t,{...a,platform:i})};var vE="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function wE(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!wE(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(("_owner"!==r||!e.$$typeof)&&!wE(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function yE(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bE(e,t){const r=yE(e);return Math.round(t*r)/r}function EE(t){const r=e.useRef(t);return vE((()=>{r.current=t})),r}const SE=e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"===typeof e?e(t):e;return r&&(a=r,{}.hasOwnProperty.call(a,"current"))?null!=r.current?gE({element:r.current,padding:n}).fn(t):{}:r?gE({element:r,padding:n}).fn(t):{};var a}}),TE=(e,t)=>({...fE(e),options:[e,t]}),CE=(e,t)=>({...SE(e),options:[e,t]});const _E={...t},AE=_E.useInsertionEffect||(e=>e());function IE(t){const r=e.useRef((()=>{0}));return AE((()=>{r.current=t})),e.useCallback((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==r.current?void 0:r.current(...t)}),[])}const kE="ArrowUp",NE="ArrowDown",xE="ArrowLeft",DE="ArrowRight";var RE="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;const ME=[xE,DE],OE=[kE,NE];let PE=!1,LE=0;const FE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+LE++;const BE=_E.useId||function(){const[t,r]=e.useState((()=>PE?FE():void 0));return RE((()=>{null==t&&r(FE())}),[]),e.useEffect((()=>{PE=!0}),[]),t};const UE=e.forwardRef((function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:i,shift:s}},width:o=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:h,stroke:d,d:f,style:{transform:p,...g}={},...m}=t;const v=BE(),[w,y]=e.useState(!1);if(RE((()=>{if(!a)return;"rtl"===Cb(a).direction&&y(!0)}),[a]),!a)return null;const[b,E]=n.split("-"),S="top"===b||"bottom"===b;let T=h;(S&&null!=s&&s.x||!S&&null!=s&&s.y)&&(T=null);const C=2*u,_=C/2,A=o/2*(c/-8+1),I=l/2*c/4,k=!!f,N=T&&"end"===E?"bottom":"top";let x=T&&"end"===E?"right":"left";T&&w&&(x="end"===E?"left":"right");const D=null!=(null==i?void 0:i.x)?T||i.x:"",R=null!=(null==i?void 0:i.y)?T||i.y:"",M=f||"M0,0 H"+o+" L"+(o-A)+","+(l-I)+" Q"+o/2+","+l+" "+A+","+(l-I)+" Z",O={top:k?"rotate(180deg)":"",left:k?"rotate(90deg)":"rotate(-90deg)",bottom:k?"":"rotate(180deg)",right:k?"rotate(-90deg)":"rotate(90deg)"}[b];return(0,zm.jsxs)("svg",{...m,"aria-hidden":!0,ref:r,width:k?o:o+C,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[x]:D,[N]:R,[b]:S||k?"100%":"calc(100% - "+C/2+"px)",transform:[O,p].filter((e=>!!e)).join(" "),...g},children:[C>0&&(0,zm.jsx)("path",{clipPath:"url(#"+v+")",fill:"none",stroke:d,strokeWidth:C+(f?0:1),d:M}),(0,zm.jsx)("path",{stroke:C&&!f?m.fill:"none",d:M}),(0,zm.jsx)("clipPath",{id:v,children:(0,zm.jsx)("rect",{x:-_,y:_*(k?-1:1),width:o+C,height:o})})]})}));function VE(){const e=new Map;return{emit(t,r){var n;null==(n=e.get(t))||n.forEach((e=>e(r)))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter((e=>e!==r)))||[])}}}const jE=e.createContext(null),HE=e.createContext(null),zE=()=>{var t;return(null==(t=e.useContext(jE))?void 0:t.id)||null},WE=()=>e.useContext(HE);function YE(t){void 0===t&&(t={});const{nodeId:r}=t,n=function(t){const{open:r=!1,onOpenChange:n,elements:a}=t,i=BE(),s=e.useRef({}),[o]=e.useState((()=>VE())),l=null!=zE(),[c,u]=e.useState(a.reference),h=IE(((e,t,r)=>{s.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),d=e.useMemo((()=>({setPositionReference:u})),[]),f=e.useMemo((()=>({reference:c||a.reference||null,floating:a.floating||null,domReference:a.reference})),[c,a.reference,a.floating]);return e.useMemo((()=>({dataRef:s,open:r,onOpenChange:h,elements:f,events:o,floatingId:i,refs:d})),[r,h,f,o,i,d])}({...t,elements:{reference:null,floating:null,...t.elements}}),a=t.rootContext||n,i=a.elements,[s,o]=e.useState(null),[l,c]=e.useState(null),u=(null==i?void 0:i.domReference)||s,h=e.useRef(null),d=WE();RE((()=>{u&&(h.current=u)}),[u]);const f=function(t){void 0===t&&(t={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,d]=e.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[f,p]=e.useState(a);wE(f,a)||p(a);const[g,m]=e.useState(null),[v,w]=e.useState(null),y=e.useCallback((e=>{e!==T.current&&(T.current=e,m(e))}),[]),b=e.useCallback((e=>{e!==C.current&&(C.current=e,w(e))}),[]),E=s||g,S=o||v,T=e.useRef(null),C=e.useRef(null),_=e.useRef(h),A=null!=c,I=EE(c),k=EE(i),N=EE(u),x=e.useCallback((()=>{if(!T.current||!C.current)return;const e={placement:r,strategy:n,middleware:f};k.current&&(e.platform=k.current),mE(T.current,C.current,e).then((e=>{const t={...e,isPositioned:!1!==N.current};D.current&&!wE(_.current,t)&&(_.current=t,xb.flushSync((()=>{d(t)})))}))}),[f,r,n,k,N]);vE((()=>{!1===u&&_.current.isPositioned&&(_.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[u]);const D=e.useRef(!1);vE((()=>(D.current=!0,()=>{D.current=!1})),[]),vE((()=>{if(E&&(T.current=E),S&&(C.current=S),E&&S){if(I.current)return I.current(E,S,x);x()}}),[E,S,x,I,A]);const R=e.useMemo((()=>({reference:T,floating:C,setReference:y,setFloating:b})),[y,b]),M=e.useMemo((()=>({reference:E,floating:S})),[E,S]),O=e.useMemo((()=>{const e={position:n,left:0,top:0};if(!M.floating)return e;const t=bE(M.floating,h.x),r=bE(M.floating,h.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...yE(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,l,M.floating,h.x,h.y]);return e.useMemo((()=>({...h,update:x,refs:R,elements:M,floatingStyles:O})),[h,x,R,M,O])}({...t,elements:{...i,...l&&{reference:l}}}),p=e.useCallback((e=>{const t=gb(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),f.refs.setReference(t)}),[f.refs]),g=e.useCallback((e=>{(gb(e)||null===e)&&(h.current=e,o(e)),(gb(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!gb(e))&&f.refs.setReference(e)}),[f.refs]),m=e.useMemo((()=>({...f.refs,setReference:g,setPositionReference:p,domReference:h})),[f.refs,g,p]),v=e.useMemo((()=>({...f.elements,domReference:u})),[f.elements,u]),w=e.useMemo((()=>({...f,...a,refs:m,elements:v,nodeId:r})),[f,m,v,r,a]);return RE((()=>{a.dataRef.current.floatingContext=w;const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===r));e&&(e.context=w)})),e.useMemo((()=>({...f,context:w,refs:m,elements:v})),[f,m,v,w])}var GE=function(e,t){return GE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},GE(e,t)};function $E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}GE(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var KE=function(){return KE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},KE.apply(this,arguments)};function XE(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var qE,QE=function(t){var r=t.showTimeSelectOnly,n=void 0!==r&&r,a=t.showTime,i=void 0!==a&&a,s=t.className,o=t.children,l=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return e.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},o)},ZE=function(t){var r=t.children,n=t.onClickOutside,a=t.className,i=t.containerRef,s=t.style,o=function(t,r){var n=(0,e.useRef)(null),a=(0,e.useRef)(t);a.current=t;var i=(0,e.useCallback)((function(e){var t,i=e.composed&&e.composedPath&&e.composedPath().find((function(e){return e instanceof Node}))||e.target;n.current&&!n.current.contains(i)&&(r&&i instanceof HTMLElement&&i.classList.contains(r)||null===(t=a.current)||void 0===t||t.call(a,e))}),[r]);return(0,e.useEffect)((function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}}),[i]),n}(n,t.ignoreClass);return e.createElement("div",{className:a,style:s,ref:function(e){o.current=e,i&&(i.current=e)}},r)};function JE(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(qE||(qE={}));function eS(e){if(null==e)return new Date;var t="string"===typeof e?rv(e):tv(e);return rS(t)?t:new Date}function tS(e,t,r,n,a){void 0===a&&(a=eS());for(var i=SS(r)||SS(ES()),s=0,o=Array.isArray(t)?t:[t];s<o.length;s++){var l=o[s],c=jw(e,l,a,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(rS(c)&&(!n||e===nS(c,l,r)))return c}return null}function rS(e,t){return zw(e)&&!Ww(e,new Date("1/1/1800"))}function nS(e,t,r){if("en"===r)return fy(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?SS(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),fy(e,t,{locale:n=n||SS(ES()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function aS(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&nS(e,a,n)||""}function iS(e,t){var r=t.hour,n=void 0===r?0:r,a=t.minute,i=void 0===a?0:a,s=t.second;return gy(my(vy(e,void 0===s?0:s),i),n)}function sS(e){return Gw(e)}function oS(e,t,r){return vw(e,{locale:SS(t||ES()),weekStartsOn:r})}function lS(e){return wy(e)}function cS(e){return Kw(e)}function uS(e){return yy(e)}function hS(){return Gw(eS())}function dS(e){return by(e)}function fS(e){return Sy(e)}function pS(e,t){return e&&t?Ty(e,t):!e&&!t}function gS(e,t){return e&&t?Cy(e,t):!e&&!t}function mS(e,t){return e&&t?_y(e,t):!e&&!t}function vS(e,t){return e&&t?Ay(e,t):!e&&!t}function wS(e,t){return e&&t?Iy(e,t):!e&&!t}function yS(e,t,r){var n,a=Gw(t),i=by(r);try{n=ky(e,{start:a,end:i})}catch(s){n=!1}return n}function bS(e,t){var r=JE();r.__localeData__||(r.__localeData__={}),r.__localeData__[e]=t}function ES(){return JE().__localeId__}function SS(e){if("string"===typeof e){var t=JE();return t.__localeData__?t.__localeData__[e]:void 0}return e}function TS(e,t){return nS(xy(eS(),e),"LLLL",t)}function CS(e,t){return nS(xy(eS(),e),"LLL",t)}function _S(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.excludeDateIntervals,o=r.includeDates,l=r.includeDateIntervals,c=r.filterDate;return OS(e,{minDate:n,maxDate:a})||i&&i.some((function(t){return t instanceof Date?vS(e,t):vS(e,t.date)}))||s&&s.some((function(t){var r=t.start,n=t.end;return ky(e,{start:r,end:n})}))||o&&!o.some((function(t){return vS(e,t)}))||l&&!l.some((function(t){var r=t.start,n=t.end;return ky(e,{start:r,end:n})}))||c&&!c(eS(e))||!1}function AS(e,t){var r=void 0===t?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some((function(t){var r=t.start,n=t.end;return ky(e,{start:r,end:n})})):n&&n.some((function(t){var r;return t instanceof Date?vS(e,t):vS(e,null!==(r=t.date)&&void 0!==r?r:new Date)}))||!1}function IS(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate;return OS(e,{minDate:n?wy(n):void 0,maxDate:a?Sy(a):void 0})||(null===i||void 0===i?void 0:i.some((function(t){return gS(e,t instanceof Date?t:t.date)})))||s&&!s.some((function(t){return gS(e,t)}))||o&&!o(eS(e))||!1}function kS(e,t,r,n){var a=Ry(e),i=My(e),s=Ry(t),o=My(t),l=Ry(n);return a===s&&a===l?i<=r&&r<=o:a<s&&(l===a&&i<=r||l===s&&o>=r||l<s&&l>a)}function NS(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates;return OS(e,{minDate:n,maxDate:a})||i&&i.some((function(t){return gS(t instanceof Date?t:t.date,e)}))||s&&!s.some((function(t){return gS(t,e)}))||!1}function xS(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate;return OS(e,{minDate:n,maxDate:a})||(null===i||void 0===i?void 0:i.some((function(t){return mS(e,t instanceof Date?t:t.date)})))||s&&!s.some((function(t){return mS(e,t)}))||o&&!o(eS(e))||!1}function DS(e,t,r){if(!t||!r)return!1;if(!zw(t)||!zw(r))return!1;var n=Ry(t),a=Ry(r);return n<=e&&a>=e}function RS(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate,l=new Date(e,0,1);return OS(l,{minDate:n?Kw(n):void 0,maxDate:a?Oy(a):void 0})||(null===i||void 0===i?void 0:i.some((function(e){return pS(l,e instanceof Date?e:e.date)})))||s&&!s.some((function(e){return pS(l,e)}))||o&&!o(eS(l))||!1}function MS(e,t,r,n){var a=Ry(e),i=Py(e),s=Ry(t),o=Py(t),l=Ry(n);return a===s&&a===l?i<=r&&r<=o:a<s&&(l===a&&i<=r||l===s&&o>=r||l<s&&l>a)}function OS(e,t){var r,n=void 0===t?{}:t,a=n.minDate,i=n.maxDate;return null!==(r=a&&$w(e,a)<0||i&&$w(e,i)>0)&&void 0!==r&&r}function PS(e,t){return t.some((function(t){return Ly(t)===Ly(e)&&Fy(t)===Fy(e)&&By(t)===By(e)}))}function LS(e,t){var r=void 0===t?{}:t,n=r.excludeTimes,a=r.includeTimes,i=r.filterTime;return n&&PS(e,n)||a&&!PS(e,a)||i&&!i(e)||!1}function FS(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=eS();a=vy(a=my(a=gy(a,Ly(e)),Fy(e)),By(e));var i=eS();i=vy(i=my(i=gy(i,Ly(r)),Fy(r)),By(r));var s,o=eS();o=vy(o=my(o=gy(o,Ly(n)),Fy(n)),By(n));try{s=!ky(a,{start:i,end:o})}catch(l){s=!1}return s}function BS(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.includeDates,i=Vy(e,1);return n&&jy(n,i)>0||a&&a.every((function(e){return jy(e,i)>0}))||!1}function US(e,t){var r=void 0===t?{}:t,n=r.maxDate,a=r.includeDates,i=Uy(e,1);return n&&jy(i,n)>0||a&&a.every((function(e){return jy(i,e)>0}))||!1}function VS(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.includeDates,i=Gy(e,1);return n&&$y(n,i)>0||a&&a.every((function(e){return $y(e,i)>0}))||!1}function jS(e,t){var r=void 0===t?{}:t,n=r.maxDate,a=r.includeDates,i=Yy(e,1);return n&&$y(i,n)>0||a&&a.every((function(e){return $y(i,e)>0}))||!1}function HS(e){var t=e.minDate,r=e.includeDates;return r&&t?Ky(r.filter((function(e){return $w(e,t)>=0}))):r?Ky(r):t}function zS(e){var t=e.maxDate,r=e.includeDates;return r&&t?Xy(r.filter((function(e){return $w(e,t)<=0}))):r?Xy(r):t}function WS(e,t){var r;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,i=e.length;a<i;a++){var s=e[a];if(Hw(s)){var o=nS(s,"MM.dd.yyyy");(f=n.get(o)||[]).includes(t)||(f.push(t),n.set(o,f))}else if("object"===typeof s){var l=null!==(r=Object.keys(s)[0])&&void 0!==r?r:"",c=s[l];if("string"===typeof l&&Array.isArray(c))for(var u=0,h=c.length;u<h;u++){var d=c[u];if(d){var f;o=nS(d,"MM.dd.yyyy");(f=n.get(o)||[]).includes(l)||(f.push(l),n.set(o,f))}}}}return n}function YS(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach((function(e){var n=e.date,a=e.holidayName;if(Hw(n)){var i=nS(n,"MM.dd.yyyy"),s=r.get(i)||{className:"",holidayNames:[]};if(!("className"in s)||s.className!==t||(o=s.holidayNames,l=[a],o.length!==l.length||!o.every((function(e,t){return e===l[t]})))){var o,l;s.className=t;var c=s.holidayNames;s.holidayNames=c?XE(XE([],c,!0),[a],!1):[a],r.set(i,s)}}})),r}function GS(e,t,r,n,a){for(var i=a.length,s=[],o=0;o<i;o++){var l=e,c=a[o];c&&(l=Jy(l=Zy(l=Qy(l,Ly(c)),Fy(c)),By(c)));var u=Zy(e,(r+1)*n);eb(l,t)&&Ww(l,u)&&void 0!=c&&s.push(c)}return s}function $S(e){return e<10?"0".concat(e):"".concat(e)}function KS(e,t){void 0===t&&(t=12);var r=Math.ceil(Ry(e)/t)*t;return{startPeriod:r-(t-1),endPeriod:r}}function XS(e){var t=e.getSeconds(),r=e.getMilliseconds();return tv(e.getTime()-1e3*t-r)}function qS(e){if(!Hw(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function QS(e,t){if(!Hw(e)||!Hw(t))throw new Error("Invalid date received");return Ww(qS(e),qS(t))}function ZS(e){return e.key===qE.Space}var JS,eT=function(t){function r(r){var n=t.call(this,r)||this;return n.inputRef=e.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var a=n.props.date,i=a instanceof Date&&!isNaN(+a)?a:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var s=e.split(":"),o=s[0],l=s[1];i.setHours(Number(o)),i.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,i)},n.renderTimeInput=function(){var t=n.state.time,r=n.props,a=r.date,i=r.timeString,s=r.customTimeInput;return s?(0,e.cloneElement)(s,{date:a,value:t,onChange:n.onTimeChange}):e.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:t,onChange:function(e){n.onTimeChange(e.target.value||i)}})},n.state={time:n.props.timeString},n}return $E(r,t),r.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},r.prototype.render=function(){return e.createElement("div",{className:"react-datepicker__input-time-container"},e.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),e.createElement("div",{className:"react-datepicker-time__input-container"},e.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(e.Component),tT=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.dayEl=(0,e.createRef)(),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.handleOnKeyDown=function(e){var t,n;e.key===qE.Space&&(e.preventDefault(),e.key=qE.Enter),null===(n=(t=r.props).handleOnKeyDown)||void 0===n||n.call(t,e)},r.isSameDay=function(e){return vS(r.props.day,e)},r.isKeyboardSelected=function(){var e;if(r.props.disabledKeyboardNavigation)return!1;var t=r.props.selectsMultiple?null===(e=r.props.selectedDates)||void 0===e?void 0:e.some((function(e){return r.isSameDayOrWeek(e)})):r.isSameDayOrWeek(r.props.selected),n=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!t&&r.isSameDayOrWeek(r.props.preSelection)&&!n},r.isDisabled=function(e){return void 0===e&&(e=r.props.day),_S(e,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return AS(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return vS(r.props.day,oS(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(e){return r.props.showWeekPicker&&vS(e,oS(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(e){return r.isSameDay(e)||r.isSameWeek(e)},r.getHighLightedClass=function(){var e=r.props,t=e.day,n=e.highlightDates;if(!n)return!1;var a=nS(t,"MM.dd.yyyy");return n.get(a)},r.getHolidaysClass=function(){var e,t=r.props,n=t.day,a=t.holidays;if(!a)return[void 0];var i=nS(n,"MM.dd.yyyy");return a.has(i)?[null===(e=a.get(i))||void 0===e?void 0:e.className]:[void 0]},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&yS(t,n,a)},r.isInSelectingRange=function(){var e,t=r.props,n=t.day,a=t.selectsStart,i=t.selectsEnd,s=t.selectsRange,o=t.selectsDisabledDaysInRange,l=t.startDate,c=t.endDate,u=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return!(!(a||i||s)||!u||!o&&r.isDisabled())&&(a&&c&&(Ww(u,c)||wS(u,c))?yS(n,u,c):(i&&l&&(eb(u,l)||wS(u,l))||!(!s||!l||c||!eb(u,l)&&!wS(u,l)))&&yS(n,l,u))},r.isSelectingRangeStart=function(){var e;if(!r.isInSelectingRange())return!1;var t=r.props,n=t.day,a=t.startDate,i=t.selectsStart,s=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return vS(n,i?s:a)},r.isSelectingRangeEnd=function(){var e;if(!r.isInSelectingRange())return!1;var t=r.props,n=t.day,a=t.endDate,i=t.selectsEnd,s=t.selectsRange,o=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return vS(n,i||s?o:a)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&vS(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&vS(a,t)},r.isWeekend=function(){var e=tb(r.props.day);return 0===e||6===e},r.isAfterMonth=function(){return void 0!==r.props.month&&(r.props.month+1)%12===My(r.props.day)},r.isBeforeMonth=function(){return void 0!==r.props.month&&(My(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(eS())},r.isSelected=function(){var e;return r.props.selectsMultiple?null===(e=r.props.selectedDates)||void 0===e?void 0:e.some((function(e){return r.isSameDayOrWeek(e)})):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(e){var t;return Xm("react-datepicker__day",r.props.dayClassName?r.props.dayClassName(e):void 0,"react-datepicker__day--"+nS(r.props.day,"ddd",t),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var e=r.props,t=e.day,n=e.ariaLabelPrefixWhenEnabled,a=void 0===n?"Choose":n,i=e.ariaLabelPrefixWhenDisabled,s=void 0===i?"Not available":i,o=r.isDisabled()||r.isExcluded()?s:a;return"".concat(o," ").concat(nS(t,"PPPP",r.props.locale))},r.getTitle=function(){var e=r.props,t=e.day,n=e.holidays,a=void 0===n?new Map:n,i=e.excludeDates,s=nS(t,"MM.dd.yyyy"),o=[];return a.has(s)&&o.push.apply(o,a.get(s).holidayNames),r.isExcluded()&&o.push(null===i||void 0===i?void 0:i.filter((function(e){return e instanceof Date?vS(e,t):vS(null===e||void 0===e?void 0:e.date,t)})).map((function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message}))),o.join(", ")},r.getTabIndex=function(){var e=r.props.selected,t=r.props.preSelection;return(!r.props.showWeekPicker||!r.props.showWeekNumber&&r.isStartOfWeek())&&(r.isKeyboardSelected()||r.isSameDay(e)&&vS(t,e))?0:-1},r.handleFocusDay=function(){var e;r.shouldFocusDay()&&(null===(e=r.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(rb(r.props.day),r.props.day):rb(r.props.day)},r.render=function(){return e.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),""!==r.getTitle()&&e.createElement("span",{className:"overlay"},r.getTitle()))},r}return $E(r,t),r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},r.prototype.isDayActiveElement=function(){var e,t,r;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(r=document.activeElement)||void 0===r?void 0:r.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(e.Component),rT=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.weekNumberEl=(0,e.createRef)(),r.handleClick=function(e){r.props.onClick&&r.props.onClick(e)},r.handleOnKeyDown=function(e){var t,n;e.key===qE.Space&&(e.preventDefault(),e.key=qE.Enter),null===(n=(t=r.props).handleOnKeyDown)||void 0===n||n.call(t,e)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!vS(r.props.date,r.props.selected)&&vS(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||vS(r.props.date,r.props.selected)&&vS(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(e){var t=!1;0===r.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&vS(r.props.date,r.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(t=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(t=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(t=!0)),t&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return $E(r,t),Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},r.prototype.render=function(){var t=this.props,n=t.weekNumber,a=t.isWeekDisabled,i=t.ariaLabelPrefix,s=void 0===i?r.defaultProps.ariaLabelPrefix:i,o=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!a,"react-datepicker__week-number--selected":!!o&&vS(this.props.date,this.props.selected)};return e.createElement("div",{ref:this.weekNumberEl,className:Xm(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},r}(e.Component),nT=function(t){function r(){var n=null!==t&&t.apply(this,arguments)||this;return n.isDisabled=function(e){return _S(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,t,a){for(var i,s,o,l=new Date(e),c=0;c<7;c++){var u=new Date(e);if(u.setDate(u.getDate()+c),!n.isDisabled(u)){l=u;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,t,a),n.props.showWeekPicker&&n.handleDayClick(l,a),(null!==(i=n.props.shouldCloseOnSelect)&&void 0!==i?i:r.defaultProps.shouldCloseOnSelect)&&(null===(o=(s=n.props).setOpen)||void 0===o||o.call(s,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return _w(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Nw(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Nw(r,1)}return!0},n.renderDays=function(){var t=n.startOfWeek(),a=[],i=n.formatWeekNumber(t);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,t,i):void 0;a.push(e.createElement(rT,KE({key:"W"},r.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:t,onClick:s})))}return a.concat([0,1,2,3,4,5,6].map((function(a){var i=Nw(t,a);return e.createElement(tT,KE({},r.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:i.valueOf(),day:i,onClick:n.handleDayClick.bind(n,i),onMouseEnter:n.handleDayMouseEnter.bind(n,i)}))})))},n.startOfWeek=function(){return oS(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!vS(n.startOfWeek(),n.props.selected)&&vS(n.startOfWeek(),n.props.preSelection)},n}return $E(r,t),Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":vS(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return e.createElement("div",{className:Xm(t)},this.renderDays())},r}(e.Component),aT="two_columns",iT="three_columns",sT="four_columns",oT=((JS={})[aT]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},JS[iT]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},JS[sT]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},JS);function lT(e,t){return e?sT:t?aT:iT}var cT=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.MONTH_REFS=XE([],Array(12),!0).map((function(){return(0,e.createRef)()})),r.QUARTER_REFS=XE([],Array(4),!0).map((function(){return(0,e.createRef)()})),r.isDisabled=function(e){return _S(e,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(e){return AS(e,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(e,t){var n,a;null===(a=(n=r.props).onDayClick)||void 0===a||a.call(n,e,t,r.props.orderInDisplay)},r.handleDayMouseEnter=function(e){var t,n;null===(n=(t=r.props).onDayMouseEnter)||void 0===n||n.call(t,e)},r.handleMouseLeave=function(){var e,t;null===(t=(e=r.props).onMouseLeave)||void 0===t||t.call(e)},r.isRangeStartMonth=function(e){var t=r.props,n=t.day,a=t.startDate,i=t.endDate;return!(!a||!i)&&gS(xy(n,e),a)},r.isRangeStartQuarter=function(e){var t=r.props,n=t.day,a=t.startDate,i=t.endDate;return!(!a||!i)&&mS(Dy(n,e),a)},r.isRangeEndMonth=function(e){var t=r.props,n=t.day,a=t.startDate,i=t.endDate;return!(!a||!i)&&gS(xy(n,e),i)},r.isRangeEndQuarter=function(e){var t=r.props,n=t.day,a=t.startDate,i=t.endDate;return!(!a||!i)&&mS(Dy(n,e),i)},r.isInSelectingRangeMonth=function(e){var t,n=r.props,a=n.day,i=n.selectsStart,s=n.selectsEnd,o=n.selectsRange,l=n.startDate,c=n.endDate,u=null!==(t=r.props.selectingDate)&&void 0!==t?t:r.props.preSelection;return!(!(i||s||o)||!u)&&(i&&c?kS(u,c,e,a):(s&&l||!(!o||!l||c))&&kS(l,u,e,a))},r.isSelectingMonthRangeStart=function(e){var t;if(!r.isInSelectingRangeMonth(e))return!1;var n=r.props,a=n.day,i=n.startDate,s=n.selectsStart,o=xy(a,e),l=null!==(t=r.props.selectingDate)&&void 0!==t?t:r.props.preSelection;return gS(o,s?l:i)},r.isSelectingMonthRangeEnd=function(e){var t;if(!r.isInSelectingRangeMonth(e))return!1;var n=r.props,a=n.day,i=n.endDate,s=n.selectsEnd,o=n.selectsRange,l=xy(a,e),c=null!==(t=r.props.selectingDate)&&void 0!==t?t:r.props.preSelection;return gS(l,s||o?c:i)},r.isInSelectingRangeQuarter=function(e){var t,n=r.props,a=n.day,i=n.selectsStart,s=n.selectsEnd,o=n.selectsRange,l=n.startDate,c=n.endDate,u=null!==(t=r.props.selectingDate)&&void 0!==t?t:r.props.preSelection;return!(!(i||s||o)||!u)&&(i&&c?MS(u,c,e,a):(s&&l||!(!o||!l||c))&&MS(l,u,e,a))},r.isWeekInMonth=function(e){var t=r.props.day,n=Nw(e,6);return gS(e,t)||gS(n,t)},r.isCurrentMonth=function(e,t){return Ry(e)===Ry(eS())&&t===My(eS())},r.isCurrentQuarter=function(e,t){return Ry(e)===Ry(eS())&&t===Py(eS())},r.isSelectedMonth=function(e,t,r){return My(r)===t&&Ry(e)===Ry(r)},r.isSelectMonthInList=function(e,t,n){return n.some((function(n){return r.isSelectedMonth(e,t,n)}))},r.isSelectedQuarter=function(e,t,r){return Py(e)===t&&Ry(e)===Ry(r)},r.renderWeeks=function(){for(var t=[],n=r.props.fixedHeight,a=0,i=!1,s=oS(lS(r.props.day),r.props.locale,r.props.calendarStartDay),o=r.props.selected?function(e){return r.props.showWeekPicker?oS(e,r.props.locale,r.props.calendarStartDay):r.props.selected}(r.props.selected):void 0,l=r.props.preSelection?function(e){return r.props.showWeekPicker?oS(e,r.props.locale,r.props.calendarStartDay):r.props.preSelection}(r.props.preSelection):void 0;t.push(e.createElement(nT,KE({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:a,day:s,month:My(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:o,preSelection:l,showWeekNumber:r.props.showWeekNumbers}))),!i;){a++,s=nb(s,1);var c=n&&a>=6,u=!n&&!r.isWeekInMonth(s);if(c||u){if(!r.props.peekNextMonth)break;i=!0}}return t},r.onMonthClick=function(e,t){var n=r.isMonthDisabledForLabelDate(t),a=n.isDisabled,i=n.labelDate;a||r.handleDayClick(lS(i),e)},r.onMonthMouseEnter=function(e){var t=r.isMonthDisabledForLabelDate(e),n=t.isDisabled,a=t.labelDate;n||r.handleDayMouseEnter(lS(a))},r.handleMonthNavigation=function(e,t){var n,a,i,s;null===(a=(n=r.props).setPreSelection)||void 0===a||a.call(n,t),null===(s=null===(i=r.MONTH_REFS[e])||void 0===i?void 0:i.current)||void 0===s||s.focus()},r.handleKeyboardNavigation=function(e,t,n){var a,i=r.props,s=i.selected,o=i.preSelection,l=i.setPreSelection,c=i.minDate,u=i.maxDate,h=i.showFourColumnMonthYearPicker,d=i.showTwoColumnMonthYearPicker;if(o){var f=lT(h,d),p=r.getVerticalOffset(f),g=null===(a=oT[f])||void 0===a?void 0:a.grid,m=function(e,t,r){var n,a,i=t,s=r;switch(e){case qE.ArrowRight:i=Uy(t,1),s=11===r?0:r+1;break;case qE.ArrowLeft:i=Vy(t,1),s=0===r?11:r-1;break;case qE.ArrowUp:i=Vy(t,p),s=(null===(n=null===g||void 0===g?void 0:g[0])||void 0===n?void 0:n.includes(r))?r+12-p:r-p;break;case qE.ArrowDown:i=Uy(t,p),s=(null===(a=null===g||void 0===g?void 0:g[g.length-1])||void 0===a?void 0:a.includes(r))?r-12+p:r+p}return{newCalculatedDate:i,newCalculatedMonth:s}};if(t!==qE.Enter){var v=function(e,t,n){for(var a=e,i=!1,s=0,o=m(a,t,n),l=o.newCalculatedDate,h=o.newCalculatedMonth;!i;){if(s>=40){l=t,h=n;break}var d;if(c&&l<c)a=qE.ArrowRight,l=(d=m(a,l,h)).newCalculatedDate,h=d.newCalculatedMonth;if(u&&l>u)a=qE.ArrowLeft,l=(d=m(a,l,h)).newCalculatedDate,h=d.newCalculatedMonth;if(NS(l,r.props))l=(d=m(a,l,h)).newCalculatedDate,h=d.newCalculatedMonth;else i=!0;s++}return{newCalculatedDate:l,newCalculatedMonth:h}}(t,o,n),w=v.newCalculatedDate,y=v.newCalculatedMonth;switch(t){case qE.ArrowRight:case qE.ArrowLeft:case qE.ArrowUp:case qE.ArrowDown:r.handleMonthNavigation(y,w)}}else r.isMonthDisabled(n)||(r.onMonthClick(e,n),null===l||void 0===l||l(s))}},r.getVerticalOffset=function(e){var t,r;return null!==(r=null===(t=oT[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==r?r:0},r.onMonthKeyDown=function(e,t){var n=r.props,a=n.disabledKeyboardNavigation,i=n.handleOnMonthKeyDown,s=e.key;s!==qE.Tab&&e.preventDefault(),a||r.handleKeyboardNavigation(e,s,t),i&&i(e)},r.onQuarterClick=function(e,t){var n=Dy(r.props.day,t);xS(n,r.props)||r.handleDayClick(uS(n),e)},r.onQuarterMouseEnter=function(e){var t=Dy(r.props.day,e);xS(t,r.props)||r.handleDayMouseEnter(uS(t))},r.handleQuarterNavigation=function(e,t){var n,a,i,s;r.isDisabled(t)||r.isExcluded(t)||(null===(a=(n=r.props).setPreSelection)||void 0===a||a.call(n,t),null===(s=null===(i=r.QUARTER_REFS[e-1])||void 0===i?void 0:i.current)||void 0===s||s.focus())},r.onQuarterKeyDown=function(e,t){var n,a,i=e.key;if(!r.props.disabledKeyboardNavigation)switch(i){case qE.Enter:r.onQuarterClick(e,t),null===(a=(n=r.props).setPreSelection)||void 0===a||a.call(n,r.props.selected);break;case qE.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(4===t?1:t+1,Hy(r.props.preSelection,1));break;case qE.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(1===t?4:t-1,zy(r.props.preSelection,1))}},r.isMonthDisabledForLabelDate=function(e){var t,n=r.props,a=n.day,i=n.minDate,s=n.maxDate,o=n.excludeDates,l=n.includeDates,c=xy(a,e);return{isDisabled:null!==(t=(i||s||o||l)&&IS(c,r.props))&&void 0!==t&&t,labelDate:c}},r.isMonthDisabled=function(e){return r.isMonthDisabledForLabelDate(e).isDisabled},r.getMonthClassNames=function(e){var t=r.props,n=t.day,a=t.startDate,i=t.endDate,s=t.preSelection,o=t.monthClassName,l=o?o(xy(n,e)):void 0,c=r.getSelection();return Xm("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":r.isMonthDisabled(e),"react-datepicker__month-text--selected":c?r.isSelectMonthInList(n,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&s&&r.isSelectedMonth(n,e,s)&&!r.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":a&&i?kS(a,i,e,n):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(e),"react-datepicker__month-text--range-end":r.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":r.isCurrentMonth(n,e)})},r.getTabIndex=function(e){if(null==r.props.preSelection)return"-1";var t=My(r.props.preSelection),n=r.isMonthDisabledForLabelDate(t).isDisabled;return e!==t||n||r.props.disabledKeyboardNavigation?"-1":"0"},r.getQuarterTabIndex=function(e){if(null==r.props.preSelection)return"-1";var t=Py(r.props.preSelection),n=xS(r.props.day,r.props);return e!==t||n||r.props.disabledKeyboardNavigation?"-1":"0"},r.getAriaLabel=function(e){var t=r.props,n=t.chooseDayAriaLabelPrefix,a=void 0===n?"Choose":n,i=t.disabledDayAriaLabelPrefix,s=void 0===i?"Not available":i,o=t.day,l=t.locale,c=xy(o,e),u=r.isDisabled(c)||r.isExcluded(c)?s:a;return"".concat(u," ").concat(nS(c,"MMMM yyyy",l))},r.getQuarterClassNames=function(e){var t=r.props,n=t.day,a=t.startDate,i=t.endDate,s=t.selected,o=t.minDate,l=t.maxDate,c=t.excludeDates,u=t.includeDates,h=t.filterDate,d=t.preSelection,f=t.disabledKeyboardNavigation,p=(o||l||c||u||h)&&xS(Dy(n,e),r.props);return Xm("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":p,"react-datepicker__quarter-text--selected":s?r.isSelectedQuarter(n,e,s):void 0,"react-datepicker__quarter-text--keyboard-selected":!f&&d&&r.isSelectedQuarter(n,e,d)&&!p,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":a&&i?MS(a,i,e,n):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":r.isCurrentQuarter(n,e)})},r.getMonthContent=function(e){var t=r.props,n=t.showFullMonthYearPicker,a=t.renderMonthContent,i=t.locale,s=t.day,o=CS(e,i),l=TS(e,i);return a?a(e,o,l,s):n?l:o},r.getQuarterContent=function(e){var t,n=r.props,a=n.renderQuarterContent,i=function(e,t){return nS(Dy(eS(),e),"QQQ",t)}(e,n.locale);return null!==(t=null===a||void 0===a?void 0:a(e,i))&&void 0!==t?t:i},r.renderMonths=function(){var t,n=r.props,a=n.showTwoColumnMonthYearPicker,i=n.showFourColumnMonthYearPicker,s=n.day,o=n.selected,l=null===(t=oT[lT(i,a)])||void 0===t?void 0:t.grid;return null===l||void 0===l?void 0:l.map((function(t,n){return e.createElement("div",{className:"react-datepicker__month-wrapper",key:n},t.map((function(t,n){return e.createElement("div",{ref:r.MONTH_REFS[t],key:n,onClick:function(e){r.onMonthClick(e,t)},onKeyDown:function(e){ZS(e)&&(e.preventDefault(),e.key=qE.Enter),r.onMonthKeyDown(e,t)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(t)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(t)}:void 0,tabIndex:Number(r.getTabIndex(t)),className:r.getMonthClassNames(t),"aria-disabled":r.isMonthDisabled(t),role:"option","aria-label":r.getAriaLabel(t),"aria-current":r.isCurrentMonth(s,t)?"date":void 0,"aria-selected":o?r.isSelectedMonth(s,t,o):void 0},r.getMonthContent(t))})))}))},r.renderQuarters=function(){var t=r.props,n=t.day,a=t.selected;return e.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(t,i){return e.createElement("div",{key:i,ref:r.QUARTER_REFS[i],role:"option",onClick:function(e){r.onQuarterClick(e,t)},onKeyDown:function(e){r.onQuarterKeyDown(e,t)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(t)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(t)}:void 0,className:r.getQuarterClassNames(t),"aria-selected":a?r.isSelectedQuarter(n,t,a):void 0,tabIndex:Number(r.getQuarterTabIndex(t)),"aria-current":r.isCurrentQuarter(n,t)?"date":void 0},r.getQuarterContent(t))})))},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,a=e.selectsEnd;return Xm("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||a)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},r}return $E(r,t),r.prototype.getSelection=function(){var e=this.props,t=e.selected,r=e.selectedDates;return e.selectsMultiple?r:t?[t]:void 0},r.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,n=t.showQuarterYearPicker,a=t.day,i=t.ariaLabelPrefix,s=void 0===i?"Month ":i,o=s?s.trim()+" ":"";return e.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(o).concat(nS(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},r}(e.Component),uT=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.isSelectedMonth=function(e){return r.props.month===e},r.renderOptions=function(){return r.props.monthNames.map((function(t,n){return e.createElement("div",{className:r.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:r.onChange.bind(r,n),"aria-selected":r.isSelectedMonth(n)?"true":void 0},r.isSelectedMonth(n)?e.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)}))},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},r}return $E(r,t),r.prototype.render=function(){return e.createElement(ZE,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(e.Component),hT=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(t){return t.map((function(t,r){return e.createElement("option",{key:t,value:r},t)}))},r.renderSelectMode=function(t){return e.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(e){return r.onChange(parseInt(e.target.value))}},r.renderSelectOptions(t))},r.renderReadView=function(t,n){return e.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},e.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),e.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[r.props.month]))},r.renderDropdown=function(t){return e.createElement(uT,KE({key:"dropdown"},r.props,{monthNames:t,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return $E(r,t),r.prototype.render=function(){var t,r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return CS(e,r.props.locale)}:function(e){return TS(e,r.props.locale)});switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode(n);break;case"select":t=this.renderSelectMode(n)}return e.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(e.Component);function dT(e,t){for(var r=[],n=lS(e),a=lS(t);!eb(n,a);)r.push(eS(n)),n=Uy(n,1);return r}var fT=function(t){function r(r){var n=t.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map((function(t){var r=ab(t),a=pS(n.props.date,t)&&gS(n.props.date,t);return e.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:r,onClick:n.onChange.bind(n,r),"aria-selected":a?"true":void 0},a?e.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",nS(t,n.props.dateFormat,n.props.locale))}))},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:dT(n.props.minDate,n.props.maxDate)},n}return $E(r,t),r.prototype.render=function(){var t=Xm({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return e.createElement(ZE,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(e.Component),pT=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t=lS(r.props.minDate),n=lS(r.props.maxDate),a=[];!eb(t,n);){var i=ab(t);a.push(e.createElement("option",{key:i,value:i},nS(t,r.props.dateFormat,r.props.locale))),t=Uy(t,1)}return a},r.onSelectChange=function(e){r.onChange(parseInt(e.target.value))},r.renderSelectMode=function(){return e.createElement("select",{value:ab(lS(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){var n=nS(r.props.date,r.props.dateFormat,r.props.locale);return e.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},e.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),e.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},r.renderDropdown=function(){return e.createElement(fT,KE({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown();var t=eS(e);pS(r.props.date,t)&&gS(r.props.date,t)||r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return $E(r,t),r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode()}return e.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(e.Component),gT=function(t){function r(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame((function(){var e,t,a;n.list&&(n.list.scrollTop=null!==(a=n.centerLi&&r.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(t=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0):n.list.clientHeight,n.centerLi))&&void 0!==a?a:0)}))},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&FS(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&LS(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,XS(t).getTime()===XS(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&FS(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&LS(e,n.props)},n.liClasses=function(e){var t,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*Ly(e)+60*Fy(e)+By(e))%(60*(null!==(t=n.props.intervals)&&void 0!==t?t:r.defaultProps.intervals))!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(e,t){var r,a;e.key===qE.Space&&(e.preventDefault(),e.key=qE.Enter),(e.key===qE.ArrowUp||e.key===qE.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===qE.ArrowDown||e.key===qE.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===qE.Enter&&n.handleClick(t),null===(a=(r=n.props).handleOnKeyDown)||void 0===a||a.call(r,e)},n.renderTimes=function(){for(var t,a=[],i="string"===typeof n.props.format?n.props.format:"p",s=null!==(t=n.props.intervals)&&void 0!==t?t:r.defaultProps.intervals,o=n.props.selected||n.props.openToDate||eS(),l=sS(o),c=n.props.injectTimes&&n.props.injectTimes.sort((function(e,t){return e.getTime()-t.getTime()})),u=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}(o),h=u/s,d=0;d<h;d++){var f=Zy(l,d*s);if(a.push(f),c){var p=GS(l,f,d,s,c);a=a.concat(p)}}var g=a.reduce((function(e,t){return t.getTime()<=o.getTime()?t:e}),a[0]);return a.map((function(t){return e.createElement("li",{key:t.valueOf(),onClick:n.handleClick.bind(n,t),className:n.liClasses(t),ref:function(e){t===g&&(n.centerLi=e)},onKeyDown:function(e){n.handleOnKeyDown(e,t)},tabIndex:t===g?0:-1,role:"option","aria-selected":n.isSelectedTime(t)?"true":void 0,"aria-disabled":n.isDisabledTime(t)?"true":void 0},nS(t,i,n.props.locale))}))},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?e.createElement(e.Fragment,null):e.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},e.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return $E(r,t),Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t,n=this,a=this.state.height;return e.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(t=this.props.todayButton)&&void 0!==t?t:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),e.createElement("div",{className:"react-datepicker__time"},e.createElement("div",{className:"react-datepicker__time-box"},e.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},r}(e.Component),mT=function(t){function r(r){var n=t.call(this,r)||this;return n.YEAR_REFS=XE([],Array(n.props.yearItemNumber),!0).map((function(){return(0,e.createRef)()})),n.isDisabled=function(e){return _S(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return AS(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame((function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()}))},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,a,i,s,o=n.props,l=o.date,c=o.yearItemNumber;if(void 0!==l&&void 0!==c){var u=KS(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,t),e-u<0?n.updateFocusOnPaginate(c-(u-e)):e-u>=c?n.updateFocusOnPaginate(Math.abs(c-(e-u))):null===(s=null===(i=n.YEAR_REFS[e-u])||void 0===i?void 0:i.current)||void 0===s||s.focus())}},n.isSameDay=function(e,t){return vS(e,t)},n.isCurrentYear=function(e){return e===Ry(eS())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&pS(ib(eS(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&pS(ib(eS(),e),n.props.endDate)},n.isInRange=function(e){return DS(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,a=t.selectsEnd,i=t.selectsRange,s=t.startDate,o=t.endDate;return!(!(r||a||i)||!n.selectingDate())&&(r&&o?DS(e,n.selectingDate(),o):(a&&s||!(!i||!s||o))&&DS(e,s,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.startDate,i=r.selectsStart,s=ib(eS(),e);return pS(s,i?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.endDate,i=r.selectsEnd,s=r.selectsRange,o=ib(eS(),e);return pS(o,i||s?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,a=t.maxDate,i=t.excludeDates,s=t.includeDates,o=t.filterDate,l=cS(ib(n.props.date,e)),c=(r||a||i||s||o)&&RS(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!vS(l,cS(n.props.selected))&&vS(l,cS(n.props.preSelection))&&!c}},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(cS(ib(r,t)),e)},n.onYearKeyDown=function(e,t){var r,a,i=e.key,s=n.props,o=s.date,l=s.yearItemNumber,c=s.handleOnKeyDown;if(i!==qE.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(i){case qE.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,n.props.selected);break;case qE.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,Yy(n.props.preSelection,1));break;case qE.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,Gy(n.props.preSelection,1));break;case qE.ArrowUp:if(void 0===o||void 0===l||null==n.props.preSelection)break;var u=KS(o,l).startPeriod;if((f=t-(d=3))<u){var h=l%d;t>=u&&t<u+h?d=h:d+=h,f=t-d}n.handleYearNavigation(f,Gy(n.props.preSelection,d));break;case qE.ArrowDown:if(void 0===o||void 0===l||null==n.props.preSelection)break;var d,f,p=KS(o,l).endPeriod;if((f=t+(d=3))>p){h=l%d;t<=p&&t>p-h?d=h:d+=h,f=t+d}n.handleYearNavigation(f,Yy(n.props.preSelection,d))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,a=t.minDate,i=t.maxDate,s=t.selected,o=t.excludeDates,l=t.includeDates,c=t.filterDate,u=t.yearClassName;return Xm("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===u||void 0===u?void 0:u(ib(r,e)):void 0,{"react-datepicker__year-text--selected":s?e===Ry(s):void 0,"react-datepicker__year-text--disabled":(a||i||o||l||c)&&RS(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Ry(n.props.preSelection),r=RS(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return $E(r,t),r.prototype.render=function(){var t=this,r=[],n=this.props,a=n.date,i=n.yearItemNumber,s=n.onYearMouseEnter,o=n.onYearMouseLeave;if(void 0===a)return null;for(var l=KS(a,i),c=l.startPeriod,u=l.endPeriod,h=function(n){r.push(e.createElement("div",{ref:d.YEAR_REFS[n-c],onClick:function(e){t.onYearClick(e,n)},onKeyDown:function(e){ZS(e)&&(e.preventDefault(),e.key=qE.Enter),t.onYearKeyDown(e,n)},tabIndex:Number(d.getYearTabIndex(n)),className:d.getYearClassNames(n),onMouseEnter:d.props.usePointerEvent?void 0:function(e){return s(e,n)},onPointerEnter:d.props.usePointerEvent?function(e){return s(e,n)}:void 0,onMouseLeave:d.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerLeave:d.props.usePointerEvent?function(e){return o(e,n)}:void 0,key:n,"aria-current":d.isCurrentYear(n)?"date":void 0},d.getYearContent(n)))},d=this,f=c;f<=u;f++)h(f);return e.createElement("div",{className:"react-datepicker__year"},e.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},r}(e.Component);function vT(e,t,r,n){for(var a=[],i=0;i<2*t+1;i++){var s=e+t-i,o=!0;r&&(o=Ry(r)<=s),n&&o&&(o=Ry(n)>=s),o&&a.push(s)}return a}var wT=function(t){function r(r){var n=t.call(this,r)||this;n.renderOptions=function(){var t=n.props.year,r=n.state.yearsList.map((function(r){return e.createElement("div",{className:t===r?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:r,onClick:n.onChange.bind(n,r),"aria-selected":t===r?"true":void 0},t===r?e.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",r)})),a=n.props.minDate?Ry(n.props.minDate):null,i=n.props.maxDate?Ry(n.props.maxDate):null;return i&&n.state.yearsList.find((function(e){return e===i}))||r.unshift(e.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},e.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),a&&n.state.yearsList.find((function(e){return e===a}))||r.push(e.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},e.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),r},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map((function(t){return t+e}));n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,s=a||(i?10:5);return n.state={yearsList:vT(n.props.year,s,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,e.createRef)(),n}return $E(r,t),r.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,r=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},r.prototype.render=function(){var t=Xm({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return e.createElement(ZE,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(e.Component),yT=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t=r.props.minDate?Ry(r.props.minDate):1900,n=r.props.maxDate?Ry(r.props.maxDate):2100,a=[],i=t;i<=n;i++)a.push(e.createElement("option",{key:i,value:i},i));return a},r.onSelectChange=function(e){r.onChange(parseInt(e.target.value))},r.renderSelectMode=function(){return e.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){return e.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return r.toggleDropdown(e)}},e.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),e.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return e.createElement(wT,KE({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(e){r.setState({dropdownVisible:!r.state.dropdownVisible},(function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,e)}))},r.handleYearChange=function(e,t){var n;null===(n=r.onSelect)||void 0===n||n.call(r,e,t),r.setOpen()},r.onSelect=function(e,t){var n,a;null===(a=(n=r.props).onSelect)||void 0===a||a.call(n,e,t)},r.setOpen=function(){var e,t;null===(t=(e=r.props).setOpen)||void 0===t||t.call(e,!0)},r}return $E(r,t),r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode()}return e.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(e.Component),bT=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],ET=function(t){function r(n){var a=t.call(this,n)||this;return a.monthContainer=void 0,a.handleClickOutside=function(e){a.props.onClickOutside(e)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(e){var t,r;(function(e){var t=(e.className||"").split(/\s+/);return bT.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&(null===(r=(t=a.props).onDropdownFocus)||void 0===r||r.call(t,e))},a.getDateInView=function(){var e=a.props,t=e.preSelection,r=e.selected,n=e.openToDate,i=HS(a.props),s=zS(a.props),o=eS(),l=n||r||t;return l||(i&&Ww(o,i)?i:s&&eb(o,s)?s:o)},a.increaseMonth=function(){a.setState((function(e){return{date:Uy(e.date,1)}}),(function(){return a.handleMonthChange(a.state.date)}))},a.decreaseMonth=function(){a.setState((function(e){return{date:Vy(e.date,1)}}),(function(){return a.handleMonthChange(a.state.date)}))},a.handleDayClick=function(e,t,r){a.props.onSelect(e,t,r),a.props.setPreSelection&&a.props.setPreSelection(e)},a.handleDayMouseEnter=function(e){a.setState({selectingDate:e}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(e)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(e,t){a.setState({selectingDate:ib(eS(),t)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(e,t)},a.handleYearMouseLeave=function(e,t){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(e,t)},a.handleYearChange=function(e){var t,r,n,i;null===(r=(t=a.props).onYearChange)||void 0===r||r.call(t,e),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(e),null===(i=(n=a.props).setOpen)||void 0===i||i.call(n,!0)),a.props.setPreSelection&&a.props.setPreSelection(e)},a.getEnabledPreSelectionDateForMonth=function(e){if(!_S(e,a.props))return e;for(var t=lS(e),r=sb(fS(e),t),n=null,i=0;i<=r;i++){var s=Nw(t,i);if(!_S(s,a.props)){n=s;break}}return n},a.handleMonthChange=function(e){var t,r,n,i=null!==(t=a.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;a.handleCustomMonthChange(i),a.props.adjustDateOnChange&&(a.props.onSelect(i),null===(n=(r=a.props).setOpen)||void 0===n||n.call(r,!0)),a.props.setPreSelection&&a.props.setPreSelection(i)},a.handleCustomMonthChange=function(e){var t,r;null===(r=(t=a.props).onMonthChange)||void 0===r||r.call(t,e),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(e){a.handleYearChange(e),a.handleMonthChange(e)},a.changeYear=function(e){a.setState((function(t){return{date:ib(t.date,Number(e))}}),(function(){return a.handleYearChange(a.state.date)}))},a.changeMonth=function(e){a.setState((function(t){return{date:xy(t.date,Number(e))}}),(function(){return a.handleMonthChange(a.state.date)}))},a.changeMonthYear=function(e){a.setState((function(t){return{date:ib(xy(t.date,My(e)),Ry(e))}}),(function(){return a.handleMonthYearChange(a.state.date)}))},a.header=function(t){void 0===t&&(t=a.state.date);var r=oS(t,a.props.locale,a.props.calendarStartDay),n=[];return a.props.showWeekNumbers&&n.push(e.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map((function(t){var n=Nw(r,t),i=a.formatWeekday(n,a.props.locale),s=a.props.weekDayClassName?a.props.weekDayClassName(n):void 0;return e.createElement("div",{key:t,"aria-label":nS(n,"EEEE",a.props.locale),className:Xm("react-datepicker__day-name",s)},i)})))},a.formatWeekday=function(e,t){return a.props.formatWeekDay?function(e,t,r){return t(nS(e,"EEEE",r))}(e,a.props.formatWeekDay,t):a.props.useWeekdaysShort?function(e,t){return nS(e,"EEE",t)}(e,t):function(e,t){return nS(e,"EEEEEE",t)}(e,t)},a.decreaseYear=function(){a.setState((function(e){var t;return{date:Gy(e.date,a.props.showYearPicker?null!==(t=a.props.yearItemNumber)&&void 0!==t?t:r.defaultProps.yearItemNumber:1)}}),(function(){return a.handleYearChange(a.state.date)}))},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var t,n,i;if(!a.props.renderCustomHeader){var s,o=null!==(t=a.props.monthsShown)&&void 0!==t?t:r.defaultProps.monthsShown,l=a.props.showPreviousMonths?o-1:0,c=null!==(n=a.props.monthSelectedIn)&&void 0!==n?n:l,u=Vy(a.state.date,c);switch(!0){case a.props.showMonthYearPicker:s=VS(a.state.date,a.props);break;case a.props.showYearPicker:s=function(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.yearItemNumber,i=void 0===a?12:a,s=KS(cS(Gy(e,i)),i).endPeriod,o=n&&Ry(n);return o&&o>s||!1}(a.state.date,a.props);break;case a.props.showQuarterYearPicker:s=function(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.includeDates,i=zy(Kw(e),1);return n&&Wy(n,i)>0||a&&a.every((function(e){return Wy(e,i)>0}))||!1}(a.state.date,a.props);break;default:s=BS(u,a.props)}if(((null!==(i=a.props.forceShowMonthNavigation)&&void 0!==i?i:r.defaultProps.forceShowMonthNavigation)||a.props.showDisabledMonthNavigation||!s)&&!a.props.showTimeSelectOnly){var h=["react-datepicker__navigation","react-datepicker__navigation--previous"],d=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(d=a.decreaseYear),s&&a.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--previous--disabled"),d=void 0);var f=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,p=a.props,g=p.previousMonthButtonLabel,m=void 0===g?r.defaultProps.previousMonthButtonLabel:g,v=p.previousYearButtonLabel,w=void 0===v?r.defaultProps.previousYearButtonLabel:v,y=a.props,b=y.previousMonthAriaLabel,E=void 0===b?"string"===typeof m?m:"Previous Month":b,S=y.previousYearAriaLabel,T=void 0===S?"string"===typeof w?w:"Previous Year":S;return e.createElement("button",{type:"button",className:h.join(" "),onClick:d,onKeyDown:a.props.handleOnKeyDown,"aria-label":f?T:E},e.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},f?w:m))}}},a.increaseYear=function(){a.setState((function(e){var t;return{date:Yy(e.date,a.props.showYearPicker?null!==(t=a.props.yearItemNumber)&&void 0!==t?t:r.defaultProps.yearItemNumber:1)}}),(function(){return a.handleYearChange(a.state.date)}))},a.renderNextButton=function(){var t;if(!a.props.renderCustomHeader){var n;switch(!0){case a.props.showMonthYearPicker:n=jS(a.state.date,a.props);break;case a.props.showYearPicker:n=function(e,t){var r=void 0===t?{}:t,n=r.maxDate,a=r.yearItemNumber,i=void 0===a?12:a,s=KS(Yy(e,i),i).startPeriod,o=n&&Ry(n);return o&&o<s||!1}(a.state.date,a.props);break;case a.props.showQuarterYearPicker:n=function(e,t){var r=void 0===t?{}:t,n=r.maxDate,a=r.includeDates,i=Hy(Oy(e),1);return n&&Wy(i,n)>0||a&&a.every((function(e){return Wy(i,e)>0}))||!1}(a.state.date,a.props);break;default:n=US(a.state.date,a.props)}if(((null!==(t=a.props.forceShowMonthNavigation)&&void 0!==t?t:r.defaultProps.forceShowMonthNavigation)||a.props.showDisabledMonthNavigation||!n)&&!a.props.showTimeSelectOnly){var i=["react-datepicker__navigation","react-datepicker__navigation--next"];a.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var s=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(s=a.increaseYear),n&&a.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),s=void 0);var o=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,l=a.props,c=l.nextMonthButtonLabel,u=void 0===c?r.defaultProps.nextMonthButtonLabel:c,h=l.nextYearButtonLabel,d=void 0===h?r.defaultProps.nextYearButtonLabel:h,f=a.props,p=f.nextMonthAriaLabel,g=void 0===p?"string"===typeof u?u:"Next Month":p,m=f.nextYearAriaLabel,v=void 0===m?"string"===typeof d?d:"Next Year":m;return e.createElement("button",{type:"button",className:i.join(" "),onClick:s,onKeyDown:a.props.handleOnKeyDown,"aria-label":o?v:g},e.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},o?d:u))}}},a.renderCurrentMonth=function(t){void 0===t&&(t=a.state.date);var r=["react-datepicker__current-month"];return a.props.showYearDropdown&&r.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&r.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&r.push("react-datepicker__current-month--hasMonthYearDropdown"),e.createElement("h2",{className:r.join(" ")},nS(t,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(t){if(void 0===t&&(t=!1),a.props.showYearDropdown&&!t)return e.createElement(yT,KE({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Ry(a.state.date)}))},a.renderMonthDropdown=function(t){if(void 0===t&&(t=!1),a.props.showMonthDropdown&&!t)return e.createElement(hT,KE({},r.defaultProps,a.props,{month:My(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(t){if(void 0===t&&(t=!1),a.props.showMonthYearDropdown&&!t)return e.createElement(pT,KE({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(e){a.props.onSelect(hS(),e),a.props.setPreSelection&&a.props.setPreSelection(hS())},a.renderTodayButton=function(){if(a.props.todayButton&&!a.props.showTimeSelectOnly)return e.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDefaultHeader=function(t){var r=t.monthDate,n=t.i;return e.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(r),e.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(0!==n),a.renderMonthYearDropdown(0!==n),a.renderYearDropdown(0!==n)),e.createElement("div",{className:"react-datepicker__day-names"},a.header(r)))},a.renderCustomHeader=function(t){var r,n,i=t.monthDate,s=t.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var o=BS(a.state.date,a.props),l=US(a.state.date,a.props),c=VS(a.state.date,a.props),u=jS(a.state.date,a.props),h=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return e.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},null===(n=(r=a.props).renderCustomHeader)||void 0===n?void 0:n.call(r,KE(KE({},a.state),{customHeaderCount:s,monthDate:i,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:o,nextMonthButtonDisabled:l,prevYearButtonDisabled:c,nextYearButtonDisabled:u})),h&&e.createElement("div",{className:"react-datepicker__day-names"},a.header(i)))},a.renderYearHeader=function(t){var n=t.monthDate,i=a.props,s=i.showYearPicker,o=i.yearItemNumber,l=KS(n,void 0===o?r.defaultProps.yearItemNumber:o),c=l.startPeriod,u=l.endPeriod;return e.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(c," - ").concat(u):Ry(n))},a.renderHeader=function(e){var t=e.monthDate,r=e.i,n={monthDate:t,i:void 0===r?0:r};switch(!0){case void 0!==a.props.renderCustomHeader:return a.renderCustomHeader(n);case a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker:return a.renderYearHeader(n);default:return a.renderDefaultHeader(n)}},a.renderMonths=function(){var t,n;if(!a.props.showTimeSelectOnly&&!a.props.showYearPicker){for(var i=[],s=null!==(t=a.props.monthsShown)&&void 0!==t?t:r.defaultProps.monthsShown,o=a.props.showPreviousMonths?s-1:0,l=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Yy(a.state.date,o):Vy(a.state.date,o),c=null!==(n=a.props.monthSelectedIn)&&void 0!==n?n:o,u=0;u<s;++u){var h=u-c+o,d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Yy(l,h):Uy(l,h),f="month-".concat(u),p=u<s-1,g=u>0;i.push(e.createElement("div",{key:f,ref:function(e){a.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:d,i:u}),e.createElement(cT,KE({},r.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:d,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:u,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:g}))))}return i}},a.renderYears=function(){if(!a.props.showTimeSelectOnly)return a.props.showYearPicker?e.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),e.createElement(mT,KE({},r.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave}))):void 0},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return e.createElement(gT,KE({},r.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var t=a.props.selected?new Date(a.props.selected):void 0,n=t&&rS(t)&&Boolean(a.props.selected)?"".concat($S(t.getHours()),":").concat($S(t.getMinutes())):"";if(a.props.showTimeInput)return e.createElement(eT,KE({},r.defaultProps,a.props,{date:t,timeString:n,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var t,n,i=KS(a.state.date,null!==(t=a.props.yearItemNumber)&&void 0!==t?t:r.defaultProps.yearItemNumber),s=i.startPeriod,o=i.endPeriod;return n=a.props.showYearPicker?"".concat(s," - ").concat(o):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Ry(a.state.date):"".concat(TS(My(a.state.date),a.props.locale)," ").concat(Ry(a.state.date)),e.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&n)},a.renderChildren=function(){if(a.props.children)return e.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=(0,e.createRef)(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return $E(r,t),Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},r.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||vS(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!vS(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var r=!gS(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return r&&t.handleCustomMonthChange(t.state.date)}))}},r.prototype.render=function(){var t=this.props.container||QE;return e.createElement(ZE,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},e.createElement("div",{style:{display:"contents"},ref:this.containerRef},e.createElement(t,{className:Xm("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r}(e.Component),ST=function(t){var r=t.icon,n=t.className,a=void 0===n?"":n,i=t.onClick,s="react-datepicker__calendar-icon";if("string"===typeof r)return e.createElement("i",{className:"".concat(s," ").concat(r," ").concat(a),"aria-hidden":"true",onClick:i});if(e.isValidElement(r)){var o=r;return e.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(a),onClick:function(e){"function"===typeof o.props.onClick&&o.props.onClick(e),"function"===typeof i&&i(e)}})}return e.createElement("svg",{className:"".concat(s," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},e.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},TT=function(e){function t(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return $E(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return xb.createPortal(this.props.children,this.el)},t}(e.Component),CT=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},_T=function(t){function r(r){var n=t.call(this,r)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(CT)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,e.createRef)(),n}return $E(r,t),r.prototype.render=function(){var t;return(null!==(t=this.props.enableTabLoop)&&void 0!==t?t:r.defaultProps.enableTabLoop)?e.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},e.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,e.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(e.Component);var AT=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return $E(r,t),Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t=this.props,n=t.className,a=t.wrapperClassName,i=t.hidePopper,s=void 0===i?r.defaultProps.hidePopper:i,o=t.popperComponent,l=t.targetComponent,c=t.enableTabLoop,u=t.popperOnKeyDown,h=t.portalId,d=t.portalHost,f=t.popperProps,p=t.showArrow,g=void 0;if(!s){var m=Xm("react-datepicker-popper",n);g=e.createElement(_T,{enableTabLoop:c},e.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:m,"data-placement":f.placement,onKeyDown:u},o,p&&e.createElement(UE,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=(0,e.createElement)(this.props.popperContainer,{},g)),h&&!s&&(g=e.createElement(TT,{portalId:h,portalHost:d},g));var v=Xm("react-datepicker-wrapper",a);return e.createElement(e.Fragment,null,e.createElement("div",{ref:f.refs.setReference,className:v},l),g)},r}(e.Component),IT=function(t){return function(r){var n,a,i,s="boolean"!==typeof r.hidePopper||r.hidePopper,o=(0,e.useRef)(null),l=YE(KE({open:!s,whileElementsMounted:dE,placement:r.popperPlacement,middleware:XE([(a={padding:15},{...pE(a),options:[a,i]}),TE(10),CE({element:o})],null!==(n=r.popperModifiers)&&void 0!==n?n:[],!0)},r.popperProps)),c=KE(KE({},r),{hidePopper:s,popperProps:KE(KE({},l),{arrowRef:o})});return e.createElement(t,KE({},c))}}(AT),kT="react-datepicker-ignore-onclickoutside";var NT="Date input not valid.",xT=function(t){function r(n){var a=t.call(this,n)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:eS()},a.modifyHolidays=function(){var e;return null===(e=a.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var r=new Date(t.date);return rS(r)?XE(XE([],e,!0),[KE(KE({},t),{date:r})],!1):e}),[])},a.calcInitialState=function(){var e,t=a.getPreSelection(),r=HS(a.props),n=zS(a.props),i=r&&Ww(t,sS(r))?r:n&&eb(t,dS(n))?n:t;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=a.props.selectsRange?a.props.startDate:a.props.selected)&&void 0!==e?e:i,highlightDates:WS(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.resetHiddenStatus=function(){a.setState(KE(KE({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(KE(KE({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var e,t;null===(t=null===(e=a.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},a.setBlur=function(){var e,t;null===(t=null===(e=a.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame((function(){a.setBlur()}))},a.setOpen=function(e,t){void 0===t&&(t=!1),a.setState({open:e,preSelection:e&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:RT},(function(){e||a.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&a.deferBlur(),a.setState({inputValue:null})}))}))},a.inputOk=function(){return Hw(a.state.preSelection)},a.isCalendarOpen=function(){return void 0===a.props.open?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(e){var t,r,n=a.state.wasHidden,i=!n||a.state.open;n&&a.resetHiddenStatus(),a.state.preventFocus||(null===(r=(t=a.props).onFocus)||void 0===r||r.call(t,e),!i||a.props.preventOpenOnFocus||a.props.readOnly||a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},(function(){a.preventFocusTimeout=setTimeout((function(){a.setFocus(),a.setState({preventFocus:!1})}))}))},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout((function(){return a.setFocus()}),1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.handleBlur=function(e){var t,r;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&(null===(r=(t=a.props).onBlur)||void 0===r||r.call(t,e)),a.state.open&&!1===a.props.open&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(e){var t,r;a.props.inline||a.setOpen(!1),null===(r=(t=a.props).onClickOutside)||void 0===r||r.call(t,e),a.props.withPortal&&e.preventDefault()},a.handleChange=function(){for(var e,t,n,i,s,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var c=o[0];if(!a.props.onChangeRaw||(a.props.onChangeRaw.apply(a,o),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){a.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:DT});var u=a.props,h=u.selectsRange,d=u.startDate,f=u.endDate,p=null!==(e=a.props.dateFormat)&&void 0!==e?e:r.defaultProps.dateFormat,g=null!==(t=a.props.strictParsing)&&void 0!==t?t:r.defaultProps.strictParsing,m=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(h){var v=m.split("-",2).map((function(e){return e.trim()})),w=v[0],y=v[1],b=tS(null!==w&&void 0!==w?w:"",p,a.props.locale,g),E=tS(null!==y&&void 0!==y?y:"",p,a.props.locale,g),S=(null===d||void 0===d?void 0:d.getTime())!==(null===b||void 0===b?void 0:b.getTime()),T=(null===f||void 0===f?void 0:f.getTime())!==(null===E||void 0===E?void 0:E.getTime());if(!S&&!T)return;if(b&&_S(b,a.props))return;if(E&&_S(E,a.props))return;null===(i=(n=a.props).onChange)||void 0===i||i.call(n,[b,E],c)}else{var C=tS(m,p,a.props.locale,g,null!==(s=a.props.selected)&&void 0!==s?s:void 0);!C&&m||a.setSelected(C,c,!0)}}},a.handleSelect=function(e,t,r){if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&a.sendFocusBackToInput(),a.props.onChangeRaw&&a.props.onChangeRaw(t),a.setSelected(e,t,!1,r),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(e);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var n=a.props,i=n.startDate,s=n.endDate;!i||s||!a.props.swapRange&&QS(e,i)||a.setOpen(!1)}},a.setSelected=function(e,t,r,n){var i,s,o=e;if(a.props.showYearPicker){if(null!==o&&RS(Ry(o),a.props))return}else if(a.props.showMonthYearPicker){if(null!==o&&IS(o,a.props))return}else if(null!==o&&_S(o,a.props))return;var l=a.props,c=l.onChange,u=l.selectsRange,h=l.startDate,d=l.endDate,f=l.selectsMultiple,p=l.selectedDates,g=l.minTime,m=l.swapRange;if(!wS(a.props.selected,o)||a.props.allowSameDay||u||f)if(null!==o&&(!a.props.selected||r&&(a.props.showTimeSelect||a.props.showTimeSelectOnly||a.props.showTimeInput)||(o=iS(o,{hour:Ly(a.props.selected),minute:Fy(a.props.selected),second:By(a.props.selected)})),r||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly||g&&(o=iS(o,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),a.props.inline||a.setState({preSelection:o}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:n})),u){var v=h&&!d,w=h&&d;!h&&!d?null===c||void 0===c||c([o,null],t):v&&(null===o?null===c||void 0===c||c([null,null],t):QS(o,h)?m?null===c||void 0===c||c([o,h],t):null===c||void 0===c||c([o,null],t):null===c||void 0===c||c([h,o],t)),w&&(null===c||void 0===c||c([o,null],t))}else if(f){if(null!==o)if(null===p||void 0===p?void 0:p.length)if(p.some((function(e){return vS(e,o)}))){var y=p.filter((function(e){return!vS(e,o)}));null===c||void 0===c||c(y,t)}else null===c||void 0===c||c(XE(XE([],p,!0),[o],!1),t);else null===c||void 0===c||c([o],t)}else null===c||void 0===c||c(o,t);r||(null===(s=(i=a.props).onSelect)||void 0===s||s.call(i,o,t),a.setState({inputValue:null}))},a.setPreSelection=function(e){var t=Hw(a.props.minDate),r=Hw(a.props.maxDate),n=!0;if(e){var i=sS(e);if(t&&r)n=yS(e,a.props.minDate,a.props.maxDate);else if(t){var s=sS(a.props.minDate);n=eb(e,s)||wS(i,s)}else if(r){var o=dS(a.props.maxDate);n=Ww(e,o)||wS(i,o)}}n&&a.setState({preSelection:e})},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(e){var t,r;if(!a.props.selectsRange&&!a.props.selectsMultiple){var n=a.props.selected?a.props.selected:a.getPreSelection(),i=a.props.selected?e:iS(n,{hour:Ly(e),minute:Fy(e)});a.setState({preSelection:i}),null===(r=(t=a.props).onChange)||void 0===r||r.call(t,i),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var e,t;a.props.disabled||a.props.readOnly||a.setOpen(!0),null===(t=(e=a.props).onInputClick)||void 0===t||t.call(e)},a.onInputKeyDown=function(e){var t,r,n,i,s,o;null===(r=(t=a.props).onKeyDown)||void 0===r||r.call(t,e);var l=e.key;if(a.state.open||a.props.inline||a.props.preventOpenOnFocus){if(a.state.open){if(l===qE.ArrowDown||l===qE.ArrowUp){e.preventDefault();var c=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',u=(null===(i=a.calendar)||void 0===i?void 0:i.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(c);return void(u instanceof HTMLElement&&u.focus({preventScroll:!0}))}var h=eS(a.state.preSelection);l===qE.Enter?(e.preventDefault(),e.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===RT?(a.handleSelect(h,e),!a.props.shouldCloseOnSelect&&a.setPreSelection(h)):a.setOpen(!1)):l===qE.Escape?(e.preventDefault(),e.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):l===qE.Tab&&a.setOpen(!1),a.inputOk()||null===(o=(s=a.props).onInputError)||void 0===o||o.call(s,{code:1,msg:NT})}}else l!==qE.ArrowDown&&l!==qE.ArrowUp&&l!==qE.Enter||null===(n=a.onInputClick)||void 0===n||n.call(a)},a.onPortalKeyDown=function(e){e.key===qE.Escape&&(e.preventDefault(),a.setState({preventFocus:!0},(function(){a.setOpen(!1),setTimeout((function(){a.setFocus(),a.setState({preventFocus:!1})}))})))},a.onDayKeyDown=function(e){var t,r,n,i,s,o,l=a.props,c=l.minDate,u=l.maxDate,h=l.disabledKeyboardNavigation,d=l.showWeekPicker,f=l.shouldCloseOnSelect,p=l.locale,g=l.calendarStartDay,m=l.adjustDateOnChange,v=l.inline;if(null===(r=(t=a.props).onKeyDown)||void 0===r||r.call(t,e),!h){var w=e.key,y=e.shiftKey,b=eS(a.state.preSelection),E=function(e,t){var r=t;switch(e){case qE.ArrowRight:r=d?nb(t,1):Nw(t,1);break;case qE.ArrowLeft:r=d?lb(t,1):cb(t,1);break;case qE.ArrowUp:r=lb(t,1);break;case qE.ArrowDown:r=nb(t,1);break;case qE.PageUp:r=y?Gy(t,1):Vy(t,1);break;case qE.PageDown:r=y?Yy(t,1):Uy(t,1);break;case qE.Home:r=oS(t,p,g);break;case qE.End:r=function(e){return Ey(e)}(t)}return r};if(w===qE.Enter)return e.preventDefault(),a.handleSelect(b,e),void(!f&&a.setPreSelection(b));if(w===qE.Escape)return e.preventDefault(),a.setOpen(!1),void(a.inputOk()||null===(i=(n=a.props).onInputError)||void 0===i||i.call(n,{code:1,msg:NT}));var S=null;switch(w){case qE.ArrowLeft:case qE.ArrowRight:case qE.ArrowUp:case qE.ArrowDown:case qE.PageUp:case qE.PageDown:case qE.Home:case qE.End:S=function(e,t){for(var r=e,n=!1,i=0,s=E(e,t);!n;){if(i>=40){s=t;break}c&&s<c&&(r=qE.ArrowRight,s=_S(c,a.props)?E(r,s):c),u&&s>u&&(r=qE.ArrowLeft,s=_S(u,a.props)?E(r,s):u),_S(s,a.props)?(r!==qE.PageUp&&r!==qE.Home||(r=qE.ArrowRight),r!==qE.PageDown&&r!==qE.End||(r=qE.ArrowLeft),s=E(r,s)):n=!0,i++}return s}(w,b)}if(S){if(e.preventDefault(),a.setState({lastPreSelectChange:RT}),m&&a.setSelected(S),a.setPreSelection(S),v){var T=My(b),C=My(S),_=Ry(b),A=Ry(S);T!==C||_!==A?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}else null===(o=(s=a.props).onInputError)||void 0===o||o.call(s,{code:1,msg:NT})}},a.onPopperKeyDown=function(e){e.key===qE.Escape&&(e.preventDefault(),a.sendFocusBackToInput())},a.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),a.sendFocusBackToInput();var t=a.props,r=t.selectsRange,n=t.onChange;r?null===n||void 0===n||n([null,null],e):null===n||void 0===n||n(null,e),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(e){"boolean"===typeof a.props.closeOnScroll&&a.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||a.setOpen(!1):"function"===typeof a.props.closeOnScroll&&a.props.closeOnScroll(e)&&a.setOpen(!1)},a.renderCalendar=function(){var t,n;return a.props.inline||a.isCalendarOpen()?e.createElement(ET,KE({showMonthYearDropdown:void 0,ref:function(e){a.calendar=e}},a.props,a.state,{setOpen:a.setOpen,dateFormat:null!==(t=a.props.dateFormatCalendar)&&void 0!==t?t:r.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:YS(a.modifyHolidays()),outsideClickIgnoreClass:kT,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:null!==(n=a.props.dropdownMode)&&void 0!==n?n:r.defaultProps.dropdownMode}),a.props.children):null},a.renderAriaLiveRegion=function(){var t,n=a.props,i=n.dateFormat,s=void 0===i?r.defaultProps.dateFormat:i,o=n.locale,l=a.props.showTimeInput||a.props.showTimeSelect?"PPPPp":"PPPP";return t=a.props.selectsRange?"Selected start date: ".concat(aS(a.props.startDate,{dateFormat:l,locale:o}),". ").concat(a.props.endDate?"End date: "+aS(a.props.endDate,{dateFormat:l,locale:o}):""):a.props.showTimeSelectOnly?"Selected time: ".concat(aS(a.props.selected,{dateFormat:s,locale:o})):a.props.showYearPicker?"Selected year: ".concat(aS(a.props.selected,{dateFormat:"yyyy",locale:o})):a.props.showMonthYearPicker?"Selected month: ".concat(aS(a.props.selected,{dateFormat:"MMMM yyyy",locale:o})):a.props.showQuarterYearPicker?"Selected quarter: ".concat(aS(a.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):"Selected date: ".concat(aS(a.props.selected,{dateFormat:l,locale:o})),e.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t)},a.renderDateInput=function(){var t,n,i,s=Xm(a.props.className,((t={})[kT]=a.state.open,t)),o=a.props.customInput||e.createElement("input",{type:"text"}),l=a.props.customInputRef||"ref",c=a.props,u=c.dateFormat,h=void 0===u?r.defaultProps.dateFormat:u,d=c.locale,f="string"===typeof a.props.value?a.props.value:"string"===typeof a.state.inputValue?a.state.inputValue:a.props.selectsRange?function(e,t,r){if(!e)return"";var n=aS(e,r),a=t?aS(t,r):"";return"".concat(n," - ").concat(a)}(a.props.startDate,a.props.endDate,{dateFormat:h,locale:d}):a.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var r=e[0]?aS(e[0],t):"";if(1===e.length)return r;if(2===e.length&&e[1]){var n=aS(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}(null!==(i=a.props.selectedDates)&&void 0!==i?i:[],{dateFormat:h,locale:d}):aS(a.props.selected,{dateFormat:h,locale:d});return(0,e.cloneElement)(o,((n={})[l]=function(e){a.input=e},n.value=f,n.onBlur=a.handleBlur,n.onChange=a.handleChange,n.onClick=a.onInputClick,n.onFocus=a.handleFocus,n.onKeyDown=a.onInputKeyDown,n.id=a.props.id,n.name=a.props.name,n.form=a.props.form,n.autoFocus=a.props.autoFocus,n.placeholder=a.props.placeholderText,n.disabled=a.props.disabled,n.autoComplete=a.props.autoComplete,n.className=Xm(o.props.className,s),n.title=a.props.title,n.readOnly=a.props.readOnly,n.required=a.props.required,n.tabIndex=a.props.tabIndex,n["aria-describedby"]=a.props.ariaDescribedBy,n["aria-invalid"]=a.props.ariaInvalid,n["aria-labelledby"]=a.props.ariaLabelledBy,n["aria-required"]=a.props.ariaRequired,n))},a.renderClearButton=function(){var t=a.props,r=t.isClearable,n=t.disabled,i=t.selected,s=t.startDate,o=t.endDate,l=t.clearButtonTitle,c=t.clearButtonClassName,u=void 0===c?"":c,h=t.ariaLabelClose,d=void 0===h?"Close":h,f=t.selectedDates;return r&&(null!=i||null!=s||null!=o||(null===f||void 0===f?void 0:f.length))?e.createElement("button",{type:"button",className:Xm("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":d,onClick:a.onClearClick,title:l,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return $E(r,t),Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(e,t){var r,n,a,i,s,o;e.inline&&(s=e.selected,o=this.props.selected,s&&o?My(s)!==My(o)||Ry(s)!==Ry(o):s!==o)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:WS(this.props.highlightDates)}),t.focused||wS(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(n=(r=this.props).onCalendarOpen)||void 0===n||n.call(r)),!0===t.open&&!1===this.state.open&&(null===(i=(a=this.props).onCalendarClose)||void 0===i||i.call(a)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,n=t.icon,a=t.calendarIconClassname,i=t.calendarIconClassName,s=t.toggleCalendarOnIconClick,o=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),e.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&e.createElement(ST,KE({icon:n,className:Xm(i,!i&&a,o&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?e.createElement(_T,{enableTabLoop:this.props.enableTabLoop},e.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=e.createElement(TT,KE({portalId:this.props.portalId},this.props),r)),e.createElement("div",null,this.renderInputContainer(),r)}return e.createElement(IT,KE({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(e.Component),DT="input",RT="navigate";const MT={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yar\u0131m dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yakla\u015f\u0131k 1 saat",other:"yakla\u015f\u0131k {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 g\xfcn",other:"{{count}} g\xfcn"},aboutXWeeks:{one:"yakla\u015f\u0131k 1 hafta",other:"yakla\u015f\u0131k {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yakla\u015f\u0131k 1 ay",other:"yakla\u015f\u0131k {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yakla\u015f\u0131k 1 y\u0131l",other:"yakla\u015f\u0131k {{count}} y\u0131l"},xYears:{one:"1 y\u0131l",other:"{{count}} y\u0131l"},overXYears:{one:"1 y\u0131ldan fazla",other:"{{count}} y\u0131ldan fazla"},almostXYears:{one:"neredeyse 1 y\u0131l",other:"neredeyse {{count}} y\u0131l"}},OT={date:dv({formats:{full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},defaultWidth:"full"}),time:dv({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:dv({formats:{full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},PT={lastWeek:"'ge\xe7en hafta' eeee 'saat' p",yesterday:"'d\xfcn saat' p",today:"'bug\xfcn saat' p",tomorrow:"'yar\u0131n saat' p",nextWeek:"eeee 'saat' p",other:"P"},LT={ordinalNumber:(e,t)=>Number(e)+".",era:gv({values:{narrow:["M\xd6","MS"],abbreviated:["M\xd6","MS"],wide:["Milattan \xd6nce","Milattan Sonra"]},defaultWidth:"wide"}),quarter:gv({values:{narrow:["1","2","3","4"],abbreviated:["1\xc7","2\xc7","3\xc7","4\xc7"],wide:["\u0130lk \xe7eyrek","\u0130kinci \xc7eyrek","\xdc\xe7\xfcnc\xfc \xe7eyrek","Son \xe7eyrek"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:gv({values:{narrow:["O","\u015e","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],wide:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"]},defaultWidth:"wide"}),day:gv({values:{narrow:["P","P","S","\xc7","P","C","C"],short:["Pz","Pt","Sa","\xc7a","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"]},defaultWidth:"wide"}),dayPeriod:gv({values:{narrow:{am:"\xf6\xf6",pm:"\xf6s",midnight:"gy",noon:"\xf6",morning:"sa",afternoon:"\xf6s",evening:"ak",night:"ge"},abbreviated:{am:"\xd6\xd6",pm:"\xd6S",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011fle",morning:"sabah",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015fam",night:"gece"},wide:{am:"\xd6.\xd6.",pm:"\xd6.S.",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011fle",morning:"sabah",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015fam",night:"gece"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\xf6\xf6",pm:"\xf6s",midnight:"gy",noon:"\xf6",morning:"sa",afternoon:"\xf6s",evening:"ak",night:"ge"},abbreviated:{am:"\xd6\xd6",pm:"\xd6S",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011flen",morning:"sabahleyin",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015famleyin",night:"geceleyin"},wide:{am:"\xf6.\xf6.",pm:"\xf6.s.",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011flen",morning:"sabahleyin",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015famleyin",night:"geceleyin"}},defaultFormattingWidth:"wide"})},FT={ordinalNumber:wv({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:vv({matchPatterns:{narrow:/^(m\xf6|ms)/i,abbreviated:/^(m\xf6|ms)/i,wide:/^(milattan \xf6nce|milattan sonra)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(^m\xf6|^milattan \xf6nce)/i,/(^ms|^milattan sonra)/i]},defaultParseWidth:"any"}),quarter:vv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234]\xe7/i,wide:/^((i|\u0130)lk|(i|\u0130)kinci|\xfc\xe7\xfcnc\xfc|son) \xe7eyrek/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1\xe7/i,/2\xe7/i,/3\xe7/i,/4\xe7/i],wide:[/^(i|\u0130)lk \xe7eyrek/i,/(i|\u0130)kinci \xe7eyrek/i,/\xfc\xe7\xfcnc\xfc \xe7eyrek/i,/son \xe7eyrek/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:vv({matchPatterns:{narrow:/^[o\u015fmnhtaek]/i,abbreviated:/^(oca|\u015fub|mar|nis|may|haz|tem|a\u011fu|eyl|eki|kas|ara)/i,wide:/^(ocak|\u015fubat|mart|nisan|may\u0131s|haziran|temmuz|a\u011fustos|eyl\xfcl|ekim|kas\u0131m|aral\u0131k)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^o/i,/^\u015f/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^\u015f/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^a\u011f/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},defaultParseWidth:"any"}),day:vv({matchPatterns:{narrow:/^[ps\xe7c]/i,short:/^(pz|pt|sa|\xe7a|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|\xe7ar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|sal\u0131|\xe7ar\u015famba|per\u015fembe|cuma(?!rtesi)|cumartesi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^p/i,/^p/i,/^s/i,/^\xe7/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^\xe7a/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^sal\u0131/i,/^\xe7ar\u015famba/i,/^per\u015fembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},defaultParseWidth:"any"}),dayPeriod:vv({matchPatterns:{narrow:/^(\xf6\xf6|\xf6s|gy|\xf6|sa|\xf6s|ak|ge)/i,any:/^(\xf6\.?\s?[\xf6s]\.?|\xf6\u011fleden sonra|gece yar\u0131s\u0131|\xf6\u011fle|(sabah|\xf6\u011f|ak\u015fam|gece)(leyin))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^\xf6\.?\xf6\.?/i,pm:/^\xf6\.?s\.?/i,midnight:/^(gy|gece yar\u0131s\u0131)/i,noon:/^\xf6\u011f/i,morning:/^sa/i,afternoon:/^\xf6\u011fleden sonra/i,evening:/^ak/i,night:/^ge/i}},defaultParseWidth:"any"})},BT={code:"tr",formatDistance:(e,t,r)=>{let n;const a=MT[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?n+" sonra":n+" \xf6nce":n},formatLong:OT,formatRelative:(e,t,r,n)=>PT[e],localize:LT,match:FT,options:{weekStartsOn:1,firstWeekContainsDate:1}},UT=BT;function VT(){const[t,r]=(0,e.useState)(""),[n,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),h=ee();return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,zm.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t&&o&&c&&i)try{await Lm(Rg(jm,"events"),{title:t,description:n,location:i,date:Vo.fromDate(o),time:Vo.fromDate(c)}),alert("Etkinlik ba\u015far\u0131yla olu\u015fturuldu!"),h("/events")}catch(r){console.error("Etkinlik olu\u015fturma hatas\u0131:",r),alert("Etkinlik olu\u015fturulamad\u0131.")}else alert("L\xfctfen t\xfcm gerekli alanlar\u0131 doldurun.")},className:"bg-white shadow-xl rounded-3xl p-8 max-w-md w-full space-y-6 border border-gray-200",children:[(0,zm.jsx)("div",{className:"flex justify-center mb-2",children:(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim Kurumlar\u0131",className:"h-20 object-contain"})}),(0,zm.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-800",children:"\ud83d\udcc5 Etkinlik Olu\u015ftur"}),(0,zm.jsx)("input",{type:"text",placeholder:"Etkinlik Ba\u015fl\u0131\u011f\u0131",value:t,onChange:e=>r(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0}),(0,zm.jsx)("textarea",{placeholder:"A\xe7\u0131klama",value:n,onChange:e=>a(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",rows:"3"}),(0,zm.jsxs)("div",{className:"w-full",children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm mb-1",children:"\ud83d\udcc5 Tarih"}),(0,zm.jsx)(xT,{selected:o,onChange:e=>l(e),locale:"tr",dateFormat:"dd/MM/yyyy",placeholderText:"Tarih se\xe7in",className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,zm.jsxs)("div",{className:"w-full",children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm mb-1 mt-4",children:"\ud83d\udd52 Saat"}),(0,zm.jsx)(xT,{selected:c,onChange:e=>u(e),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Saat",locale:"tr",dateFormat:"HH:mm",placeholderText:"Saat se\xe7in",className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,zm.jsx)("input",{type:"text",placeholder:"\ud83d\udccd Adres",value:i,onChange:e=>s(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0}),(0,zm.jsx)("button",{type:"submit",className:"w-full bg-amber-500 text-white text-lg py-4 rounded-xl font-semibold hover:bg-amber-600 transition duration-300",children:"\u2705 Olu\u015ftur"}),(0,zm.jsx)("button",{type:"button",onClick:()=>h("/dashboard"),className:"w-full mt-3 bg-gray-200 text-gray-800 text-lg py-3 rounded-xl font-medium hover:bg-gray-300 transition duration-300",children:"\u274c Vazge\xe7"})]})})}bS("tr",UT);var jT,HT=r(970);function zT(e){return e&&e.seconds?new Date(1e3*e.seconds).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}):"Hen\xfcz giri\u015f yap\u0131lmad\u0131"}function WT(e){return e&&e.seconds?new Date(1e3*e.seconds).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"}):"Hen\xfcz giri\u015f yap\u0131lmad\u0131"}function YT(){const t=ee(),[r,n]=(0,e.useState)([]),[a,i]=(0,e.useState)(""),s=Hs(),[o,l]=(0,e.useState)({name:"",surname:"",phone:"",school:"",reference:""}),[c,u]=(0,e.useState)({phone:"",name:""});(0,e.useEffect)((()=>{(async()=>{const e=(await Mm(Rg(jm,"events"))).docs.map((e=>({id:e.id,...e.data()})));n(e)})();const e=s.onAuthStateChanged((async e=>{if(e){const t=Mg(jm,"admins",e.uid),r=await Dm(t);if(r.exists()){const e=r.data();u({phone:`${e.phone}`,name:`${e.firstName} ${e.lastName}`})}else u({phone:e.phoneNumber||"",name:"Bilinmeyen Admin"})}}));return()=>e()}),[]);const h=e=>{l({...o,[e.target.name]:e.target.value})};return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,zm.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!a||!o.name||!o.surname||!o.phone||!o.school)return void alert("L\xfctfen t\xfcm zorunlu alanlar\u0131 doldurun.");const t=o.phone.startsWith("+90")?o.phone:"+90"+o.phone.replace(/^0/,""),n=`${o.name} ${o.surname} - ${t}`,i=`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(n)}&size=250x250`;try{const e=vm(Rg(jm,"guests"),ym("eventId","==",a),ym("phone","==",t));if(!(await Mm(e)).empty)return void alert("Bu telefon numaras\u0131 zaten bu etkinli\u011fe kay\u0131tl\u0131.");await Lm(Rg(jm,"guests"),{name:o.name,surname:o.surname,phone:t,school:o.school,reference:o.reference||"",eventId:a,qrCode:i,addedBy:c.phone,addedByName:c.name});if(window.confirm("\u2705 Davetli ba\u015far\u0131yla kaydedildi. \u015eimdi davetiye g\xf6nderilsin mi?")){var s,u,h,d;const e=await fetch("https://pusulaeventapi.onrender.com/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:t,message:`${null===(s=r.find((e=>e.id===a)))||void 0===s?void 0:s.title} Etkinli\u011fine davetlisiniz!\n\n ${o.name} ${o.surname}\n Tarih: ${WT(null===(u=r.find((e=>e.id===a)))||void 0===u?void 0:u.date)}\n Saat: ${zT(null===(h=r.find((e=>e.id===a)))||void 0===h?void 0:h.time)}\n Adres: ${null===(d=r.find((e=>e.id===a)))||void 0===d?void 0:d.location}\n QR Kodunuz: ${i}\n QR Kodunuzu giri\u015fte g\xf6steriniz.`})}),n=await e.json();n.success?alert("\ud83d\udce8 Davetiye ba\u015far\u0131yla g\xf6nderildi."):alert("SMS g\xf6nderilemedi: "+(n.error||"Bilinmeyen hata"))}l({name:"",surname:"",phone:"",school:"",reference:""})}catch(f){console.error("Kay\u0131t hatas\u0131:",f),alert("\u274c Davetli kayd\u0131 ba\u015far\u0131s\u0131z oldu.")}},className:"bg-white shadow-xl rounded-3xl p-8 max-w-md w-full space-y-5 border border-gray-200",children:[(0,zm.jsx)("div",{className:"flex justify-center mb-2",children:(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim Kurumlar\u0131",className:"h-20 object-contain"})}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"\ud83c\udf9f\ufe0f Davetli Ekle"}),(0,zm.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0,children:[(0,zm.jsx)("option",{value:"",children:"Etkinlik Se\xe7in"}),r.map((e=>(0,zm.jsx)("option",{value:e.id,children:e.title},e.id)))]}),(0,zm.jsx)("input",{type:"text",name:"name",placeholder:"Ad",value:o.name,onChange:h,className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0}),(0,zm.jsx)("input",{type:"text",name:"surname",placeholder:"Soyad",value:o.surname,onChange:h,className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0}),(0,zm.jsxs)("div",{className:"flex",children:[(0,zm.jsx)("span",{className:"inline-flex items-center px-3 text-gray-700 bg-gray-200 border border-r-0 border-gray-300 rounded-l-xl text-sm",children:"+90"}),(0,zm.jsx)("input",{type:"tel",name:"phone",placeholder:"Telefon",value:o.phone.replace("+90",""),onChange:e=>l({...o,phone:e.target.value}),autoComplete:"tel",className:"w-full p-3 border border-gray-300 rounded-r-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),(0,zm.jsx)("input",{type:"text",name:"school",placeholder:"Okul",value:o.school,onChange:h,className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0}),(0,zm.jsx)("input",{type:"text",name:"reference",placeholder:"Referans (iste\u011fe ba\u011fl\u0131)",value:o.reference,onChange:h,className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,zm.jsx)("button",{type:"submit",className:"w-full bg-amber-500 text-white text-lg py-3 rounded-xl font-semibold hover:bg-amber-600 transition",children:"\u2795 Ekle"}),(0,zm.jsx)("button",{type:"button",onClick:()=>t("/dashboard"),className:"w-full mt-3 bg-gray-200 text-gray-800 text-lg py-3 rounded-xl font-medium hover:bg-gray-300 transition",children:"\u274c Vazge\xe7"})]})})}!function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(jT||(jT={}));var GT,$T,KT=new Map([[jT.QR_CODE,"QR_CODE"],[jT.AZTEC,"AZTEC"],[jT.CODABAR,"CODABAR"],[jT.CODE_39,"CODE_39"],[jT.CODE_93,"CODE_93"],[jT.CODE_128,"CODE_128"],[jT.DATA_MATRIX,"DATA_MATRIX"],[jT.MAXICODE,"MAXICODE"],[jT.ITF,"ITF"],[jT.EAN_13,"EAN_13"],[jT.EAN_8,"EAN_8"],[jT.PDF_417,"PDF_417"],[jT.RSS_14,"RSS_14"],[jT.RSS_EXPANDED,"RSS_EXPANDED"],[jT.UPC_A,"UPC_A"],[jT.UPC_E,"UPC_E"],[jT.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function XT(e){return Object.values(jT).includes(e)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"}(GT||(GT={})),function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}($T||($T={}));var qT,QT=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[$T.SCAN_TYPE_CAMERA,$T.SCAN_TYPE_FILE],e}(),ZT=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!KT.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,KT.get(t))},e}(),JT=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();!function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(qT||(qT={}));var eC=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:qT.UNKWOWN_ERROR}},e}(),tC=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function rC(e){return"undefined"===typeof e||null===e}var nC,aC=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),iC=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(e){return"Last Match: ".concat(e)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),sC=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),oC=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!==typeof e){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var n=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),a=0,i=Object.keys(e);a<i.length;a++){var s=i[a];if(n.has(s))return t.logError("".concat(s," is not supported videoConstaints."),!0),!1}return!0},e}(),lC=r(72),cC=function(){function e(e,t,r){if(this.formatMap=new Map([[jT.QR_CODE,lC.BarcodeFormat.QR_CODE],[jT.AZTEC,lC.BarcodeFormat.AZTEC],[jT.CODABAR,lC.BarcodeFormat.CODABAR],[jT.CODE_39,lC.BarcodeFormat.CODE_39],[jT.CODE_93,lC.BarcodeFormat.CODE_93],[jT.CODE_128,lC.BarcodeFormat.CODE_128],[jT.DATA_MATRIX,lC.BarcodeFormat.DATA_MATRIX],[jT.MAXICODE,lC.BarcodeFormat.MAXICODE],[jT.ITF,lC.BarcodeFormat.ITF],[jT.EAN_13,lC.BarcodeFormat.EAN_13],[jT.EAN_8,lC.BarcodeFormat.EAN_8],[jT.PDF_417,lC.BarcodeFormat.PDF_417],[jT.RSS_14,lC.BarcodeFormat.RSS_14],[jT.RSS_EXPANDED,lC.BarcodeFormat.RSS_EXPANDED],[jT.UPC_A,lC.BarcodeFormat.UPC_A],[jT.UPC_E,lC.BarcodeFormat.UPC_E],[jT.UPC_EAN_EXTENSION,lC.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!lC)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var n=this.createZXingFormats(e),a=new Map;a.set(lC.DecodeHintType.POSSIBLE_FORMATS,n),a.set(lC.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(e){var t=this;return new Promise((function(r,n){try{r(t.decode(e))}catch(a){n(a)}}))},e.prototype.decode=function(e){var t=new lC.MultiFormatReader(this.verbose,this.hints),r=new lC.HTMLCanvasElementLuminanceSource(e),n=new lC.BinaryBitmap(new lC.HybridBinarizer(r)),a=t.decode(n);return{text:a.text,format:ZT.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,r,n){e.set(t,r)})),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var a=n[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),uC=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(qF){i(qF)}}function o(e){try{l(n.throw(e))}catch(qF){i(qF)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},hC=function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(qF){o=[6,qF],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},dC=function(){function e(t,r,n){if(this.formatMap=new Map([[jT.QR_CODE,"qr_code"],[jT.AZTEC,"aztec"],[jT.CODABAR,"codabar"],[jT.CODE_39,"code_39"],[jT.CODE_93,"code_93"],[jT.CODE_128,"code_128"],[jT.DATA_MATRIX,"data_matrix"],[jT.ITF,"itf"],[jT.EAN_13,"ean_13"],[jT.EAN_8,"ean_8"],[jT.PDF_417,"pdf417"],[jT.UPC_A,"upc_a"],[jT.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&"undefined"!==typeof new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return uC(this,void 0,void 0,(function(){var t,r;return hC(this,(function(n){switch(n.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=n.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:ZT.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}}))}))},e.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,n=0,a=e;n<a.length;n++){var i=a[n],s=i.boundingBox.width*i.boundingBox.height;s>r&&(r=s,t=i)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var a=n[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,r,n){e.set(t,r)})),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),fC=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(qF){i(qF)}}function o(e){try{l(n.throw(e))}catch(qF){i(qF)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},pC=function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(qF){o=[6,qF],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},gC=function(){function e(e,t,r,n){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&dC.isSupported()?(this.primaryDecoder=new dC(e,r,n),this.secondaryDecoder=new cC(e,r,n)):this.primaryDecoder=new cC(e,r,n)}return e.prototype.decodeAsync=function(e){return fC(this,void 0,void 0,(function(){var t;return pC(this,(function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}}))}))},e.prototype.decodeRobustlyAsync=function(e){return fC(this,void 0,void 0,(function(){var t,r;return pC(this,(function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,n.sent()];case 3:if(r=n.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}}))}))},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){e+=r[t]}var n=e/this.executionResults.length;console.log("".concat(n," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),mC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vC=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(qF){i(qF)}}function o(e){try{l(n.throw(e))}catch(qF){i(qF)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},wC=function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(qF){o=[6,qF],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},yC=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),bC=function(e){function t(t){return e.call(this,"zoom",t)||this}return mC(t,e),t}(function(e){function t(t,r){return e.call(this,t,r)||this}return mC(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(yC)),EC=function(e){function t(t){return e.call(this,"torch",t)||this}return mC(t,e),t}(yC),SC=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new bC(this.track)},e.prototype.torchFeature=function(){return new EC(this.track)},e}(),TC=function(){function e(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,n=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,n),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,a){return vC(this,void 0,void 0,(function(){var i,s;return wC(this,(function(o){switch(o.label){case 0:return i=new e(t,r,a),n.aspectRatio?(s={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:o.sent(),o.label=2;case 2:return i.setupSurface(),[2,i]}}))}))},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return vC(this,void 0,void 0,(function(){return wC(this,(function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]}))}))},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise((function(t,r){var n=e.mediaStream.getVideoTracks().length,a=0;e.mediaStream.getVideoTracks().forEach((function(r){e.mediaStream.removeTrack(r),r.stop(),++a>=n&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())}))}))},e.prototype.getCapabilities=function(){return new SC(this.getFirstTrackOrFail())},e}(),CC=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,r){return vC(this,void 0,void 0,(function(){return wC(this,(function(n){return[2,TC.create(e,this.mediaStream,t,r)]}))}))},e.create=function(t){return vC(this,void 0,void 0,(function(){var r;return wC(this,(function(n){switch(n.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return[2,new e(n.sent())]}}))}))},e}(),_C=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(qF){i(qF)}}function o(e){try{l(n.throw(e))}catch(qF){i(qF)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},AC=function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(qF){o=[6,qF],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},IC=function(){function e(){}return e.failIfNotSupported=function(){return _C(this,void 0,void 0,(function(){return AC(this,(function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]}))}))},e.prototype.create=function(e){return _C(this,void 0,void 0,(function(){return AC(this,(function(t){return[2,CC.create(e)]}))}))},e}(),kC=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(qF){i(qF)}}function o(e){try{l(n.throw(e))}catch(qF){i(qF)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},NC=function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(qF){o=[6,qF],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},xC=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=aC.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=aC.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return kC(this,void 0,void 0,(function(){var e,t,r,n,a,i,s;return NC(this,(function(o){switch(o.label){case 0:return e=function(e){for(var t=0,r=e.getVideoTracks();t<r.length;t++){var n=r[t];n.enabled=!1,n.stop(),e.removeTrack(n)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=o.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=o.sent(),n=[],a=0,i=r;a<i.length;a++)"videoinput"===(s=i[a]).kind&&n.push({id:s.deviceId,label:s.label});return e(t),[2,n]}}))}))},e.getCamerasFromMediaStreamTrack=function(){return new Promise((function(e,t){MediaStreamTrack.getSources((function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];"video"===i.kind&&r.push({id:i.id,label:i.label})}e(r)}))}))},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"}(nC||(nC={}));var DC,RC=function(){function e(){this.state=nC.NOT_STARTED,this.onGoingTransactionNewState=nC.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===nC.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=nC.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===nC.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=nC.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==nC.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case nC.UNKNOWN:throw"Transition from unknown is not allowed";case nC.NOT_STARTED:this.failIfNewStateIs(e,[nC.PAUSED]);case nC.SCANNING:case nC.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var r=0,n=t;r<n.length;r++){if(e===n[r])throw"Cannot transition from ".concat(this.state," to ").concat(e)}},e}(),MC=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===nC.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==nC.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===nC.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===nC.PAUSED},e}(),OC=function(){function e(){}return e.create=function(){return new MC(new RC)},e}(),PC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),LC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PC(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(QT),FC=function(){function e(e,t){this.logger=t,this.fps=LC.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=LC.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?oC.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!rC(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),BC=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var r;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(r=t,this.verbose=!0===r.verbose,r.experimentalFeatures),this.logger=new tC(this.verbose),this.qrcode=new gC(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=OC.create()}return e.prototype.start=function(e,t,r,n){var a,i=this;if(!e)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";a=n||(this.verbose?this.logger.log:function(){});var s=FC.create(t,this.logger);this.clearElement();var o=!1;s.videoConstraints&&(s.isMediaStreamConstraintsValid()?o=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var l=o,c=document.getElementById(this.elementId);c.clientWidth?c.clientWidth:LC.DEFAULT_WIDTH;c.style.position="relative",this.shouldScan=!0,this.element=c;var u=this,h=this.stateManagerProxy.startTransition(nC.SCANNING);return new Promise((function(t,n){var o=l?s.videoConstraints:u.createVideoConstraints(e);if(!o)return h.cancel(),void n("videoConstraints should be defined");var c={};l&&!s.aspectRatio||(c.aspectRatio=s.aspectRatio);var d={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,s),u.isScanning=!0,u.foreverScan(s,r,a)}};IC.failIfNotSupported().then((function(e){e.create(o).then((function(e){return e.render(i.element,c,d).then((function(e){u.renderedCamera=e,h.execute(),t(null)})).catch((function(e){h.cancel(),n(e)}))})).catch((function(e){h.cancel(),n(aC.errorGettingUserMedia(e))}))})).catch((function(e){h.cancel(),n(aC.cameraStreamingNotSupported())}))}))},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(nC.PAUSED),this.showPausedState(),(rC(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(nC.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume((function(){t()})):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(nC.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=this;return this.renderedCamera.close().then((function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),function(){if(e.element){var t=document.getElementById(LC.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),t.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()}))},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then((function(e){return e.decodedText}))},e.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(rC(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise((function(n,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var i=new Image;i.onload=function(){var e=i.width,s=i.height,o=document.getElementById(r.elementId),l=o.clientWidth?o.clientWidth:LC.DEFAULT_WIDTH,c=Math.max(o.clientHeight?o.clientHeight:s,LC.FILE_SCAN_MIN_HEIGHT),u=r.computeCanvasDrawConfig(e,s,l,c);if(t){var h=r.createCanvasElement(l,c,"qr-canvas-visible");h.style.display="inline-block",o.appendChild(h);var d=h.getContext("2d");if(!d)throw"Unable to get 2d context from canvas";d.canvas.width=l,d.canvas.height=c,d.drawImage(i,0,0,e,s,u.x,u.y,u.width,u.height)}var f=LC.FILE_SCAN_HIDDEN_CANVAS_PADDING,p=Math.max(i.width,u.width),g=Math.max(i.height,u.height),m=p+2*f,v=g+2*f,w=r.createCanvasElement(m,v);o.appendChild(w);var y=w.getContext("2d");if(!y)throw"Unable to get 2d context from canvas";y.canvas.width=m,y.canvas.height=v,y.drawImage(i,0,0,e,s,f,f,p,g);try{r.qrcode.decodeRobustlyAsync(w).then((function(e){n(JT.createFromQrcodeResult(e))})).catch(a)}catch(b){a("QR code parse error, error = ".concat(b))}},i.onerror=a,i.onabort=a,i.onstalled=a,i.onsuspend=a,i.src=URL.createObjectURL(e)}))},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return xC.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!oC.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[jT.QR_CODE,jT.AZTEC,jT.CODABAR,jT.CODE_39,jT.CODE_93,jT.CODE_128,jT.DATA_MATRIX,jT.MAXICODE,jT.ITF,jT.EAN_13,jT.EAN_8,jT.PDF_417,jT.RSS_14,jT.RSS_EXPANDED,jT.UPC_A,jT.UPC_E,jT.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],n=0,a=e.formatsToSupport;n<a.length;n++){var i=a[n];XT(i)?r.push(i):this.logger.warn("Invalid format: ".concat(i," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(rC(e))return!0;if(!rC(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(rC(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!rC(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,r){var n=this,a=r.qrbox;this.validateQrboxConfig(a);var i,s=this.toQrdimensions(e,t,a),o=function(e){if(e<LC.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(LC.MIN_QR_BOX_SIZE,"px.")};o(s.width),o(s.height),s.width=((i=s.width)>e&&(n.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),i=e),i)},e.prototype.validateQrboxConfig=function(e){if("number"!==typeof e&&"function"!==typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,r){if("number"===typeof r)return{width:r,height:r};if("function"===typeof r)try{return r(e,t)}catch(n){throw new Error("qrbox config was passed as a function but it failed with unknown error"+n)}return r},e.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var n=rC(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(n);var a=this.toQrdimensions(e,t,n);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var i=r.isShadedBoxEnabled()&&a.height<=t,s={x:0,y:0,width:e,height:t},o=i?this.getShadedRegionBounds(e,t,a):s,l=this.createCanvasElement(o.width,o.height),c=l.getContext("2d",{willReadFrequently:!0});c.canvas.width=o.width,c.canvas.height=o.height,this.element.append(l),i&&this.possiblyInsertShadingElement(this.element,e,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=o,this.context=c,this.canvasElement=l},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=aC.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then((function(t){return e(t.text,JT.createFromQrcodeResult(t)),r.possiblyUpdateShaders(!0),!0})).catch((function(e){r.possiblyUpdateShaders(!1);var n=aC.codeParseError(e);return t(n,eC.createFrom(n)),!1}))},e.prototype.foreverScan=function(e,t,r){var n=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),i=a.videoWidth/a.clientWidth,s=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var o=this.qrRegion.width*i,l=this.qrRegion.height*s,c=this.qrRegion.x*i,u=this.qrRegion.y*s;this.context.drawImage(a,c,u,o,l,0,0,this.qrRegion.width,this.qrRegion.height);var h=function(){n.foreverScanTimeout=setTimeout((function(){n.foreverScan(e,t,r)}),n.getTimeoutFps(e.fps))};this.scanContext(t,r).then((function(a){a||!0===e.disableFlip?h():(n.context.translate(n.context.canvas.width,0),n.context.scale(-1,1),n.scanContext(t,r).finally((function(){h()})))})).catch((function(e){n.logger.logError("Error happend while scanning context",e),h()}))}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",r="deviceId",n={user:!0,environment:!0},a="exact",i=function(e){if(e in n)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},s=Object.keys(e);if(1!==s.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(s.length," keys");var o=Object.keys(e)[0];if(o!==t&&o!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(o!==t){var l=e.deviceId;if("string"==typeof l)return{deviceId:l};if("object"==typeof l){if(a in l)return{deviceId:{exact:l["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof l)}var c=e.facingMode;if("string"==typeof c){if(i(c))return{facingMode:c}}else{if("object"!=typeof c)throw"Invalid type of 'facingMode' = ".concat(typeof c);if(!(a in c))throw"'facingMode' should be string or object with"+" ".concat(a," as key.");if(i(c["".concat(a)]))return{facingMode:{exact:c["".concat(a)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,r,n){if(e<=r&&t<=n)return{x:(r-e)/2,y:(n-t)/2,width:e,height:t};var a=e,i=t;return e>r&&(t*=r/e,e=r),t>n&&(e*=n/t,t=n),this.logger.log("Image downsampled from "+"".concat(a,"X").concat(i)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,n)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach((function(t){t.style.backgroundColor=e?LC.BORDER_SHADER_MATCH_COLOR:LC.BORDER_SHADER_DEFAULT_COLOR})),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,r){var n=e,a=t,i=document.createElement("canvas");return i.style.width="".concat(n,"px"),i.style.height="".concat(a,"px"),i.style.display="none",i.id=rC(r)?"qr-canvas":r,i},e.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(e,t,r,n){if(!(t-n.width<1||r-n.height<1)){var a=document.createElement("div");a.style.position="absolute";var i=(t-n.width)/2,s=(r-n.height)/2;if(a.style.borderLeft="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(LC.SHADED_REGION_ELEMENT_ID),t-n.width<11||r-n.height<11)this.hasBorderShaders=!1;else{var o=40;this.insertShaderBorders(a,o,5,-5,null,0,!0),this.insertShaderBorders(a,o,5,-5,null,0,!1),this.insertShaderBorders(a,o,5,null,-5,0,!0),this.insertShaderBorders(a,o,5,null,-5,0,!1),this.insertShaderBorders(a,5,45,-5,null,-5,!0),this.insertShaderBorders(a,5,45,null,-5,-5,!0),this.insertShaderBorders(a,5,45,-5,null,-5,!1),this.insertShaderBorders(a,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(a)}},e.prototype.insertShaderBorders=function(e,t,r,n,a,i,s){var o=document.createElement("div");o.style.position="absolute",o.style.backgroundColor=LC.BORDER_SHADER_DEFAULT_COLOR,o.style.width="".concat(t,"px"),o.style.height="".concat(r,"px"),null!==n&&(o.style.top="".concat(n,"px")),null!==a&&(o.style.bottom="".concat(a,"px")),s?o.style.left="".concat(i,"px"):o.style.right="".concat(i,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(o),e.appendChild(o)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),UC="data:image/svg+xml;base64,",VC=UC+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",jC=UC+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",HC=UC+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",zC=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),WC=function(){function e(){this.data=zC.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=zC.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),YC=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=sC.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),n=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(n);var a=document.createElement("a");a.innerText=sC.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),GC=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=HC,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=HC,this.infoIcon.style.opacity="0.6")},e}(),$C=function(){function e(){var e=this;this.infoDiv=new YC,this.infoIcon=new GC((function(){e.infoDiv.show()}),(function(){e.infoDiv.hide()}))}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),KC=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(qF){i(qF)}}function o(e){try{l(n.throw(e))}catch(qF){i(qF)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},XC=function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(qF){o=[6,qF],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},qC=function(){function e(){}return e.hasPermissions=function(){return KC(this,void 0,void 0,(function(){var e,t,r,n;return XC(this,(function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),t=0,r=e;t<r.length;t++)if("videoinput"===(n=r[t]).kind&&n.label)return[2,!0];return[2,!1]}}))}))},e}(),QC=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(e){return e===$T.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===$T.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||0===e.length)return QT.DEFAULT_SUPPORTED_SCAN_TYPE;var t=QT.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,n=e;r<n.length;r++){var a=n[r];if(!QT.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},e}(),ZC=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),JC=function(){function e(){}return e.createElement=function(e,t){var r=document.createElement(e);return r.id=t,r.classList.add(ZC.ALL_ELEMENT_CLASS),"button"===e&&r.setAttribute("type","button"),r},e}(),e_=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(qF){i(qF)}}function o(e){try{l(n.throw(e))}catch(qF){i(qF)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))},t_=function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(qF){o=[6,qF],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},r_=function(){function e(e,t,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return e_(this,void 0,void 0,(function(){var e,t;return t_(this,(function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=r.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}}))}))},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?iC.torchOffButton():iC.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(e,t){var r=e?iC.torchOnFailedMessage():iC.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),n_=function(){function e(e,t){this.onTorchActionFailureCallback=t,this.torchButton=JC.createElement("button",ZC.TORCH_BUTTON_ID),this.torchController=new r_(e,this,t)}return e.prototype.render=function(e,t){var r=this;this.torchButton.innerText=iC.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var n=this;this.torchButton.addEventListener("click",(function(e){return e_(r,void 0,void 0,(function(){return t_(this,(function(e){switch(e.label){case 0:return[4,n.torchController.flipState()];case 1:return e.sent(),n.torchController.isTorchEnabled()?(n.torchButton.classList.remove(ZC.TORCH_BUTTON_CLASS_TORCH_OFF),n.torchButton.classList.add(ZC.TORCH_BUTTON_CLASS_TORCH_ON)):(n.torchButton.classList.remove(ZC.TORCH_BUTTON_CLASS_TORCH_ON),n.torchButton.classList.add(ZC.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}}))}))})),e.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(e){this.torchController=new r_(e,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(e){this.torchButton.innerText=e},e.prototype.reset=function(){this.torchButton.innerText=iC.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,a){var i=new e(r,a);return i.render(t,n),i},e}(),a_=function(){function e(e,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var n=document.createElement("label");n.setAttribute("for",this.getFileScanInputId()),n.style.display="inline-block",this.fileBasedScanRegion.appendChild(n),this.fileSelectionButton=JC.createElement("button",ZC.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",(function(e){n.click()})),n.append(this.fileSelectionButton),this.fileScanInput=JC.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",n.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",(function(e){if(null!=e&&null!=e.target){var t=e.target;if(!t.files||0!==t.files.length){var n=t.files[0],i=n.name;a.setImageNameToButton(i),r(n)}}}));var i=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(i),this.fileBasedScanRegion.addEventListener("dragenter",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragleave",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragover",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var t=e.dataTransfer;if(t){var n=t.files;if(!n||0===n.length)return;for(var s=!1,o=0;o<n.length;++o){var l=n.item(o);if(l){if(l.type.match(/image.*/)){s=!0;var c=l.name;a.setImageNameToButton(c),r(l),i.innerText=iC.dragAndDropMessage();break}}}s||(i.innerText=iC.dragAndDropMessageOnlyImages())}}))}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=iC.dragAndDropMessage(),e.style.fontWeight="400",e},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),r=e.length,n=e.substring(r-8,r);e="".concat(t,"....").concat(n)}var a=iC.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=a},e.prototype.setInitialValueToButton=function(){var e=iC.fileSelectionChooseImage()+" - "+iC.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){return new e(t,r,n)},e}(),i_=function(){function e(e){this.selectElement=JC.createElement("select",ZC.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return e.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)t.style.display="none";else{var n=iC.selectCamera();t.innerText="".concat(n," (").concat(this.cameras.length,")  ")}for(var a=1,i=0,s=this.cameras;i<s.length;i++){var o=s[i],l=o.id,c=null==o.label?l:o.label;c&&""!==c||(c=[iC.anonymousCameraPrefix(),a++].join(" "));var u=document.createElement("option");u.value=l,u.innerText=c,this.options.push(u),this.selectElement.appendChild(u)}t.appendChild(this.selectElement),e.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(e){for(var t=0,r=this.options;t<r.length;t++){if(r[t].value===e)return!0}return!1},e.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),s_=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=JC.createElement("input",ZC.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=iC.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var n=this;this.rangeInput.addEventListener("input",(function(){return n.onValueChange()})),this.rangeInput.addEventListener("change",(function(){return n.onValueChange()})),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var e=iC.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(e,t,r,n){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=n.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}();!function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(DC||(DC={}));!function(){function e(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===r,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new QC(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new tC(this.verbose),this.persistedDataManager=new WC,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}e.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,n){if(e)e(t,n);else{if(r.lastMatchFound===t)return;r.lastMatchFound=t,r.setHeaderMessage(iC.lastMatch(t),DC.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,r){t&&t(e,r)};var n,a,i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new BC(this.getScanRegionId(),(n=this.config,a=this.verbose,{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:a}))},e.prototype.pause=function(e){(rC(e)||!0!==e)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML="",e.resetBasicLayout(t))};return this.html5Qrcode?new Promise((function(r,n){e.html5Qrcode?e.html5Qrcode.isScanning?e.html5Qrcode.stop().then((function(n){e.html5Qrcode?(e.html5Qrcode.clear(),t(),r()):r()})).catch((function(t){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",t),n(t)})):(e.html5Qrcode.clear(),t(),r()):r()})):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(e){return e?(e.fps||(e.fps=QT.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!QT.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=QT.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=QT.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:QT.SCAN_DEFAULT_FPS,rememberLastUsedCamera:QT.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:QT.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),QC.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var n=document.createElement("div"),a=this.getDashboardId();n.id=a,n.style.width="100%",e.appendChild(n),this.setupInitialDashboard(n)},e.prototype.resetBasicLayout=function(e){e.style.border="none"},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),(new $C).renderInto(t);var r=document.createElement("div");r.id=this.getHeaderMessageContainerId(),r.style.display="none",r.style.textAlign="center",r.style.fontSize="14px",r.style.padding="2px 10px",r.style.margin="4px",r.style.borderTop="1px solid #f6f6f6",t.appendChild(r)},e.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,r){var n=this;n.showHideScanTypeSwapLink(!1),n.setHeaderMessage(iC.cameraPermissionRequesting());var a=function(){r||n.createPermissionButton(e,t)};BC.getCameras().then((function(r){n.persistedDataManager.setHasPermission(!0),n.showHideScanTypeSwapLink(!0),n.resetHeaderMessage(),r&&r.length>0?(e.removeChild(t),n.renderCameraSelection(r)):(n.setHeaderMessage(iC.noCameraFound(),DC.STATUS_WARNING),a())})).catch((function(e){n.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),n.setHeaderMessage(e,DC.STATUS_WARNING),n.showHideScanTypeSwapLink(!0)}))},e.prototype.createPermissionButton=function(e,t){var r=this,n=JC.createElement("button",this.getCameraPermissionButtonId());n.innerText=iC.cameraPermissionTitle(),n.addEventListener("click",(function(){n.disabled=!0,r.createCameraListUi(e,t,n)})),t.appendChild(n)},e.prototype.createPermissionsUi=function(e,t){var r=this;QC.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?qC.hasPermissions().then((function(n){n?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))})).catch((function(n){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)})):this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=QC.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var n=document.createElement("div");n.style.textAlign="center",r.appendChild(n),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,n),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=QC.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=a_.create(e,t,(function(e){if(!r.html5Qrcode)throw"html5Qrcode not defined";QC.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(iC.loadingImage()),r.html5Qrcode.scanFileV2(e,!0).then((function(e){r.resetHeaderMessage(),r.qrCodeSuccessCallback(e.decodedText,e)})).catch((function(e){r.setHeaderMessage(e,DC.STATUS_WARNING),r.qrCodeErrorCallback(e,eC.createFrom(e))})))}))},e.prototype.renderCameraSelection=function(e){var t=this,r=this,n=document.getElementById(this.getDashboardSectionCameraScanRegionId());n.style.textAlign="center";var a=s_.create(n,!1),i=i_.create(n,e),s=document.createElement("span"),o=JC.createElement("button",ZC.CAMERA_START_BUTTON_ID);o.innerText=iC.scanButtonStartScanningText(),s.appendChild(o);var l,c=JC.createElement("button",ZC.CAMERA_STOP_BUTTON_ID);c.innerText=iC.scanButtonStopScanningText(),c.style.display="none",c.disabled=!0,s.appendChild(c);n.appendChild(s);var u=function(e){e||(o.style.display="none"),o.innerText=iC.scanButtonStartScanningText(),o.style.opacity="1",o.disabled=!1,e&&(o.style.display="inline-block")};if(o.addEventListener("click",(function(e){o.innerText=iC.scanButtonScanningStarting(),i.disable(),o.disabled=!0,o.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var n,h=i.getValue();r.persistedDataManager.setLastUsedCameraId(h),r.html5Qrcode.start(h,(n=r.config,{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then((function(e){c.disabled=!1,c.style.display="inline-block",u(!1);var n=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(e){e.torchFeature().isSupported()?(l?l.updateTorchCapability(e.torchFeature()):l=n_.create(s,e.torchFeature(),{display:"none",marginLeft:"5px"},(function(e){r.setHeaderMessage(e,DC.STATUS_WARNING)})),l.show()):l&&l.hide()}(n),!0===t.config.showZoomSliderIfSupported&&function(e){var r=e.zoomFeature();if(r.isSupported()){a.setOnCameraZoomValueChangeCallback((function(e){r.apply(e)}));var n,i,s,o=1;t.config.defaultZoomValueIfSupported&&(o=t.config.defaultZoomValueIfSupported),n=o,i=r.min(),o=n>(s=r.max())?s:n<i?i:n,a.setValues(r.min(),r.max(),o,r.step()),a.show()}}(n)})).catch((function(e){r.showHideScanTypeSwapLink(!0),i.enable(),u(!0),r.setHeaderMessage(e,DC.STATUS_WARNING)}))})),i.hasSingleItem()&&o.click(),c.addEventListener("click",(function(e){if(!r.html5Qrcode)throw"html5Qrcode not defined";c.disabled=!0,r.html5Qrcode.stop().then((function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),i.enable(),o.disabled=!1,c.style.display="none",o.style.display="inline-block",l&&(l.reset(),l.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()})).catch((function(e){c.disabled=!1,r.setHeaderMessage(e,DC.STATUS_WARNING)}))})),r.persistedDataManager.getLastUsedCameraId()){var h=r.persistedDataManager.getLastUsedCameraId();i.hasValue(h)?(i.setValue(h),o.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=iC.textIfCameraScanSelected(),r=iC.textIfFileScanSelected(),n=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var i=JC.createElement("span",this.getDashboardSectionSwapLinkId());i.style.textDecoration="underline",i.style.cursor="pointer",i.innerText=QC.isCameraScanType(this.currentScanType)?t:r,i.addEventListener("click",(function(){e.sectionSwapAllowed?(e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,QC.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),i.innerText=r,e.currentScanType=$T.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),i.innerText=t,e.currentScanType=$T.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0):e.verbose&&e.logger.logError("Section swap called when not allowed")})),a.appendChild(i),n.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;this.persistedDataManager.hasCameraPermissions()&&qC.hasPermissions().then((function(r){if(r){var n=document.getElementById(t.getCameraPermissionButtonId());if(!n)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";n.click()}else t.persistedDataManager.setHasPermission(!1)})).catch((function(e){t.persistedDataManager.setHasPermission(!1)}))},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(e,t){t||(t=DC.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case DC.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case DC.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case DC.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=VC,this.cameraScanImage.alt=iC.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=jC,this.fileScanImage.alt=iC.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ZC.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ZC.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();function o_(t){let{onScanSuccess:r,scanControl:n}=t;const a="qr-reader",i=(0,e.useRef)(null),s=(0,e.useRef)(!1),[o,l]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{if(!s.current){s.current=!0;const e=new BC(a);return i.current=e,BC.getCameras().then((t=>{if(t&&t.length>0){t[0].id;e.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},(t=>{r(t),e.stop().then((()=>e.clear()))}),(e=>{})).then((()=>{l(!0)})).catch((e=>{console.error("Kamera ba\u015flat\u0131lamad\u0131:",e)}))}})).catch((e=>{console.error("Kamera listesi al\u0131namad\u0131:",e)})),()=>{i.current&&i.current._isScanning&&i.current.stop().then((()=>i.current.clear())).catch((e=>console.error("Stop hatas\u0131:",e)))}}}),[r]),(0,e.useEffect)((()=>{n&&i.current&&s.current&&(s.current=!1,i.current.stop().then((()=>{var e;i.current.clear(),l(!1);const t=null===(e=document.getElementById(a))||void 0===e?void 0:e.querySelector("video");null!==t&&void 0!==t&&t.srcObject&&t.srcObject.getTracks().forEach((e=>e.stop()))})).catch((e=>console.error("Stop i\u015flemi ba\u015far\u0131s\u0131z:",e))))}),[n]),(0,zm.jsx)("div",{className:"flex justify-center",children:(0,zm.jsx)("div",{id:a,className:"w-full max-w-xs"})})}function l_(){const[t,r]=(0,e.useState)([]),[n,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(null),[h,d]=(0,e.useState)({}),f=ee(),p=Hs(),[g,m]=(0,e.useState)(""),[v,w]=(0,e.useState)(""),[y,b]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{const e=(await Mm(Rg(jm,"events"))).docs.map((e=>({id:e.id,...e.data()})));r(e)})();const e=p.onAuthStateChanged((async e=>{if(e){const t=Mg(jm,"admins",e.uid),r=await Dm(t);if(r.exists()){const e=r.data();m(`${e.firstName} ${e.lastName}`),w(e.phone)}else w(e.phoneNumber||""),m("Bilinmeyen Admin")}}));return()=>e()}),[]),(0,e.useEffect)((()=>{(async()=>{if(!n)return;const e=vm(Rg(jm,"guests"),ym("eventId","==",n)),t=(await Mm(e)).docs.map((e=>e.data())),r=t.length,a=t.filter((e=>e.checkedIn)).length;d({total:r,checkedIn:a})})()}),[n,i]);const E=()=>{b(!0),f("/dashboard")},S=t.find((e=>e.id===n));return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,zm.jsxs)("div",{className:"w-full max-w-3xl bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"\ud83c\udf9f\ufe0f Giri\u015f Kontrol\xfc"}),!n&&(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Kontrol edilecek etkinli\u011fi se\xe7in:"}),(0,zm.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",value:n,onChange:e=>{a(e.target.value),s("")},children:[(0,zm.jsx)("option",{value:"",children:"-- Etkinlik Se\xe7 --"}),t.map((e=>(0,zm.jsx)("option",{value:e.id,children:e.title},e.id)))]})]}),n&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsxs)("div",{className:"text-gray-700 text-center mb-4",children:["Etkinlik: ",(0,zm.jsx)("span",{className:"text-amber-600 font-semibold",children:null===S||void 0===S?void 0:S.title}),(0,zm.jsx)("br",{}),(0,zm.jsxs)("span",{className:"inline-block bg-green-100 text-green-800 font-semibold px-3 py-1 rounded-xl mr-2",children:["Giri\u015f Yapan: ",h.checkedIn]}),(0,zm.jsxs)("span",{className:"inline-block bg-gray-100 text-gray-800 font-semibold px-3 py-1 rounded-xl",children:["Toplam: ",h.total]})]}),i?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsxs)("div",{className:"text-center font-semibold mb-4 p-4 rounded-xl shadow "+(o.startsWith("\u2705")?"bg-green-100 text-green-800 border border-green-300":o.startsWith("\u26a0\ufe0f")?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-red-100 text-red-800 border border-red-300"),children:[(0,zm.jsx)("div",{className:"text-lg",children:o}),(0,zm.jsx)("div",{className:"text-sm break-all mt-2 text-gray-700",children:i})]}),c&&(0,zm.jsxs)("div",{className:"text-center text-gray-700 mb-4",children:["\ud83d\udc64 ",(0,zm.jsxs)("strong",{children:[c.name," ",c.surname]}),(0,zm.jsx)("br",{}),"\ud83c\udf93 ",c.school,(0,zm.jsx)("br",{}),"\ud83d\udcf1 ",c.phone,(0,zm.jsx)("br",{}),c.reference&&(0,zm.jsxs)(zm.Fragment,{children:["\ud83d\udccc Referans: ",c.reference,(0,zm.jsx)("br",{})]})]}),(0,zm.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,zm.jsx)("button",{onClick:()=>{s(""),l(""),u(null)},className:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-xl",children:"\ud83d\udd01 Devam Et"}),(0,zm.jsx)("button",{onClick:E,className:"bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 rounded-xl",children:"\u274c Vazge\xe7"})]})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(o_,{onScanSuccess:e=>{s(e),(async e=>{if(!n)return;const t=vm(Rg(jm,"guests"),ym("eventId","==",n),ym("qrCode","!=","")),r=(await Mm(t)).docs.find((t=>{const r=t.data();return`${r.name} ${r.surname} - ${r.phone}`===e}));if(!r)return l("\ud83d\udeab Davetli bulunamad\u0131."),void u(null);const a=r.data();u(a),a.checkedIn?l("\u26a0\ufe0f Bu davetli zaten giri\u015f yapt\u0131."):(await Om(Mg(jm,"guests",r.id),{checkedIn:!0,checkInTime:new Date,checkedInBy:v,checkedInByName:g}),l("\u2705 Giri\u015f ba\u015far\u0131l\u0131!"))})(e)},scanControl:y}),(0,zm.jsx)("div",{className:"flex justify-center mt-6",children:(0,zm.jsx)("button",{onClick:E,className:"bg-gray-800 hover:bg-gray-900 text-white px-5 py-2 rounded-xl",children:"\u274c Vazge\xe7"})})]})]})]})})}var c_={version:"0.18.5"},u_=1200,h_=1252,d_=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],f_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},p_=function(e){-1!=d_.indexOf(e)&&(h_=f_[0]=e)};var g_=function(e){u_=e,p_(e)};function m_(){g_(1200),p_(1252)}function v_(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function w_(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var y_,b_=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return 255==t&&254==r?function(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==r?w_(e.slice(2)):65279==t?e.slice(1):e},E_=function(e){return String.fromCharCode(e)},S_=function(e){return String.fromCharCode(e)};var T_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function C_(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)i=(r=e.charCodeAt(c++))>>2,s=(3&r)<<4|(n=e.charCodeAt(c++))>>4,o=(15&n)<<2|(a=e.charCodeAt(c++))>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=T_.charAt(i)+T_.charAt(s)+T_.charAt(o)+T_.charAt(l);return t}function __(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)r=T_.indexOf(e.charAt(l++))<<2|(i=T_.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(r),n=(15&i)<<4|(s=T_.indexOf(e.charAt(l++)))>>2,64!==s&&(t+=String.fromCharCode(n)),a=(3&s)<<6|(o=T_.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(a));return t}var A_=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),I_=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(qF){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function k_(e){return A_?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function N_(e){return A_?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var x_=function(e){return A_?I_(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function D_(e){if("undefined"===typeof ArrayBuffer)return x_(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}function R_(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function M_(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return M_(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var O_=A_?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:I_(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var P_=/\u0000/g,L_=/[\u0001-\u0006]/g;function F_(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function B_(e,t){var r=""+e;return r.length>=t?r:ZA("0",t-r.length)+r}function U_(e,t){var r=""+e;return r.length>=t?r:ZA(" ",t-r.length)+r}function V_(e,t){var r=""+e;return r.length>=t?r:r+ZA(" ",t-r.length)}var j_=Math.pow(2,32);function H_(e,t){return e>j_||e<-j_?function(e,t){var r=""+Math.round(e);return r.length>=t?r:ZA("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:ZA("0",t-r.length)+r}(Math.round(e),t)}function z_(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var W_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Y_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var G_={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},$_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},K_={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function X_(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,h=Math.floor(a);c<t&&(o=(h=Math.floor(a))*s+i,u=h*c+l,!(a-h<5e-8));)a=1/(a-h),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function q_(e,t,r){if(e>2958465||e<0)return null;var n=0|e,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,86400==++a&&(o.T=a=0,++n,++o.D)),60===n)s=r?[1317,10,29]:[1900,2,29],i=3;else if(0===n)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=function(e,t){t[0]-=581;var r=e.getDay();e<60&&(r=(r+6)%7);return r}(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var Q_=new Date(1899,11,31,0,0,0),Z_=Q_.getTime(),J_=new Date(1900,2,1,0,0,0);function eA(e,t){var r=e.getTime();return t?r-=1262304e5:e>=J_&&(r+=864e5),(r-(Z_+6e4*(e.getTimezoneOffset()-Q_.getTimezoneOffset())))/864e5}function tA(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rA(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?function(e){var t=e<0?12:11,r=tA(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(e):10===r?e.toFixed(10).substr(0,12):function(e){var t=tA(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),tA(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function nA(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):rA(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return CA(14,eA(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function aA(e,t,r,n){var a,i="",s=0,o=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,c=2;break;default:a=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:a=r.m,c=t.length;break;case 3:return Y_[r.m-1][1];case 5:return Y_[r.m-1][0];default:return Y_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=r.d,c=t.length;break;case 3:return W_[r.q][0];default:return W_[r.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(o=n>=2?3===n?1e3:100:1===n?10:1,(s=Math.round(o*(r.S+r.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(i=B_(s,2+n),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):B_(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*r.D+r.H;break;case"[m]":case"[mm]":a=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":a=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:a=l,c=1}return c>0?B_(a,c):""}function iA(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var sA=/%/g;function oA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+oA(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),-1===(r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a)).indexOf("e")){var s=Math.floor(Math.log(t)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,n){return t+r+n.substr(0,(a+i)%a)+"."+n.substr(i)+"E"}))}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var lA=/# (\?+)( ?)\/( ?)(\d+)/;var cA=/^#*0*\.([0#]+)/,uA=/\).*[0#]/,hA=/\(###\) ###\\?-####/;function dA(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function fA(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function pA(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function gA(e,t,r){if(40===e.charCodeAt(0)&&!t.match(uA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?gA("n",n,r):"("+gA("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return wA(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(sA,""),a=t.length-n.length;return wA(e,n,r*Math.pow(10,2*a))+ZA("%",a)}(e,t,r);if(-1!==t.indexOf("E"))return oA(t,r);if(36===t.charCodeAt(0))return"$"+gA(e,t.substr(" "==t.charAt(1)?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+H_(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=H_(r,0))&&(a=""),a.length>t.length?a:dA(t.substr(0,t.length-a.length))+a;if(i=t.match(lA))return function(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(0===i?"":""+i)+" "+(0===s?ZA(" ",e[1].length+1+e[4].length):U_(s,e[1].length)+e[2]+"/"+e[3]+B_(o,e[4].length))}(i,l,c);if(t.match(/^#+0+$/))return c+H_(l,t.length-t.indexOf("0"));if(i=t.match(cA))return a=fA(r,i[1].length).replace(/^([^\.]+)$/,"$1."+dA(i[1])).replace(/\.$/,"."+dA(i[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+ZA("0",dA(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+fA(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+iA(H_(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+gA(e,t,-r):iA(""+(Math.floor(r)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(r,i[1].length)))+"."+B_(pA(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return gA(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=F_(gA(e,t.replace(/[\\-]/g,""),r)),s=0,F_(F_(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return s<a.length?a.charAt(s++):"0"===e?"0":""})));if(t.match(hA))return"("+(a=gA(e,"##########",r)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=X_(l,Math.pow(10,s)-1,!1),a=""+c," "==(u=wA("n",i[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],(u=V_(o[2],s)).length<i[4].length&&(u=dA(i[4].substr(i[4].length-u.length))+u),a+=u;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),c+((o=X_(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?U_(o[1],s)+i[2]+"/"+i[3]+V_(o[2],s):ZA(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=H_(r,0),t.length<=a.length?a:dA(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var h=t.indexOf(".")-s,d=t.length-a.length-h;return dA(t.substr(0,h)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=pA(r,i[1].length),r<0?"-"+gA(e,t,-r):iA(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?B_(0,3-e.length):"")+e}))+"."+B_(s,i[1].length);switch(t){case"###,##0.00":return gA(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=iA(H_(l,0));return"0"!==f?c+f:"";case"###,###.00":return gA(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return gA(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function mA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+mA(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),!(r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a)).match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,n){return t+r+n.substr(0,(a+i)%a)+"."+n.substr(i)+"E"}))}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function vA(e,t,r){if(40===e.charCodeAt(0)&&!t.match(uA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vA("n",n,r):"("+vA("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return wA(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(sA,""),a=t.length-n.length;return wA(e,n,r*Math.pow(10,2*a))+ZA("%",a)}(e,t,r);if(-1!==t.indexOf("E"))return mA(t,r);if(36===t.charCodeAt(0))return"$"+vA(e,t.substr(" "==t.charAt(1)?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+B_(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,0===r&&(a=""),a.length>t.length?a:dA(t.substr(0,t.length-a.length))+a;if(i=t.match(lA))return function(e,t,r){return r+(0===t?"":""+t)+ZA(" ",e[1].length+2+e[4].length)}(i,l,c);if(t.match(/^#+0+$/))return c+B_(l,t.length-t.indexOf("0"));if(i=t.match(cA))return a=(a=(""+r).replace(/^([^\.]+)$/,"$1."+dA(i[1])).replace(/\.$/,"."+dA(i[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+ZA("0",dA(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+iA(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vA(e,t,-r):iA(""+r)+"."+ZA("0",i[1].length);if(i=t.match(/^#,#*,#0/))return vA(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=F_(vA(e,t.replace(/[\\-]/g,""),r)),s=0,F_(F_(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return s<a.length?a.charAt(s++):"0"===e?"0":""})));if(t.match(hA))return"("+(a=vA(e,"##########",r)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=X_(l,Math.pow(10,s)-1,!1),a=""+c," "==(u=wA("n",i[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],(u=V_(o[2],s)).length<i[4].length&&(u=dA(i[4].substr(i[4].length-u.length))+u),a+=u;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),c+((o=X_(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?U_(o[1],s)+i[2]+"/"+i[3]+V_(o[2],s):ZA(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:dA(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var h=t.indexOf(".")-s,d=t.length-a.length-h;return dA(t.substr(0,h)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+vA(e,t,-r):iA(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?B_(0,3-e.length):"")+e}))+"."+B_(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=iA(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return vA(e,t.slice(0,t.lastIndexOf(".")),r)+dA(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function wA(e,t,r){return(0|r)===r?vA(e,t,r):gA(e,t,r)}var yA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bA(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":z_(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=r;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(yA))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var EA=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function SA(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function TA(e,t){var r=function(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!==typeof t)return[4,4===r.length||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var i=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,i];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var s=r[0].match(EA),o=r[1].match(EA);return SA(t,s)?[n,r[0]]:SA(t,o)?[n,r[1]]:[n,r[null!=s&&null!=o?2:1]]}return[n,i]}function CA(e,t,r){null==r&&(r={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(n=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:G_)[e])&&(n=r.table&&r.table[$_[e]]||G_[$_[e]]),null==n&&(n=K_[e]||"General")}if(z_(n,0))return nA(t,r);t instanceof Date&&(t=eA(t,r.date1904));var a=TA(n,t);if(z_(a[1]))return nA(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,n){for(var a,i,s,o=[],l="",c=0,u="",h="t",d="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!z_(e,c))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(s);o[o.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";o[o.length]={t:p,v:f},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==a&&null==(a=q_(t,r,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=q_(t,r)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=d),o[o.length]={t:u,v:l},h=u;break;case"A":case"a":case"\u4e0a":var g={t:u,v:u};if(null==a&&(a=q_(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=a&&(g.v=a.H>=12?"P":"A"),g.t="T",d="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=a&&(g.v=a.H>=12?"PM":"AM"),g.t="T",c+=5,d="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=a&&(g.v=a.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),g.t="T",c+=5,d="h"):(g.t="t",++c),null==a&&"T"===g.t)return"";o[o.length]=g,h=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(yA)){if(null==a&&null==(a=q_(t,r)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",bA(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;o[o.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;o[o.length]={t:u,v:l},h=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===n?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:u,v:u},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"t",v:u},++c}var m,v=0,w=0;for(c=o.length-1,h="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=d,h="h",v<1&&(v=1);break;case"s":(m=o[c].v.match(/\.0+$/))&&(w=Math.max(w,m[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=o[c].t;break;case"m":"s"===h&&(o[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&o[c].v.match(/[Hh]/)&&(v=1),v<2&&o[c].v.match(/[Mm]/)&&(v=2),v<3&&o[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var y,b="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=aA(o[c].t.charCodeAt(0),o[c].v,a,w),o[c].t="t";break;case"n":case"?":for(y=c+1;null!=o[y]&&("?"===(u=o[y].t)||"D"===u||(" "===u||"t"===u)&&null!=o[y+1]&&("?"===o[y+1].t||"t"===o[y+1].t&&"/"===o[y+1].v)||"("===o[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===o[y].v||" "===o[y].v&&null!=o[y+1]&&"?"==o[y+1].t));)o[c].v+=o[y].v,o[y]={v:"",t:";"},++y;b+=o[c].v,c=y-1;break;case"G":o[c].t="t",o[c].v=nA(t,r)}var E,S,T="";if(b.length>0){40==b.charCodeAt(0)?(E=t<0&&45===b.charCodeAt(0)?-t:t,S=wA("n",b,E)):(S=wA("n",b,E=t<0&&n>1?-t:t),E<0&&o[0]&&"t"==o[0].t&&(S=S.substr(1),o[0].v="-"+o[0].v)),y=S.length-1;var C=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){C=c;break}var _=o.length;if(C===o.length&&-1===S.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(y>=o[c].v.length-1?(y-=o[c].v.length,o[c].v=S.substr(y+1,o[c].v.length)):y<0?o[c].v="":(o[c].v=S.substr(0,y+1),y=-1),o[c].t="t",_=c);y>=0&&_<o.length&&(o[_].v=S.substr(0,y+1)+o[_].v)}else if(C!==o.length&&-1===S.indexOf("E")){for(y=S.indexOf(".")-1,c=C;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(i=o[c].v.indexOf(".")>-1&&c===C?o[c].v.indexOf(".")-1:o[c].v.length-1,T=o[c].v.substr(i+1);i>=0;--i)y>=0&&("0"===o[c].v.charAt(i)||"#"===o[c].v.charAt(i))&&(T=S.charAt(y--)+T);o[c].v=T,o[c].t="t",_=c}for(y>=0&&_<o.length&&(o[_].v=S.substr(0,y+1)+o[_].v),y=S.indexOf(".")+1,c=C;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===C)){for(i=o[c].v.indexOf(".")>-1&&c===C?o[c].v.indexOf(".")+1:0,T=o[c].v.substr(0,i);i<o[c].v.length;++i)y<S.length&&(T+=S.charAt(y++));o[c].v=T,o[c].t="t",_=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(E=n>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=wA(o[c].t,o[c].v,E),o[c].t="t");var A="";for(c=0;c!==o.length;++c)null!=o[c]&&(A+=o[c].v);return A}(a[1],t,r,a[0])}function _A(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(void 0!=G_[r]){if(G_[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return G_[t]=e,t}function AA(e){for(var t=0;392!=t;++t)void 0!==e[t]&&_A(e[t],t)}function IA(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',G_=e}var kA={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},NA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var xA=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)a[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=a[t]=r>>>8^e[255&r];var i=[];for(n=1;16!=n;++n)i[n-1]="undefined"!==typeof Int32Array?a.subarray(256*n,256*n+256):a.slice(256*n,256*n+256);return i}(t),n=r[0],a=r[1],i=r[2],s=r[3],o=r[4],l=r[5],c=r[6],u=r[7],h=r[8],d=r[9],f=r[10],p=r[11],g=r[12],m=r[13],v=r[14];return e.table=t,e.bstr=function(e,r){for(var n=~r,a=0,i=e.length;a<i;)n=n>>>8^t[255&(n^e.charCodeAt(a++))];return~n},e.buf=function(e,r){for(var w=~r,y=e.length-15,b=0;b<y;)w=v[e[b++]^255&w]^m[e[b++]^w>>8&255]^g[e[b++]^w>>16&255]^p[e[b++]^w>>>24]^f[e[b++]]^d[e[b++]]^h[e[b++]]^u[e[b++]]^c[e[b++]]^l[e[b++]]^o[e[b++]]^s[e[b++]]^i[e[b++]]^a[e[b++]]^n[e[b++]]^t[e[b++]];for(y+=15;b<y;)w=w>>>8^t[255&(w^e[b++])];return~w},e.str=function(e,r){for(var n=~r,a=0,i=e.length,s=0,o=0;a<i;)(s=e.charCodeAt(a++))<128?n=n>>>8^t[255&(n^s)]:s<2048?n=(n=n>>>8^t[255&(n^(192|s>>6&31))])>>>8^t[255&(n^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),o=1023&e.charCodeAt(a++),n=(n=(n=(n=n>>>8^t[255&(n^(240|s>>8&7))])>>>8^t[255&(n^(128|s>>2&63))])>>>8^t[255&(n^(128|o>>6&15|(3&s)<<4))])>>>8^t[255&(n^(128|63&o))]):n=(n=(n=n>>>8^t[255&(n^(224|s>>12&15))])>>>8^t[255&(n^(128|s>>6&63))])>>>8^t[255&(n^(128|63&s))];return~n},e}(),DA=function(){var e,t={};function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"===typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var n=t.getFullYear()-1980;n=(n=n<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,n)}function i(e){eN(e,0);for(var t={},r=0;e.l<=e.length-4;){var n=e.read_shift(2),a=e.read_shift(2),i=e.l+a,s={};if(21589===n)1&(r=e.read_shift(1))&&(s.mtime=e.read_shift(4)),a>5&&(2&r&&(s.atime=e.read_shift(4)),4&r&&(s.ctime=e.read_shift(4))),s.mtime&&(s.mt=new Date(1e3*s.mtime));e.l=i,t[n]=s}return t}function s(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=S(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",n=(A_&&Buffer.isBuffer(e)?e.toString("binary"):S(e)).split("\r\n"),a=0,i="";for(a=0;a<n.length;++a)if(i=n[a],/^Content-Location:/i.test(i)&&(i=i.slice(i.indexOf("file")),r||(r=i.slice(0,i.lastIndexOf("/")+1)),i.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),i.slice(0,r.length)!=r););var s=(n[1]||"").match(/boundary="(.*?)"/);if(!s)throw new Error("MAD cannot find boundary");var o="--"+(s[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};d(u);var h,f=0;for(a=0;a<n.length;++a){var p=n[a];p!==o&&p!==o+"--"||(f++&&ce(u,n.slice(h,a),r),h=a)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r,n,a,i,s,o,f=512,p=[],g=e.slice(0,512);eN(g,0);var m=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(w,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(g);switch(r=m[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==m[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==f&&eN(g=e.slice(0,f),28);var y=e.slice(0,f);!function(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(g,r);var b=g.read_shift(4,"i");if(3===r&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);g.l+=4,i=g.read_shift(4,"i"),g.l+=4,g.chk("00100000","Mini Stream Cutoff Size: "),s=g.read_shift(4,"i"),n=g.read_shift(4,"i"),o=g.read_shift(4,"i"),a=g.read_shift(4,"i");for(var E=-1,T=0;T<109&&!((E=g.read_shift(4,"i"))<0);++T)p[T]=E;var C=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=[],a=1;a<r;++a)n[a-1]=e.slice(a*t,(a+1)*t);return n[r-1]=e.slice(r*t),n}(e,f);c(o,a,C,f,p);var _=function(e,t,r,n){var a=e.length,i=[],s=[],o=[],l=[],c=n-1,u=0,h=0,d=0,f=0;for(u=0;u<a;++u)if(o=[],(d=u+t)>=a&&(d-=a),!s[d]){l=[];var p=[];for(h=d;h>=0;){p[h]=!0,s[h]=!0,o[o.length]=h,l.push(e[h]);var g=r[Math.floor(4*h/n)];if(n<4+(f=4*h&c))throw new Error("FAT boundary crossed: "+h+" 4 "+n);if(!e[g])break;if(p[h=Gk(e[g],f)])break}i[d]={nodes:o,data:Ek([l])}}return i}(C,i,p,f);_[i].name="!Directory",n>0&&s!==v&&(_[s].name="!MiniFAT"),_[p[0]].name="!FAT",_.fat_addrs=p,_.ssz=f;var A=[],I=[],k=[];!function(e,t,r,n,a,i,s,o){for(var c,d=0,f=n.length?2:0,p=t[e].data,g=0,m=0;g<p.length;g+=128){var w=p.slice(g,g+128);eN(w,64),m=w.read_shift(2),c=Tk(w,0,m-f),n.push(c);var y={name:c,type:w.read_shift(1),color:w.read_shift(1),L:w.read_shift(4,"i"),R:w.read_shift(4,"i"),C:w.read_shift(4,"i"),clsid:w.read_shift(16),state:w.read_shift(4,"i"),start:0,size:0};0!==w.read_shift(2)+w.read_shift(2)+w.read_shift(2)+w.read_shift(2)&&(y.ct=h(w,w.l-8)),0!==w.read_shift(2)+w.read_shift(2)+w.read_shift(2)+w.read_shift(2)&&(y.mt=h(w,w.l-8)),y.start=w.read_shift(4,"i"),y.size=w.read_shift(4,"i"),y.size<0&&y.start<0&&(y.size=y.type=0,y.start=v,y.name=""),5===y.type?(d=y.start,a>0&&d!==v&&(t[d].name="!StreamData")):y.size>=4096?(y.storage="fat",void 0===t[y.start]&&(t[y.start]=u(r,y.start,t.fat_addrs,t.ssz)),t[y.start].name=y.name,y.content=t[y.start].data.slice(0,y.size)):(y.storage="minifat",y.size<0?y.size=0:d!==v&&y.start!==v&&t[d]&&(y.content=l(y,t[d].data,(t[o]||{}).data))),y.content&&eN(y.content,0),i[c]=y,s.push(y)}}(i,_,C,A,n,{},I,s),function(e,t,r){for(var n=0,a=0,i=0,s=0,o=0,l=r.length,c=[],u=[];n<l;++n)c[n]=u[n]=n,t[n]=r[n];for(;o<u.length;++o)a=e[n=u[o]].L,i=e[n].R,s=e[n].C,c[n]===n&&(-1!==a&&c[a]!==a&&(c[n]=c[a]),-1!==i&&c[i]!==i&&(c[n]=c[i])),-1!==s&&(c[s]=n),-1!==a&&n!=c[n]&&(c[a]=c[n],u.lastIndexOf(a)<o&&u.push(a)),-1!==i&&n!=c[n]&&(c[i]=c[n],u.lastIndexOf(i)<o&&u.push(i));for(n=1;n<l;++n)c[n]===n&&(-1!==i&&c[i]!==i?c[n]=c[i]:-1!==a&&c[a]!==a&&(c[n]=c[a]));for(n=1;n<l;++n)if(0!==e[n].type){if((o=n)!=c[o])do{o=c[o],t[n]=t[o]+"/"+t[n]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[n]=-1}for(t[0]+="/",n=1;n<l;++n)2!==e[n].type&&(t[n]+="/")}(I,k,A),A.shift();var N={FileIndex:I,FullPaths:k};return t&&t.raw&&(N.raw={header:y,sectors:C}),N}function l(e,t,r){for(var n=e.start,a=e.size,i=[],s=n;r&&a>0&&s>=0;)i.push(t.slice(s*m,s*m+m)),a-=m,s=Gk(r,4*s);return 0===i.length?rN(0):O_(i).slice(0,e.size)}function c(e,t,r,n,a){var i=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var s=r[e],o=(n>>>2)-1;if(!s)return;for(var l=0;l<o&&(i=Gk(s,4*l))!==v;++l)a.push(i);c(Gk(s,n-4),t-1,r,n,a)}}function u(e,t,r,n,a){var i=[],s=[];a||(a=[]);var o=n-1,l=0,c=0;for(l=t;l>=0;){a[l]=!0,i[i.length]=l,s.push(e[l]);var u=r[Math.floor(4*l/n)];if(n<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+n);if(!e[u])break;l=Gk(e[u],c)}return{nodes:i,data:Ek([s])}}function h(e,t){return new Date(1e3*(Yk(e,t+4)/1e7*Math.pow(2,32)+Yk(e,t)/1e7-11644473600))}function d(e,t){var r=t||{},n=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=n+"/",e.FileIndex[0]={name:n,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="\x01Sh33tJ5";if(DA.find(e,"/"+t))return;var r=rN(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){d(e);for(var a=!1,i=!1,s=e.FullPaths.length-1;s>=0;--s){var o=e.FileIndex[s];switch(o.type){case 0:i?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:i=!0,isNaN(o.R*o.L*o.C)&&(a=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},h=[];for(s=0;s<e.FullPaths.length;++s)u[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&h.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<h.length;++s){var f=r(h[s][0]);(i=u[f])||(h.push([f,{name:n(f).replace("/",""),type:1,clsid:b,ct:l,mt:l,content:null}]),u[f]=!0)}for(h.sort((function(e,t){return function(e,t){for(var r=e.split("/"),n=t.split("/"),a=0,i=0,s=Math.min(r.length,n.length);a<s;++a){if(i=r[a].length-n[a].length)return i;if(r[a]!=n[a])return r[a]<n[a]?-1:1}return r.length-n.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],s=0;s<h.length;++s)e.FullPaths[s]=h[s][0],e.FileIndex[s]=h[s][1];for(s=0;s<h.length;++s){var p=e.FileIndex[s],g=e.FullPaths[s];if(p.name=n(g).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||b,0===s)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==g.slice(-1)){for(c=s+1;c<h.length&&r(e.FullPaths[c])!=g;++c);for(p.C=c>=h.length?-1:c,c=s+1;c<h.length&&r(e.FullPaths[c])!=r(g);++c);p.R=c>=h.length?-1:c,p.type=1}else r(e.FullPaths[s+1]||"")==r(g)&&(p.R=s+1),p.type=2}}}function p(e,t){var r=t||{};if("mad"==r.fileType)return function(e,t){for(var r=t||{},n=r.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(n="------="+n).slice(2)+'"',"","",""],i=e.FullPaths[0],s=i,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(s=e.FullPaths[l].slice(i.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=s){s=s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=o.content,u=A_&&Buffer.isBuffer(c)?c.toString("binary"):S(c),h=0,d=Math.min(1024,u.length),f=0,p=0;p<=d;++p)(f=u.charCodeAt(p))>=32&&f<128&&++h;var g=h>=4*d/5;a.push(n),a.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+s),a.push("Content-Transfer-Encoding: "+(g?"quoted-printable":"base64")),a.push("Content-Type: "+se(o,s)),a.push(""),a.push(g?le(u):oe(u))}return a.push(n+"--\r\n"),a.join("\r\n")}(e,r);if(f(e),"zip"===r.fileType)return function(e,t){var r=t||{},n=[],i=[],s=rN(1),o=r.compression?8:0,l=0;0;var c=0,u=0,h=0,d=0,f=e.FullPaths[0],p=f,g=e.FileIndex[0],m=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(g=e.FileIndex[c]).size&&g.content&&"\x01Sh33tJ5"!=p){var w=h,y=rN(p.length);for(u=0;u<p.length;++u)y.write_shift(1,127&p.charCodeAt(u));y=y.slice(0,y.l),m[d]=xA.buf(g.content,0);var b=g.content;8==o&&(b=T(b)),(s=rN(30)).write_shift(4,67324752),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),g.mt?a(s,g.mt):s.write_shift(4,0),s.write_shift(-4,8&l?0:m[d]),s.write_shift(4,8&l?0:b.length),s.write_shift(4,8&l?0:g.content.length),s.write_shift(2,y.length),s.write_shift(2,0),h+=s.length,n.push(s),h+=y.length,n.push(y),h+=b.length,n.push(b),8&l&&((s=rN(12)).write_shift(-4,m[d]),s.write_shift(4,b.length),s.write_shift(4,g.content.length),h+=s.l,n.push(s)),(s=rN(46)).write_shift(4,33639248),s.write_shift(2,0),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),s.write_shift(4,0),s.write_shift(-4,m[d]),s.write_shift(4,b.length),s.write_shift(4,g.content.length),s.write_shift(2,y.length),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s.write_shift(4,w),v+=s.l,i.push(s),v+=y.length,i.push(y),++d}return s=rN(22),s.write_shift(4,101010256),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,d),s.write_shift(2,d),s.write_shift(4,v),s.write_shift(4,h),s.write_shift(2,0),O_([O_(n),O_(i),s])}(e,r);var n=function(e){for(var t=0,r=0,n=0;n<e.FileIndex.length;++n){var a=e.FileIndex[n];if(a.content){var i=a.content.length;i>0&&(i<4096?t+=i+63>>6:r+=i+511>>9)}}for(var s=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+r+s+o,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var h=[1,u,c,o,s,r,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),i=rN(n[7]<<9),s=0,o=0;for(s=0;s<8;++s)i.write_shift(1,y[s]);for(s=0;s<8;++s)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),s=0;s<3;++s)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,n[2]),i.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:v),i.write_shift(4,n[3]),i.write_shift(-4,n[1]?n[0]-1:v),i.write_shift(4,n[1]),s=0;s<109;++s)i.write_shift(-4,s<n[2]?n[1]+s:-1);if(n[1])for(o=0;o<n[1];++o){for(;s<236+127*o;++s)i.write_shift(-4,s<n[2]?n[1]+s:-1);i.write_shift(-4,o===n[1]-1?v:o+1)}var l=function(e){for(o+=e;s<o-1;++s)i.write_shift(-4,s+1);e&&(++s,i.write_shift(-4,v))};for(o=s=0,o+=n[1];s<o;++s)i.write_shift(-4,E.DIFSECT);for(o+=n[2];s<o;++s)i.write_shift(-4,E.FATSECT);l(n[3]),l(n[4]);for(var c=0,u=0,h=e.FileIndex[0];c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&((u=h.content.length)<4096||(h.start=o,l(u+511>>9)));for(l(n[6]+7>>3);511&i.l;)i.write_shift(-4,E.ENDOFCHAIN);for(o=s=0,c=0;c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&(!(u=h.content.length)||u>=4096||(h.start=o,l(u+63>>6)));for(;511&i.l;)i.write_shift(-4,E.ENDOFCHAIN);for(s=0;s<n[4]<<2;++s){var d=e.FullPaths[s];if(d&&0!==d.length){h=e.FileIndex[s],0===s&&(h.start=h.size?h.start-1:v);var p=0===s&&r.root||h.name;if(u=2*(p.length+1),i.write_shift(64,p,"utf16le"),i.write_shift(2,u),i.write_shift(1,h.type),i.write_shift(1,h.color),i.write_shift(-4,h.L),i.write_shift(-4,h.R),i.write_shift(-4,h.C),h.clsid)i.write_shift(16,h.clsid,"hex");else for(c=0;c<4;++c)i.write_shift(4,0);i.write_shift(4,h.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,h.start),i.write_shift(4,h.size),i.write_shift(4,0)}else{for(c=0;c<17;++c)i.write_shift(4,0);for(c=0;c<3;++c)i.write_shift(4,-1);for(c=0;c<12;++c)i.write_shift(4,0)}}for(s=1;s<e.FileIndex.length;++s)if((h=e.FileIndex[s]).size>=4096)if(i.l=h.start+1<<9,A_&&Buffer.isBuffer(h.content))h.content.copy(i,i.l,0,h.size),i.l+=h.size+511&-512;else{for(c=0;c<h.size;++c)i.write_shift(1,h.content[c]);for(;511&c;++c)i.write_shift(1,0)}for(s=1;s<e.FileIndex.length;++s)if((h=e.FileIndex[s]).size>0&&h.size<4096)if(A_&&Buffer.isBuffer(h.content))h.content.copy(i,i.l,0,h.size),i.l+=h.size+63&-64;else{for(c=0;c<h.size;++c)i.write_shift(1,h.content[c]);for(;63&c;++c)i.write_shift(1,0)}if(A_)i.l=i.length;else for(;i.l<i.length;)i.write_shift(1,0);return i}t.version="1.2.1";var g,m=64,v=-2,w="d0cf11e0a1b11ae1",y=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",E={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:w,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function S(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function T(e){return g?g.deflateRawSync(e):K(e)}var C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function I(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var k="undefined"!==typeof Uint8Array,N=k?new Uint8Array(256):[],x=0;x<256;++x)N[x]=I(x);function D(e,t){var r=N[255&e];return t<=8?r>>>8-t:(r=r<<8|N[e>>8&255],t<=16?r>>>16-t:(r=r<<8|N[e>>16&255])>>>24-t)}function R(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=6?0:e[n+1]<<8))>>>r&3}function M(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=5?0:e[n+1]<<8))>>>r&7}function O(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=3?0:e[n+1]<<8))>>>r&31}function P(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=1?0:e[n+1]<<8))>>>r&127}function L(e,t,r){var n=7&t,a=t>>>3,i=(1<<r)-1,s=e[a]>>>n;return r<8-n?s&i:(s|=e[a+1]<<8-n,r<16-n?s&i:(s|=e[a+2]<<16-n,r<24-n?s&i:(s|=e[a+3]<<24-n)&i))}function F(e,t,r){var n=7&t,a=t>>>3;return n<=5?e[a]|=(7&r)<<n:(e[a]|=r<<n&255,e[a+1]=(7&r)>>8-n),t+3}function B(e,t,r){return r=(1&r)<<(7&t),e[t>>>3]|=r,t+1}function U(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=r,t+8}function V(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=255&r,e[n+2]=r>>>8,t+16}function j(e,t){var r=e.length,n=2*r>t?2*r:t+5,a=0;if(r>=t)return e;if(A_){var i=N_(n);if(e.copy)e.copy(i);else for(;a<e.length;++a)i[a]=e[a];return i}if(k){var s=new Uint8Array(n);if(s.set)s.set(e);else for(;a<r;++a)s[a]=e[a];return s}return e.length=n,e}function H(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function z(e,t,r){var n=1,a=0,i=0,s=0,o=0,l=e.length,c=k?new Uint16Array(32):H(32);for(i=0;i<32;++i)c[i]=0;for(i=l;i<r;++i)e[i]=0;l=e.length;var u=k?new Uint16Array(l):H(l);for(i=0;i<l;++i)c[a=e[i]]++,n<a&&(n=a),u[i]=0;for(c[0]=0,i=1;i<=n;++i)c[i+16]=o=o+c[i-1]<<1;for(i=0;i<l;++i)0!=(o=e[i])&&(u[i]=c[o+16]++);var h=0;for(i=0;i<l;++i)if(0!=(h=e[i]))for(o=D(u[i],n)>>n-h,s=(1<<n+4-h)-1;s>=0;--s)t[o|s<<h]=15&h|i<<4;return n}var W=k?new Uint16Array(512):H(512),Y=k?new Uint16Array(32):H(32);if(!k){for(var G=0;G<512;++G)W[G]=0;for(G=0;G<32;++G)Y[G]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);z(e,Y,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);z(r,W,288)}();var $=function(){for(var e=k?new Uint8Array(32768):[],t=0,r=0;t<A.length-1;++t)for(;r<A[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var n=k?new Uint8Array(259):[];for(t=0,r=0;t<_.length-1;++t)for(;r<_[t+1];++r)n[r]=t;return function(t,r){return t.length<8?function(e,t){for(var r=0;r<e.length;){var n=Math.min(65535,e.length-r),a=r+n==e.length;for(t.write_shift(1,+a),t.write_shift(2,n),t.write_shift(2,65535&~n);n-- >0;)t[t.l++]=e[r++]}return t.l}(t,r):function(t,r){for(var a=0,i=0,s=k?new Uint16Array(32768):[];i<t.length;){var o=Math.min(65535,t.length-i);if(o<10){for(7&(a=F(r,a,+!(i+o!=t.length)))&&(a+=8-(7&a)),r.l=a/8|0,r.write_shift(2,o),r.write_shift(2,65535&~o);o-- >0;)r[r.l++]=t[i++];a=8*r.l}else{a=F(r,a,+!(i+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[i],u=-1,h=0;if((u=s[l=32767&(l<<5^c)])&&((u|=-32768&i)>i&&(u-=32768),u<i))for(;t[u+h]==t[i+h]&&h<250;)++h;if(h>2){(c=n[h])<=22?a=U(r,a,N[c+1]>>1)-1:(U(r,a,3),U(r,a+=5,N[c-23]>>5),a+=3);var d=c<8?0:c-4>>2;d>0&&(V(r,a,h-_[c]),a+=d),c=e[i-u],a=U(r,a,N[c]>>3),a-=3;var f=c<4?0:c-2>>1;f>0&&(V(r,a,i-u-A[c]),a+=f);for(var p=0;p<h;++p)s[l]=32767&i,l=32767&(l<<5^t[i]),++i;o-=h-1}else c<=143?c+=48:a=B(r,a,1),a=U(r,a,N[c]),s[l]=32767&i,++i}a=U(r,a,0)-1}}return r.l=(a+7)/8|0,r.l}(t,r)}}();function K(e){var t=rN(50+Math.floor(1.1*e.length)),r=$(e,t);return t.slice(0,r)}var X=k?new Uint16Array(32768):H(32768),q=k?new Uint16Array(32768):H(32768),Q=k?new Uint16Array(128):H(128),Z=1,J=1;function ee(e,t){var r=O(e,t)+257,n=O(e,t+=5)+1,a=function(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=4?0:e[n+1]<<8))>>>r&15}(e,t+=5)+4;t+=4;for(var i=0,s=k?new Uint8Array(19):H(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=k?new Uint8Array(8):H(8),u=k?new Uint8Array(8):H(8),h=s.length,d=0;d<a;++d)s[C[d]]=i=M(e,t),l<i&&(l=i),c[i]++,t+=3;var f=0;for(c[0]=0,d=1;d<=l;++d)u[d]=f=f+c[d-1]<<1;for(d=0;d<h;++d)0!=(f=s[d])&&(o[d]=u[f]++);var p=0;for(d=0;d<h;++d)if(0!=(p=s[d])){f=N[o[d]]>>8-p;for(var g=(1<<7-p)-1;g>=0;--g)Q[f|g<<p]=7&p|d<<3}var m=[];for(l=1;m.length<r+n;)switch(t+=7&(f=Q[P(e,t)]),f>>>=3){case 16:for(i=3+R(e,t),t+=2,f=m[m.length-1];i-- >0;)m.push(f);break;case 17:for(i=3+M(e,t),t+=3;i-- >0;)m.push(0);break;case 18:for(i=11+P(e,t),t+=7;i-- >0;)m.push(0);break;default:m.push(f),l<f&&(l=f)}var v=m.slice(0,r),w=m.slice(r);for(d=r;d<286;++d)v[d]=0;for(d=n;d<30;++d)w[d]=0;return Z=z(v,X,286),J=z(w,q,30),t}function te(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[k_(t),2];for(var r=0,n=0,a=N_(t||1<<18),i=0,s=a.length>>>0,o=0,l=0;0==(1&n);)if(n=M(e,r),r+=3,n>>>1!=0)for(n>>1==1?(o=9,l=5):(r=ee(e,r),o=Z,l=J);;){!t&&s<i+32767&&(s=(a=j(a,i+32767)).length);var c=L(e,r,o),u=n>>>1==1?W[c]:X[c];if(r+=15&u,0===((u>>>=4)>>>8&255))a[i++]=u;else{if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var d=i+_[u];h>0&&(d+=L(e,r,h),r+=h),c=L(e,r,l),r+=15&(u=n>>>1==1?Y[c]:q[c]);var f=(u>>>=4)<4?0:u-2>>1,p=A[u];for(f>0&&(p+=L(e,r,f),r+=f),!t&&s<d&&(s=(a=j(a,d+100)).length);i<d;)a[i]=a[i-p],++i}}else{7&r&&(r+=8-(7&r));var g=e[r>>>3]|e[1+(r>>>3)]<<8;if(r+=32,g>0)for(!t&&s<i+g&&(s=(a=j(a,i+g)).length);g-- >0;)a[i++]=e[r>>>3],r+=8}return t?[a,r+7>>>3]:[a.slice(0,i),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function re(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function ne(e,t){var r=e;eN(r,0);var n={FileIndex:[],FullPaths:[]};d(n,{root:t.root});for(var a=r.length-4;(80!=r[a]||75!=r[a+1]||5!=r[a+2]||6!=r[a+3])&&a>=0;)--a;r.l=a+4,r.l+=4;var s=r.read_shift(2);r.l+=6;var o=r.read_shift(4);for(r.l=o,a=0;a<s;++a){r.l+=20;var l=r.read_shift(4),c=r.read_shift(4),u=r.read_shift(2),h=r.read_shift(2),f=r.read_shift(2);r.l+=8;var p=r.read_shift(4),g=i(r.slice(r.l+u,r.l+u+h));r.l+=u+h+f;var m=r.l;r.l=p+4,ae(r,l,c,n,g),r.l=m}return n}function ae(e,t,r,n,a){e.l+=2;var s=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),n=new Date,a=31&r,i=15&(r>>>=5);r>>>=4,n.setMilliseconds(0),n.setFullYear(r+1980),n.setMonth(i-1),n.setDate(a);var s=31&t,o=63&(t>>>=5);return t>>>=6,n.setHours(t),n.setMinutes(o),n.setSeconds(s<<1),n}(e);if(8257&s)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),d=e.read_shift(2),f="",p=0;p<h;++p)f+=String.fromCharCode(e[e.l++]);if(d){var m=i(e.slice(e.l,e.l+d));(m[21589]||{}).mt&&(l=m[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=d;var v=e.slice(e.l,e.l+c);switch(o){case 8:v=function(e,t){if(!g)return te(e,t);var r=new(0,g.InflateRaw),n=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,n}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var w=!1;8&s&&(134695760==e.read_shift(4)&&(e.read_shift(4),w=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&re(w,"Bad compressed size: "+t+" != "+c),u!=r&&re(w,"Bad uncompressed size: "+r+" != "+u),ue(n,f,v,{unsafe:!0,mt:l})}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function se(e,t){if(e.ctype)return e.ctype;var r=e.name||"",n=r.match(/\.([^\.]+)$/);return n&&ie[n[1]]||t&&(n=(r=t).match(/[\.\\]([^\.\\])+$/))&&ie[n[1]]?ie[n[1]]:"application/octet-stream"}function oe(e){for(var t=C_(e),r=[],n=0;n<t.length;n+=76)r.push(t.slice(n,n+76));return r.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var r=[],n=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<n.length;++a){var i=n[a];if(0!=i.length)for(var s=0;s<i.length;){var o=76,l=i.slice(s,s+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=i.slice(s,s+o),(s+=o)<i.length&&(l+="="),r.push(l)}else r.push("")}return r.join("\r\n")}function ce(e,t,r){for(var n,a="",i="",s="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":s=c[2].trim();break;case"content-transfer-encoding":i=c[2].trim()}}switch(++o,i.toLowerCase()){case"base64":n=x_(__(t.slice(o).join("")));break;case"quoted-printable":n=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r];r<=e.length&&"="==n.charAt(n.length-1);)n=n.slice(0,n.length-1)+e[++r];t.push(n)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return x_(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+i)}var u=ue(e,a.slice(r.length),n,{unsafe:!0});s&&(u.ctype=s)}function ue(e,t,r,a){var i=a&&a.unsafe;i||d(e);var s=!i&&DA.find(e,t);if(!s){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),s={name:n(t),type:2},e.FileIndex.push(s),e.FullPaths.push(o),i||DA.utils.cfb_gc(e)}return s.content=r,s.size=r?r.length:0,a&&(a.CLSID&&(s.clsid=a.CLSID),a.mt&&(s.mt=a.mt),a.ct&&(s.ct=a.ct)),s}return t.find=function(e,t){var r=e.FullPaths.map((function(e){return e.toUpperCase()})),n=r.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),a=!1;47===t.charCodeAt(0)?(a=!0,t=r[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var i=t.toUpperCase(),s=!0===a?r.indexOf(i):n.indexOf(i);if(-1!==s)return e.FileIndex[s];var o=!i.match(L_);for(i=i.replace(P_,""),o&&(i=i.replace(L_,"!")),s=0;s<r.length;++s){if((o?r[s].replace(L_,"!"):r[s]).replace(P_,"")==i)return e.FileIndex[s];if((o?n[s].replace(L_,"!"):n[s]).replace(P_,"")==i)return e.FileIndex[s]}return null},t.read=function(t,r){var n=r&&r.type;switch(n||A_&&Buffer.isBuffer(t)&&(n="buffer"),n||"base64"){case"file":return function(t,r){return s(),o(e.readFileSync(t),r)}(t,r);case"base64":return o(x_(__(t)),r);case"binary":return o(x_(t),r)}return o(t,r)},t.parse=o,t.write=function(t,r){var n=p(t,r);switch(r&&r.type||"buffer"){case"file":return s(),e.writeFileSync(r.filename,n),n;case"binary":return"string"==typeof n?n:S(n);case"base64":return C_("string"==typeof n?n:S(n));case"buffer":if(A_)return Buffer.isBuffer(n)?n:I_(n);case"array":return"string"==typeof n?x_(n):n}return n},t.writeFile=function(t,r,n){s();var a=p(t,n);e.writeFileSync(r,a)},t.utils={cfb_new:function(e){var t={};return d(t,e),t},cfb_add:ue,cfb_del:function(e,t){d(e);var r=DA.find(e,t);if(r)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==r)return e.FileIndex.splice(n,1),e.FullPaths.splice(n,1),!0;return!1},cfb_mov:function(e,t,r){d(e);var a=DA.find(e,t);if(a)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==a)return e.FileIndex[i].name=n(r),e.FullPaths[i]=r,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:Kk,CheckField:Jk,prep_blob:eN,bconcat:O_,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");g=e}catch(qF){console.error("cannot use native zlib: "+(qF.message||qF))}},_deflateRaw:K,_inflateRaw:te,consts:E},t}();let RA;function MA(e){return"string"===typeof e?D_(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function OA(e,t,r){if("undefined"!==typeof RA&&RA.writeFileSync)return r?RA.writeFileSync(e,t,r):RA.writeFileSync(e,t);if("undefined"!==typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=D_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n="utf8"==r?UI(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(n,e);if("undefined"!==typeof Blob){var a=new Blob([MA(n)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!==typeof saveAs)return saveAs(a,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(null!=s.download)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),i}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=R_(t)),o.write(t),o.close(),t}catch(qF){if(!qF.message||!qF.message.match(/onstruct/))throw qF}throw new Error("cannot save file "+e)}function PA(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function LA(e,t){for(var r=[],n=PA(e),a=0;a!==n.length;++a)null==r[e[n[a]][t]]&&(r[e[n[a]][t]]=n[a]);return r}function FA(e){for(var t=[],r=PA(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function BA(e){for(var t=[],r=PA(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}var UA=new Date(1899,11,30,0,0,0);function VA(e,t){var r=e.getTime();return t&&(r-=1263168e5),(r-(UA.getTime()+6e4*(e.getTimezoneOffset()-UA.getTimezoneOffset())))/864e5}var jA=new Date,HA=UA.getTime()+6e4*(jA.getTimezoneOffset()-UA.getTimezoneOffset()),zA=jA.getTimezoneOffset();function WA(e){var t=new Date;return t.setTime(24*e*60*60*1e3+HA),t.getTimezoneOffset()!==zA&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-zA)),t}function YA(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(!n)throw new Error("Unsupported ISO Duration Field: M");r*=60}t+=r*parseInt(a[i],10)}return t}var GA=new Date("2017-02-19T19:06:09.000Z"),$A=isNaN(GA.getFullYear())?new Date("2/19/17"):GA,KA=2017==$A.getFullYear();function XA(e,t){var r=new Date(e);if(KA)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==$A.getFullYear()&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)),i}function qA(e,t){if(A_&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return UI(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return UI(w_(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return UI(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return UI(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return r[e]||e}))}catch(qF){}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function QA(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=QA(e[r]));return t}function ZA(e,t){for(var r="";r.length<t;)r+=e;return r}function JA(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return r*=100,""}));return isNaN(t=Number(n))?(n=n.replace(/[(](.*)[)]/,(function(e,t){return r=-r,t})),isNaN(t=Number(n))?t:t/r):t/r}var eI=["january","february","march","april","may","june","july","august","september","october","november","december"];function tI(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==eI.indexOf(s))return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?r:t}var rI=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,r,n){if(e||"string"==typeof r)return t.split(r);for(var a=t.split(r),i=[a[0]],s=1;s<a.length;++s)i.push(n),i.push(a[s]);return i}}();function nI(e){return e?e.content&&e.type?qA(e.content,!0):e.data?b_(e.data):e.asNodeBuffer&&A_?b_(e.asNodeBuffer().toString("binary")):e.asBinary?b_(e.asBinary()):e._data&&e._data.getContent?b_(qA(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function aI(e){if(!e)return null;if(e.data)return v_(e.data);if(e.asNodeBuffer&&A_)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?v_(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function iI(e,t){for(var r=e.FullPaths||PA(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function sI(e,t){var r=iI(e,t);if(null==r)throw new Error("Cannot find file "+t+" in zip");return r}function oI(e,t,r){if(!r)return function(e){return e&&".bin"===e.name.slice(-4)?aI(e):nI(e)}(sI(e,t));if(!t)return null;try{return oI(e,t)}catch(qF){return null}}function lI(e,t,r){if(!r)return nI(sI(e,t));if(!t)return null;try{return lI(e,t)}catch(qF){return null}}function cI(e,t,r){if(!r)return aI(sI(e,t));if(!t)return null;try{return cI(e,t)}catch(qF){return null}}function uI(e){for(var t=e.FullPaths||PA(e.files),r=[],n=0;n<t.length;++n)"/"!=t[n].slice(-1)&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function hI(e,t,r){if(e.FullPaths){var n;if("string"==typeof r)return n=A_?I_(r):function(e){for(var t=[],r=0,n=e.length+250,a=k_(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|63&s;else if(s>=55296&&s<57344){s=64+(1023&s);var o=1023&e.charCodeAt(++i);a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(3&s)<<4,a[r++]=128|63&o}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|63&s;r>n&&(t.push(a.slice(0,r)),r=0,a=k_(65535),n=65530)}return t.push(a.slice(0,r)),O_(t)}(r),DA.utils.cfb_add(e,t,n);DA.utils.cfb_add(e,t,r)}else e.file(t,r)}function dI(){return DA.utils.cfb_new()}function fI(e,t){switch(t.type){case"base64":return DA.read(e,{type:"base64"});case"binary":return DA.read(e,{type:"binary"});case"buffer":case"array":return DA.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function pI(e,t){if("/"==e.charAt(0))return e.slice(1);var r=t.split("/");"/"!=t.slice(-1)&&r.pop();for(var n=e.split("/");0!==n.length;){var a=n.shift();".."===a?r.pop():"."!==a&&r.push(a)}return r.join("/")}var gI='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',mI=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,vI=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,wI=gI.match(vI)?vI:/<[^>]*>/g,yI=/<\w*:/,bI=/<(\/?)\w+:/;function EI(e,t,r){for(var n={},a=0,i=0;a!==e.length&&(32!==(i=e.charCodeAt(a))&&10!==i&&13!==i);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(mI),o=0,l="",c=0,u="",h="",d=1;if(s)for(c=0;c!=s.length;++c){for(h=s[c],i=0;i!=h.length&&61!==h.charCodeAt(i);++i);for(u=h.slice(0,i).trim();32==h.charCodeAt(i+1);)++i;for(d=34==(a=h.charCodeAt(i+1))||39==a?1:0,l=h.slice(i+1+d,h.length-d),o=0;o!=u.length&&58!==u.charCodeAt(o);++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,r||(n[u.toLowerCase()]=l);else{var f=(5===o&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(o+1);if(n[f]&&"ext"==u.slice(o-3,o))continue;n[f]=l,r||(n[f.toLowerCase()]=l)}}return n}function SI(e){return e.replace(bI,"<$1")}var TI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},CI=FA(TI),_I=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(-1==i)return a.replace(e,(function(e,t){return TI[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),AI=/[&<>'"]/g,II=/[\u0000-\u0008\u000b-\u001f]/g;function kI(e){return(e+"").replace(AI,(function(e){return CI[e]})).replace(II,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function NI(e){return kI(e).replace(/ /g,"_x0020_")}var xI=/[\u0000-\u001f]/g;function DI(e){return(e+"").replace(AI,(function(e){return CI[e]})).replace(/\n/g,"<br/>").replace(xI,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}var RI=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(r){return r.replace(e,t)}}();function MI(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function OI(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(a=e.charCodeAt(r++),n>191&&n<224?(s=(31&n)<<6,s|=63&a,t+=String.fromCharCode(s)):(i=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&i):(o=((7&n)<<18|(63&a)<<12|(63&i)<<6|63&(s=e.charCodeAt(r++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function PI(e){var t,r,n,a=k_(2*e.length),i=1,s=0,o=0;for(r=0;r<e.length;r+=i)i=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),i=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),i=3):(i=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(a[s++]=255&o,a[s++]=o>>>8,o=0),a[s++]=t%256,a[s++]=t>>>8;return a.slice(0,s).toString("ucs2")}function LI(e){return I_(e,"binary").toString("utf8")}var FI="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",BI=A_&&(LI(FI)==OI(FI)&&LI||PI(FI)==OI(FI)&&PI)||OI,UI=A_?function(e){return I_(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},VI=function(){var e={};return function(t,r){var n=t+"|"+(r||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),jI=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}}(),HI=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),zI=/<\/?(?:vt:)?variant>/g,WI=/<(?:vt:)([^>]*)>([\s\S]*)</;function YI(e,t){var r=EI(e),n=e.match(HI(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach((function(e){var t=e.replace(zI,"").match(WI);t&&a.push({v:BI(t[2]),t:t[1]})})),a}var GI=/(^\s|\s$|\n)/;function $I(e,t){return"<"+e+(t.match(GI)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function KI(e){return PA(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function XI(e,t,r){return"<"+e+(null!=r?KI(r):"")+(null!=t?(t.match(GI)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function qI(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(qF){if(t)throw qF}return""}function QI(e){if(A_&&Buffer.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return BI(R_(M_(e)));throw new Error("Bad input format: expected Buffer or string")}var ZI=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,JI="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",ek="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",tk="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",rk="http://schemas.openxmlformats.org/package/2006/content-types",nk="http://schemas.openxmlformats.org/package/2006/relationships",ak="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",ik="http://purl.org/dc/elements/1.1/",sk="http://purl.org/dc/terms/",ok="http://purl.org/dc/dcmitype/",lk="http://schemas.openxmlformats.org/officeDocument/2006/relationships",ck="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",uk="http://www.w3.org/2001/XMLSchema-instance",hk="http://www.w3.org/2001/XMLSchema",dk=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],fk="urn:schemas-microsoft-com:office:office",pk="urn:schemas-microsoft-com:office:excel",gk="urn:schemas-microsoft-com:office:spreadsheet",mk="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",vk="http://macVmlSchemaUri",wk="urn:schemas-microsoft-com:vml",yk="http://www.w3.org/TR/REC-html40";var bk=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,a=e[0][r].length;n<a;n+=10240)t.push.apply(t,e[0][r].slice(n,n+10240));return t},Ek=A_?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:I_(e)}))):bk(e)}:bk,Sk=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(zk(e,a)));return n.join("").replace(P_,"")},Tk=A_?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(P_,""):Sk(e,t,r)}:Sk,Ck=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},_k=A_?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):Ck(e,t,r)}:Ck,Ak=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Hk(e,a)));return n.join("")},Ik=A_?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):Ak(e,t,r)}:Ak,kk=function(e,t){var r=Yk(e,t);return r>0?Ik(e,t+4,t+4+r-1):""},Nk=kk,xk=function(e,t){var r=Yk(e,t);return r>0?Ik(e,t+4,t+4+r-1):""},Dk=xk,Rk=function(e,t){var r=2*Yk(e,t);return r>0?Ik(e,t+4,t+4+r-1):""},Mk=Rk,Ok=function(e,t){var r=Yk(e,t);return r>0?Tk(e,t+4,t+4+r):""},Pk=Ok,Lk=function(e,t){var r=Yk(e,t);return r>0?Ik(e,t+4,t+4+r):""},Fk=Lk,Bk=function(e,t){return function(e,t){for(var r=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],i=5;i>=0;--i)a=256*a+e[t+i];return 2047==n?0==a?r*(1/0):NaN:(0==n?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}(e,t)},Uk=Bk,Vk=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function jk(){Tk=function(e,t,r){return y_.utils.decode(1200,e.slice(t,r)).replace(P_,"")},Ik=function(e,t,r){return y_.utils.decode(65001,e.slice(t,r))},Nk=function(e,t){var r=Yk(e,t);return r>0?y_.utils.decode(h_,e.slice(t+4,t+4+r-1)):""},Dk=function(e,t){var r=Yk(e,t);return r>0?y_.utils.decode(u_,e.slice(t+4,t+4+r-1)):""},Mk=function(e,t){var r=2*Yk(e,t);return r>0?y_.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},Pk=function(e,t){var r=Yk(e,t);return r>0?y_.utils.decode(1200,e.slice(t+4,t+4+r)):""},Fk=function(e,t){var r=Yk(e,t);return r>0?y_.utils.decode(65001,e.slice(t+4,t+4+r)):""}}A_&&(Nk=function(e,t){if(!Buffer.isBuffer(e))return kk(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},Dk=function(e,t){if(!Buffer.isBuffer(e))return xk(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},Mk=function(e,t){if(!Buffer.isBuffer(e))return Rk(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},Pk=function(e,t){if(!Buffer.isBuffer(e))return Ok(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},Fk=function(e,t){if(!Buffer.isBuffer(e))return Lk(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},Uk=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Bk(e,t)},Vk=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof y_&&jk();var Hk=function(e,t){return e[t]},zk=function(e,t){return 256*e[t+1]+e[t]},Wk=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},Yk=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Gk=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},$k=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Kk(e,t){var r,n,a,i,s,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,A_&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(s=0;s<e;++s)l+=String.fromCharCode(zk(this,o)),o+=2;e*=2;break;case"utf8":l=Ik(this,this.l,this.l+e);break;case"utf16le":e*=2,l=Tk(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof y_)return Kk.call(this,e,"dbcs");l=y_.utils.decode(u_,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=Nk(this,this.l),e=4+Yk(this,this.l);break;case"lpstr-cp":l=Dk(this,this.l),e=4+Yk(this,this.l);break;case"lpwstr":l=Mk(this,this.l),e=4+2*Yk(this,this.l);break;case"lpp4":e=4+Yk(this,this.l),l=Pk(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Yk(this,this.l),l=Fk(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=Hk(this,this.l+e++));)c.push(E_(a));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(a=zk(this,this.l+e));)c.push(E_(a)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,s=0;s<e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return a=Hk(this,o),this.l=o+1,i=Kk.call(this,e-s,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(E_(zk(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof y_){l=y_.utils.decode(u_,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",o=this.l,s=0;s!=e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return a=Hk(this,o),this.l=o+1,i=Kk.call(this,e-s,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(E_(Hk(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return r=Hk(this,this.l),this.l++,r;case 2:return r=("i"===t?Wk:zk)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(r=(e>0?Gk:$k)(this,this.l),this.l+=4,r):(n=Yk(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return n=8==e?Uk(this,this.l):Uk([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:l=_k(this,this.l,e)}}return this.l+=e,l}var Xk=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},qk=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Qk=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function Zk(e,t,r){var n=0,a=0;if("dbcs"===r){for(a=0;a!=t.length;++a)Qk(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if("sbcs"===r){if("undefined"!==typeof y_&&874==h_)for(a=0;a!=t.length;++a){var i=y_.utils.encode(h_,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);n=t.length}else{if("hex"===r){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===r){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:n=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:n=4,Xk(this,t,this.l);break;case 8:if(n=8,"f"===r){!function(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?0==s?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=255&i;e[r+6]=(15&a)<<4|15&i,e[r+7]=a>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,qk(this,t,this.l)}}return this.l+=n,this}function Jk(e,t){var r=_k(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function eN(e,t){e.l=t,e.read_shift=Kk,e.chk=Jk,e.write_shift=Zk}function tN(e,t){e.l+=t}function rN(e){var t=k_(e);return eN(t,0),t}function nN(e,t,r){if(e){var n,a,i;eN(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=lL[o]||lL[65535];for(i=127&(n=e.read_shift(1)),a=1;a<4&&128&n;++a)i+=(127&(n=e.read_shift(1)))<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function aN(){var e=[],t=A_?256:2048,r=function(e){var t=rN(e);return eN(t,0),t},n=r(t),a=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},i=function(e){return n&&e<n.length-n.l?n:(a(),n=r(Math.max(e+1,t)))};return{next:i,push:function(e){a(),null==(n=e).l&&(n.l=n.length),i(t)},end:function(){return a(),O_(e)},_bufs:e}}function iN(e,t,r,n){var a,i=+t;if(!isNaN(i)){n||(n=lL[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,128+(127&i)),s.write_shift(1,i>>7));for(var o=0;4!=o;++o){if(!(n>=128)){s.write_shift(1,n);break}s.write_shift(1,128+(127&n)),n>>=7}n>0&&Vk(r)&&e.push(r)}}function sN(e,t,r){var n=QA(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function oN(e,t,r){var n=QA(e);return n.s=sN(n.s,t.s,r),n.e=sN(n.e,t.s,r),n}function lN(e,t){if(e.cRel&&e.c<0)for(e=QA(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=QA(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=gN(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(r)),r}function cN(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?lN(e.s,t.biff)+":"+lN(e.e,t.biff):(e.s.rRel?"":"$")+hN(e.s.r)+":"+(e.e.rRel?"":"$")+hN(e.e.r):(e.s.cRel?"":"$")+fN(e.s.c)+":"+(e.e.cRel?"":"$")+fN(e.e.c)}function uN(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function hN(e){return""+(e+1)}function dN(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function fN(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function pN(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function gN(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function mN(e){var t=e.indexOf(":");return-1==t?{s:pN(e),e:pN(e)}:{s:pN(e.slice(0,t)),e:pN(e.slice(t+1))}}function vN(e,t){return"undefined"===typeof t||"number"===typeof t?vN(e.s,e.e):("string"!==typeof e&&(e=gN(e)),"string"!==typeof t&&(t=gN(t)),e==t?e:e+":"+t)}function wN(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function yN(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=CA(e.z,r?VA(t):t)}catch(qF){}try{return e.w=CA((e.XF||{}).numFmtId||(r?14:0),r?VA(t):t)}catch(qF){return""+t}}function bN(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?ix[e.v]||e.v:yN(e,void 0==t?e.v:t))}function EN(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function SN(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense;var i=e||(a?[]:{}),s=0,o=0;if(i&&null!=n.origin){if("number"==typeof n.origin)s=n.origin;else{var l="string"==typeof n.origin?pN(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=wN(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==s&&(c.e.r=s=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[h].length;++d)if("undefined"!==typeof t[h][d]){var f={v:t[h][d]},p=s+h,g=o+d;if(c.s.r>p&&(c.s.r=p),c.s.c>g&&(c.s.c=g),c.e.r<p&&(c.e.r=p),c.e.c<g&&(c.e.c=g),!t[h][d]||"object"!==typeof t[h][d]||Array.isArray(t[h][d])||t[h][d]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[h][d][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else{if(!n.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=n.dateNF||G_[14],n.cellDates?(f.t="d",f.w=CA(f.z,VA(f.v))):(f.t="n",f.v=VA(f.v),f.w=CA(f.z,f.v))):f.t="s";else f=t[h][d];if(a)i[p]||(i[p]=[]),i[p][g]&&i[p][g].z&&(f.z=i[p][g].z),i[p][g]=f;else{var m=gN({c:g,r:p});i[m]&&i[m].z&&(f.z=i[m].z),i[m]=f}}}return c.s.c<1e7&&(i["!ref"]=vN(c)),i}function TN(e,t){return SN(null,e,t)}function CN(e,t){return t||(t=rN(4)),t.write_shift(4,e),t}function _N(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function AN(e,t){var r=!1;return null==t&&(r=!0,t=rN(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function IN(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function kN(e,t){var r=e.l,n=e.read_shift(1),a=_N(e),i=[],s={t:a,h:a};if(0!==(1&n)){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(IN(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var NN=kN;function xN(e,t){var r=!1;return null==t&&(r=!0,t=rN(23+4*e.t.length)),t.write_shift(1,1),AN(e.t,t),t.write_shift(4,1),function(e,t){t||(t=rN(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function DN(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function RN(e,t){return null==t&&(t=rN(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function MN(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ON(e,t){return null==t&&(t=rN(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var PN=_N,LN=AN;function FN(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function BN(e,t){var r=!1;return null==t&&(r=!0,t=rN(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var UN=_N,VN=FN,jN=BN;function HN(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4;var a=0===n?Uk([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Gk(t,0)>>2;return r?a/100:a}function zN(e,t){null==t&&(t=rN(4));var r=0,n=0,a=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:a==(0|a)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?a:e)<<2)+(r+2))}function WN(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var YN=WN,GN=function(e,t){return t||(t=rN(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function $N(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function KN(e,t){return(t||rN(8)).write_shift(8,e,"f")}function XN(e,t){if(t||(t=rN(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function qN(e,t){var r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var QN=80,ZN=[QN,81],JN={1:{n:"CodePage",t:2},2:{n:"Category",t:QN},3:{n:"PresentationFormat",t:QN},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:QN},15:{n:"Company",t:QN},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:QN},27:{n:"ContentStatus",t:QN},28:{n:"Language",t:QN},29:{n:"Version",t:QN},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},ex={1:{n:"CodePage",t:2},2:{n:"Title",t:QN},3:{n:"Subject",t:QN},4:{n:"Author",t:QN},5:{n:"Keywords",t:QN},6:{n:"Comments",t:QN},7:{n:"Template",t:QN},8:{n:"LastAuthor",t:QN},9:{n:"RevNumber",t:QN},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:QN},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},tx={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},rx=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function nx(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var ax=QA(nx([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),ix={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sx={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ox={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},lx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function cx(e,t){var r,n=function(e){for(var t=[],r=PA(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(ox),a=[];a[a.length]=gI,a[a.length]=XI("Types",null,{xmlns:rk,"xmlns:xsd":hk,"xmlns:xsi":uk}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return XI("Default",null,{Extension:e[0],ContentType:e[1]})})));var i=function(n){e[n]&&e[n].length>0&&(r=e[n][0],a[a.length]=XI("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:lx[n][t.bookType]||lx[n].xlsx}))},s=function(r){(e[r]||[]).forEach((function(e){a[a.length]=XI("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:lx[r][t.bookType]||lx[r].xlsx})}))},o=function(t){(e[t]||[]).forEach((function(e){a[a.length]=XI("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:n[t][0]})}))};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ux={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function hx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function dx(e,t){var r={"!id":{}};if(!e)return r;"/"!==t.charAt(0)&&(t="/"+t);var n={};return(e.match(wI)||[]).forEach((function(e){var a=EI(e);if("<Relationship"===a[0]){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var s="External"===a.TargetMode?a.Target:pI(a.Target,t);r[s]=i,n[a.Id]=i}})),r["!id"]=n,r}function fx(e){var t=[gI,XI("Relationships",null,{xmlns:nk})];return PA(e["!id"]).forEach((function(r){t[t.length]=XI("Relationship",null,e["!id"][r])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function px(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,i?a.TargetMode=i:[ux.HLINK,ux.XPATH,ux.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function gx(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function mx(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+c_.version+"</meta:generator></office:meta></office:document-meta>"}var vx=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wx=function(){for(var e=new Array(vx.length),t=0;t<vx.length;++t){var r=vx[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function yx(e){var t={};e=BI(e);for(var r=0;r<vx.length;++r){var n=vx[r],a=e.match(wx[r]);null!=a&&a.length>0&&(t[n[1]]=_I(a[1])),"date"===n[2]&&t[n[1]]&&(t[n[1]]=XA(t[n[1]]))}return t}function bx(e,t,r,n,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=kI(t),n[n.length]=r?XI(e,t,r):$I(e,t))}function Ex(e,t){var r=t||{},n=[gI,XI("cp:coreProperties",null,{"xmlns:cp":JI,"xmlns:dc":ik,"xmlns:dcterms":sk,"xmlns:dcmitype":ok,"xmlns:xsi":uk})],a={};if(!e&&!r.Props)return n.join("");e&&(null!=e.CreatedDate&&bx("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:qI(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),null!=e.ModifiedDate&&bx("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:qI(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=vx.length;++i){var s=vx[i],o=r.Props&&null!=r.Props[s[1]]?r.Props[s[1]]:e?e[s[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&bx(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Sx=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Tx=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Cx(e,t,r,n){var a=[];if("string"==typeof e)a=YI(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map((function(e){return{v:e}})));var s="string"==typeof t?YI(t,n).map((function(e){return e.v})):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l)}o+=l}}function _x(e){var t=[],r=XI;return e||(e={}),e.Application="SheetJS",t[t.length]=gI,t[t.length]=XI("Properties",null,{xmlns:tk,"xmlns:vt":ck}),Sx.forEach((function(n){if(void 0!==e[n[1]]){var a;switch(n[2]){case"string":a=kI(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false"}void 0!==a&&(t[t.length]=r(n[0],a))}})),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+kI(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Ax=/<[^>]+>[^<]*/g;function Ix(e){var t=[gI,XI("Properties",null,{xmlns:ek,"xmlns:vt":ck})];if(!e)return t.join("");var r=1;return PA(e).forEach((function(n){++r,t[t.length]=XI("property",function(e,t){switch(typeof e){case"string":var r=XI("vt:lpwstr",kI(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return XI((0|e)==e?"vt:i4":"vt:r8",kI(String(e)));case"boolean":return XI("vt:bool",e?"true":"false")}if(e instanceof Date)return XI("vt:filetime",qI(e));throw new Error("Unable to serialize "+e)}(e[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:kI(n)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var kx,Nx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function xx(e,t,r){kx||(kx=FA(Nx)),e[t=kx[t]||t]=r}function Dx(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date(1e3*(r/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function Rx(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Mx(e,t,r){var n=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(n.length+1&3)&3),n}function Ox(e,t,r){return 31===t?Mx(e):Rx(e,0,r)}function Px(e,t,r){return Ox(e,t,!1===r?0:4)}function Lx(e){var t=e.l,r=Ux(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[r,Ux(e,3)]}function Fx(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,1200===t?"utf16le":"utf8").replace(P_,"").replace(L_,"!"),1200===t&&s%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),n}function Bx(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),r}function Ux(e,t,r){var n,a=e.read_shift(2),i=r||{};if(e.l+=2,12!==t&&a!==t&&-1===ZN.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&a)))throw new Error("Expected type "+t+" saw "+a);switch(12===t?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return n=e.read_shift(4);case 30:return Rx(e,0,4).replace(P_,"");case 31:return Mx(e);case 64:return Dx(e);case 65:return Bx(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return Px(e,a,!i.raw).replace(P_,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Ox(e,t,0)}(e,a).replace(P_,"");case 4108:return function(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Lx(e));return r}(e);case 4126:case 4127:return 4127==a?function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(P_,""),e.l-a&2&&(e.l+=2)}return r}(e):function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(P_,"");return r}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function Vx(e,t){var r=rN(4),n=rN(4);switch(r.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=rN(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),n=(t-r)/Math.pow(2,32);n*=1e7;var a=(r*=1e7)/Math.pow(2,32)|0;a>0&&(r%=Math.pow(2,32),n+=a);var i=rN(8);return i.write_shift(4,r),i.write_shift(4,n),i}(t);break;case 31:case 80:for((n=rN(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return O_([r,n])}function jx(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),h=e.read_shift(4);i[s]=[u,h+r]}i.sort((function(e,t){return e[1]-t[1]}));var d={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var f=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,f=!1);break;case 80:case 4108:e.l<=i[s][1]&&(e.l=i[s][1],f=!1)}if((!t||0==s)&&e.l<=i[s][1]&&(f=!1,e.l=i[s][1]),f)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var p=t[i[s][0]];if(d[p.n]=Ux(e,p.t,{raw:!0}),"version"===p.p&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(65535&d[p.n])).slice(-4)),"CodePage"==p.n)switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:g_(o=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(1===i[s][0]){if(o=d.CodePage=Ux(e,2),g_(o),-1!==l){var g=e.l;e.l=i[l][1],c=Fx(e,o),e.l=g}}else if(0===i[s][0]){if(0===o){l=s,e.l=i[s+1][1];continue}c=Fx(e,o)}else{var m,v=c[i[s][0]];switch(e[e.l]){case 65:e.l+=4,m=Bx(e);break;case 30:case 31:e.l+=4,m=Px(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=Kx(e,4);break;case 64:e.l+=4,m=XA(Dx(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[v]=m}}return e.l=r+n,d}var Hx=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function zx(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function Wx(e,t,r){var n=rN(8),a=[],i=[],s=8,o=0,l=rN(8),c=rN(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){(c=rN(8)).write_shift(4,0),a.unshift(c);var u=[rN(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var h=e[o][0];for((l=rN(8+2*(h.length+1)+(h.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=O_(u),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(Hx.indexOf(e[o][0])>-1||Tx.indexOf(e[o][0])>-1)&&null!=e[o][1]){var d=e[o][1],f=0;if(t){var p=r[f=+t[e[o][0]]];if("version"==p.p&&"string"==typeof d){var g=d.split(".");d=(+g[0]<<16)+(+g[1]||0)}l=Vx(p.t,d)}else{var m=zx(d);-1==m&&(m=31,d=String(d)),l=Vx(m,d)}i.push(l),(c=rN(8)).write_shift(4,t?f:2+o),a.push(c),s+=8+l.length}var v=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,v),v+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),O_([n].concat(a).concat(i))}function Yx(e,t,r){var n=e.content;if(!n)return{};eN(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==DA.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(1!==(a=n.read_shift(4))&&2!==a)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),1===a&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);2===a&&(s=n.read_shift(16),l=n.read_shift(4));var h,d=jx(n,t),f={SystemIdentifier:c};for(var p in d)f[p]=d[p];if(f.FMTID=i,1===a)return f;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);try{h=jx(n,null)}catch(qF){}for(p in h)f[p]=h[p];return f.FMTID=[i,s],f}function Gx(e,t,r,n,a,i){var s=rN(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,DA.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=Wx(e,r,n);if(o.push(l),a){var c=Wx(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return O_(o)}function $x(e,t){return e.read_shift(t),null}function Kx(e,t){return 1===e.read_shift(t)}function Xx(e,t){return t||(t=rN(2)),t.write_shift(2,+!!e),t}function qx(e){return e.read_shift(2,"u")}function Qx(e,t){return t||(t=rN(2)),t.write_shift(2,e),t}function Zx(e,t){return function(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}(e,t,qx)}function Jx(e,t,r){return r||(r=rN(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function eD(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=u_;(r&&r.biff>=8&&(u_=1200),r&&8!=r.biff)?12==r.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return u_=i,s}function tD(e){var t=u_;u_=1200;var r,n=e.read_shift(2),a=e.read_shift(1),i=4&a,s=8&a,o=1+(1&a),l=0,c={};s&&(l=e.read_shift(2)),i&&(r=e.read_shift(4));var u=2==o?"dbcs-cont":"sbcs-cont",h=0===n?"":e.read_shift(n,u);return s&&(e.l+=4*l),i&&(e.l+=r),c.t=h,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),u_=t,c}function rD(e){var t=e.t||"",r=rN(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=rN(2*t.length);return n.write_shift(2*t.length,t,"utf16le"),O_([r,n])}function nD(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function aD(e,t,r){var n=e.read_shift(r&&2==r.biff?1:2);return 0===n?(e.l++,""):nD(e,n,r)}function iD(e,t,r){if(r.biff>5)return aD(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function sD(e,t,r){return r||(r=rN(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function oD(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(P_,"");return n&&(e.l+=24),a}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return r+e.read_shift(a>>1,"utf16le").replace(P_,"")}(e);default:throw new Error("Unsupported Moniker "+r)}}function lD(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(P_,""):""}function cD(e,t){t||(t=rN(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function uD(e){var t=rN(512),r=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(28==i)cD(n=n.slice(1),t);else if(2&i){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),8&i&&cD(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;"../"==n.slice(3*l,3*l+3)||"..\\"==n.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,255&n.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function hD(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function dD(e,t){var r=hD(e);return r[3]=0,r}function fD(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function pD(e,t,r,n){return n||(n=rN(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function gD(e,t,r){var n=r.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function mD(e){return[e.read_shift(2),HN(e)]}function vD(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:r}}}function wD(e,t){return t||(t=rN(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function yD(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:r}}}var bD=yD;function ED(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function SD(e){e.l+=2,e.l+=e.read_shift(2)}var TD={0:SD,4:SD,5:SD,6:SD,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:SD,9:SD,10:SD,11:SD,12:SD,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:SD,15:SD,16:SD,17:SD,18:SD,19:SD,20:SD,21:ED};function CD(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),(t-=2)>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function _D(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;default:throw new Error("unsupported BIFF version")}var i=rN(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function AD(e,t){var r=!t||t.biff>=8?2:1,n=rN(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function ID(e,t,r){var n=0;r&&2==r.biff||(n=e.read_shift(2));var a=e.read_shift(2);return r&&2==r.biff&&(n=1-(a>>15),a&=32767),[{Unsynced:1&n,DyZero:(2&n)>>1,ExAsc:(4&n)>>2,ExDsc:(8&n)>>3},a]}function kD(e,t,r,n){var a=r&&5==r.biff;n||(n=rN(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return null==i.l&&(i.l=i.length),i}var ND=iD;function xD(e,t,r){var n=e.l+t,a=8!=r.biff&&r.biff?2:4,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function DD(e,t,r,n){var a=r&&5==r.biff;n||(n=rN(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function RD(e,t,r){var n=fD(e);2!=r.biff&&9!=t||++e.l;var a=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return n.val=a,n.t=!0===a||!1===a?"b":"e",n}var MD=function(e,t,r){return 0===t?"":iD(e,0,r)};function OD(e,t,r){var n,a=e.read_shift(2),i={fBuiltIn:1&a,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return 14849===r.sbcch&&(n=function(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=eD(e,0,r),i=e.read_shift(2);if(i!==(n-=e.l))throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}(e,t-2,r)),i.body=n||e.read_shift(t-2),"string"===typeof n&&(i.Name=n),i}var PD=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function LD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&2==r.biff?1:2),l=0;(!r||r.biff>=5)&&(5!=r.biff&&(e.l+=2),l=e.read_shift(2),5==r.biff&&(e.l+=2),e.l+=4);var c=nD(e,s,r);32&a&&(c=PD[c.charCodeAt(0)]);var u=n-e.l;r&&2==r.biff&&--u;var h=n!=e.l&&0!==o&&u>0?function(e,t,r,n){var a,i=e.l+t,s=qM(e,n,r);i!==e.l&&(a=XM(e,i-e.l,s,r));return[s,a]}(e,u,r,o):[];return{chKey:i,Name:c,itab:l,rgce:h}}function FD(e,t,r){if(r.biff<8)return function(e,t,r){3==e[e.l+1]&&e[e.l]++;var n=eD(e,0,r);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);0!==i--;)n.push(gD(e,r.biff,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function BD(e,t,r){var n=bD(e,6);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,rO(e,t,r)]}var UD={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function VD(e){var t=rN(24),r=pN(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return O_([t,uD(e[1])])}function jD(e){var t=e[1].Tooltip,r=rN(10+2*(t.length+1));r.write_shift(2,2048);var n=pN(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function HD(e,t,r){if(!r.cellStyles)return tN(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);2==n&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}var zD=fD,WD=Zx,YD=aD;var GD=[2,3,48,49,131,139,140,245],$D=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=FA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var n=r||{};n.dateNF||(n.dateNF="yyyymmdd");var a=TN(function(t,r){var n=[],a=k_(1);switch(r.type){case"base64":a=x_(__(t));break;case"binary":a=x_(t);break;case"buffer":case"array":a=t}eN(a,0);var i=a.read_shift(1),s=!!(136&i),o=!1,l=!1;switch(i){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,s=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+i.toString(16))}var c=0,u=521;2==i&&(c=a.read_shift(2)),a.l+=3,2!=i&&(c=a.read_shift(4)),c>1048576&&(c=1e6),2!=i&&(u=a.read_shift(2));var h=a.read_shift(2),d=r.codepage||1252;2!=i&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(d=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var f=[],p={},g=Math.min(a.length,2==i?521:u-10-(o?264:0)),m=l?32:11;a.l<g&&13!=a[a.l];)switch((p={}).name=y_.utils.decode(d,a.slice(a.l,a.l+m)).replace(/[\u0000\r\n].*$/g,""),a.l+=m,p.type=String.fromCharCode(a.read_shift(1)),2==i||l||(p.offset=a.read_shift(4)),p.len=a.read_shift(1),2==i&&(p.offset=a.read_shift(2)),p.dec=a.read_shift(1),p.name.length&&f.push(p),2!=i&&(a.l+=l?13:14),p.type){case"B":o&&8==p.len||!r.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==a[a.l]&&(a.l=u-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=u;var v=0,w=0;for(n[0]=[],w=0;w!=f.length;++w)n[0][w]=f[w].name;for(;c-- >0;)if(42!==a[a.l])for(++a.l,n[++v]=[],w=0,w=0;w!=f.length;++w){var y=a.slice(a.l,a.l+f[w].len);a.l+=f[w].len,eN(y,0);var b=y_.utils.decode(d,y);switch(f[w].type){case"C":b.trim().length&&(n[v][w]=b.replace(/\s+$/,""));break;case"D":8===b.length?n[v][w]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):n[v][w]=b;break;case"F":n[v][w]=parseFloat(b.trim());break;case"+":case"I":n[v][w]=l?2147483648^y.read_shift(-4,"i"):y.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":n[v][w]=!0;break;case"N":case"F":n[v][w]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!s)throw new Error("DBF Unexpected MEMO for type "+i.toString(16));n[v][w]="##MEMO##"+(l?parseInt(b.trim(),10):y.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(n[v][w]=+b||0);break;case"@":n[v][w]=new Date(y.read_shift(-8,"f")-621356832e5);break;case"T":n[v][w]=new Date(864e5*(y.read_shift(4)-2440588)+y.read_shift(4));break;case"Y":n[v][w]=y.read_shift(4,"i")/1e4+y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":n[v][w]=-y.read_shift(-8,"f");break;case"B":if(o&&8==f[w].len){n[v][w]=y.read_shift(8,"f");break}case"G":case"P":y.l+=f[w].len;break;case"0":if("_NullFlags"===f[w].name)break;default:throw new Error("DBF Unsupported data type "+f[w].type)}}else a.l+=h;if(2!=i&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return r&&r.sheetRows&&(n=n.slice(0,r.sheetRows)),r.DBF=f,n}(t,n),n);return a["!cols"]=n.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete n.DBF,a}var n={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return EN(r(e,t),t)}catch(qF){if(t&&t.WTF)throw qF}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var a=r||{};if(+a.codepage>=0&&g_(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var i=aN(),s=xF(e,{header:1,raw:!0,cellDates:!0}),o=s[0],l=s.slice(1),c=e["!cols"]||[],u=0,h=0,d=0,f=1;for(u=0;u<o.length;++u)if(((c[u]||{}).DBF||{}).name)o[u]=c[u].DBF.name,++d;else if(null!=o[u]){if(++d,"number"===typeof o[u]&&(o[u]=o[u].toString(10)),"string"!==typeof o[u])throw new Error("DBF Invalid column name "+o[u]+" |"+typeof o[u]+"|");if(o.indexOf(o[u])!==u)for(h=0;h<1024;++h)if(-1==o.indexOf(o[u]+"_"+h)){o[u]+="_"+h;break}}var p=wN(e["!ref"]),g=[],m=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var w="",y="",b=0,E=[];for(h=0;h<l.length;++h)null!=l[h][u]&&E.push(l[h][u]);if(0!=E.length&&null!=o[u]){for(h=0;h<E.length;++h){switch(typeof E[h]){case"number":y="B";break;case"string":default:y="C";break;case"boolean":y="L";break;case"object":y=E[h]instanceof Date?"D":"C"}b=Math.max(b,String(E[h]).length),w=w&&w!=y?"C":y}b>250&&(b=250),"C"==(y=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>b&&(b=c[u].DBF.len),"B"==w&&"N"==y&&(w="N",v[u]=c[u].DBF.dec,b=c[u].DBF.len),m[u]="C"==w||"N"==y?b:n[w]||0,f+=m[u],g[u]=w}else g[u]="?"}var S=i.next(32);for(S.write_shift(4,318902576),S.write_shift(4,l.length),S.write_shift(2,296+32*d),S.write_shift(2,f),u=0;u<4;++u)S.write_shift(4,0);for(S.write_shift(4,(+t[h_]||3)<<8),u=0,h=0;u<o.length;++u)if(null!=o[u]){var T=i.next(32),C=(o[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,C,"sbcs"),T.write_shift(1,"?"==g[u]?"C":g[u],"sbcs"),T.write_shift(4,h),T.write_shift(1,m[u]||n[g[u]]||0),T.write_shift(1,v[u]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),h+=m[u]||n[g[u]]||0}var _=i.next(264);for(_.write_shift(4,13),u=0;u<65;++u)_.write_shift(4,0);for(u=0;u<l.length;++u){var A=i.next(f);for(A.write_shift(1,0),h=0;h<o.length;++h)if(null!=o[h])switch(g[h]){case"L":A.write_shift(1,null==l[u][h]?63:l[u][h]?84:70);break;case"B":A.write_shift(8,l[u][h]||0,"f");break;case"N":var I="0";for("number"==typeof l[u][h]&&(I=l[u][h].toFixed(v[h]||0)),d=0;d<m[h]-I.length;++d)A.write_shift(1,32);A.write_shift(1,I,"sbcs");break;case"D":l[u][h]?(A.write_shift(4,("0000"+l[u][h].getFullYear()).slice(-4),"sbcs"),A.write_shift(2,("00"+(l[u][h].getMonth()+1)).slice(-2),"sbcs"),A.write_shift(2,("00"+l[u][h].getDate()).slice(-2),"sbcs")):A.write_shift(8,"00000000","sbcs");break;case"C":var k=String(null!=l[u][h]?l[u][h]:"").slice(0,m[h]);for(A.write_shift(1,k,"sbcs"),d=0;d<m[h]-k.length;++d)A.write_shift(1,32)}}return i.next(1).write_shift(1,26),i.end()}}}(),KD=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+PA(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var n=e[r];return"number"==typeof n?S_(n):n},n=function(e,t,r){var n=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==n?e:S_(n)};function a(e,a){var i,s=e.split(/[\n\r]+/),o=-1,l=-1,c=0,u=0,h=[],d=[],f=null,p={},g=[],m=[],v=[],w=0;for(+a.codepage>=0&&g_(+a.codepage);c!==s.length;++c){w=0;var y,b=s[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),E=b.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),S=E[0];if(b.length>0)switch(S){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==E[1].charAt(0)&&d.push(b.slice(3).replace(/;;/g,";"));break;case"C":var T=!1,C=!1,_=!1,A=!1,I=-1,k=-1;for(u=1;u<E.length;++u)switch(E[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(E[u].slice(1))-1,C=!0;break;case"Y":for(o=parseInt(E[u].slice(1))-1,C||(l=0),i=h.length;i<=o;++i)h[i]=[];break;case"K":'"'===(y=E[u].slice(1)).charAt(0)?y=y.slice(1,y.length-1):"TRUE"===y?y=!0:"FALSE"===y?y=!1:isNaN(JA(y))?isNaN(tI(y).getDate())||(y=XA(y)):(y=JA(y),null!==f&&bA(f)&&(y=WA(y))),"undefined"!==typeof y_&&"string"==typeof y&&"string"!=(a||{}).type&&(a||{}).codepage&&(y=y_.utils.decode(a.codepage,y)),T=!0;break;case"E":A=!0;var N=CM(E[u].slice(1),{r:o,c:l});h[o][l]=[h[o][l],N];break;case"S":_=!0,h[o][l]=[h[o][l],"S5S"];break;case"R":I=parseInt(E[u].slice(1))-1;break;case"C":k=parseInt(E[u].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}if(T&&(h[o][l]&&2==h[o][l].length?h[o][l][0]=y:h[o][l]=y,f=null),_){if(A)throw new Error("SYLK shared formula cannot have own formula");var x=I>-1&&h[I][k];if(!x||!x[1])throw new Error("SYLK shared formula cannot find base");h[o][l][1]=IM(x[1],{r:o-I,c:l-k})}break;case"F":var D=0;for(u=1;u<E.length;++u)switch(E[u].charAt(0)){case"X":l=parseInt(E[u].slice(1))-1,++D;break;case"Y":for(o=parseInt(E[u].slice(1))-1,i=h.length;i<=o;++i)h[i]=[];break;case"M":w=parseInt(E[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=d[parseInt(E[u].slice(1))];break;case"W":for(v=E[u].slice(1).split(" "),i=parseInt(v[0],10);i<=parseInt(v[1],10);++i)w=parseInt(v[2],10),m[i-1]=0===w?{hidden:!0}:{wch:w},OR(m[i-1]);break;case"C":m[l=parseInt(E[u].slice(1))-1]||(m[l]={});break;case"R":g[o=parseInt(E[u].slice(1))-1]||(g[o]={}),w>0?(g[o].hpt=w,g[o].hpx=FR(w)):0===w&&(g[o].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}D<1&&(f=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}}return g.length>0&&(p["!rows"]=g),m.length>0&&(p["!cols"]=m),a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),[h,p]}function i(e,t){var r=function(e,t){switch(t.type){case"base64":return a(__(e),t);case"binary":return a(e,t);case"buffer":return a(A_&&Buffer.isBuffer(e)?e.toString("binary"):R_(e),t);case"array":return a(qA(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),n=r[0],i=r[1],s=TN(n,t);return PA(i).forEach((function(e){s[e]=i[e]})),s}function s(e,t,r,n){var a="C;Y"+(r+1)+";X"+(n+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+AM(e.f,{r:r,c:n}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return EN(i(e,t),t)},to_sheet:i,from_sheet:function(e,t){var r,n,a=["ID;PWXL;N;E"],i=[],o=wN(e["!ref"]),l=Array.isArray(e),c="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(n=a,e["!cols"].forEach((function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=NR(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=xR(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&n.push(r)}))),e["!rows"]&&function(e,t){t.forEach((function(t,r){var n="F;";t.hidden?n+="M0;":t.hpt?n+="M"+20*t.hpt+";":t.hpx&&(n+="M"+20*LR(t.hpx)+";"),n.length>2&&e.push(n+"R"+(r+1))}))}(a,e["!rows"]),a.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var u=o.s.r;u<=o.e.r;++u)for(var h=o.s.c;h<=o.e.c;++h){var d=gN({r:u,c:h});(r=l?(e[u]||[])[h]:e[d])&&(null!=r.v||r.f&&!r.F)&&i.push(s(r,0,u,h))}return a.join(c)+c+i.join(c)+c+"E"+c}}}(),XD=function(){function e(e,t){for(var r=e.split("\n"),n=-1,a=-1,i=0,s=[];i!==r.length;++i)if("BOT"!==r[i].trim()){if(!(n<0)){for(var o=r[i].trim().split(","),l=o[0],c=o[1],u=r[++i]||"";1&(u.match(/["]/g)||[]).length&&i<r.length-1;)u+="\n"+r[++i];switch(u=u.trim(),+l){case-1:if("BOT"===u){s[++n]=[],a=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?s[n][a]=!0:"FALSE"===u?s[n][a]=!1:isNaN(JA(c))?isNaN(tI(c).getDate())?s[n][a]=c:s[n][a]=XA(c):s[n][a]=JA(c),++a;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),s[n][a++]=""!==u?u:null}if("EOD"===u)break}}else s[++n]=[],a=0;return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}function t(t,r){return TN(function(t,r){switch(r.type){case"base64":return e(__(t),r);case"binary":return e(t,r);case"buffer":return e(A_&&Buffer.isBuffer(t)?t.toString("binary"):R_(t),r);case"array":return e(qA(t),r)}throw new Error("Unrecognized type "+r.type)}(t,r),r)}var r=function(){var e=function(e,t,r,n,a){e.push(t),e.push(r+","+n),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,r,n){e.push(t+","+r),e.push(1==t?'"'+n.replace(/"/g,'""')+'"':n)};return function(r){var n,a=[],i=wN(r["!ref"]),s=Array.isArray(r);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,i.e.r-i.s.r+1,""),e(a,"TUPLES",0,i.e.c-i.s.c+1,""),e(a,"DATA",0,0,"");for(var o=i.s.r;o<=i.e.r;++o){t(a,-1,0,"BOT");for(var l=i.s.c;l<=i.e.c;++l){var c=gN({r:o,c:l});if(n=s?(r[o]||[])[l]:r[c])switch(n.t){case"n":var u=n.w;u||null==n.v||(u=n.v),null==u?n.f&&!n.F?t(a,1,0,"="+n.f):t(a,1,0,""):t(a,0,u,"V");break;case"b":t(a,0,n.v?1:0,n.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(n.v)?n.v:'="'+n.v+'"');break;case"d":n.w||(n.w=CA(n.z||G_[14],VA(XA(n.v)))),t(a,0,n.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}();return{to_workbook:function(e,r){return EN(t(e,r),r)},to_sheet:t,from_sheet:r}}(),qD=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return TN(function(e,t){for(var r=e.split("\n"),n=-1,a=-1,i=0,s=[];i!==r.length;++i){var o=r[i].trim().split(":");if("cell"===o[0]){var l=pN(o[1]);if(s.length<=l.r)for(n=s.length;n<=l.r;++n)s[n]||(s[n]=[]);switch(n=l.r,a=l.c,o[2]){case"t":s[n][a]=o[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":s[n][a]=+o[3];break;case"vtf":var c=o[o.length-1];case"vtc":"nl"===o[3]?s[n][a]=!!+o[4]:s[n][a]=+o[4],"vtf"==o[2]&&(s[n][a]=[s[n][a],c])}}}return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}(e,t),t)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),n=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),i="--SocialCalcSpreadsheetControlSave--";function s(t){if(!t||!t["!ref"])return"";for(var r,n=[],a=[],i="",s=mN(t["!ref"]),o=Array.isArray(t),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c)if(i=gN({r:l,c:c}),(r=o?(t[l]||[])[c]:t[i])&&null!=r.v&&"z"!==r.t){switch(a=["cell",i,"t"],r.t){case"s":case"str":a.push(e(r.v));break;case"n":r.f?(a[2]="vtf",a[3]="n",a[4]=r.v,a[5]=e(r.f)):(a[2]="v",a[3]=r.v);break;case"b":a[2]="vt"+(r.f?"f":"c"),a[3]="nl",a[4]=r.v?"1":"0",a[5]=e(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var u=VA(XA(r.v));a[2]="vtc",a[3]="nd",a[4]=""+u,a[5]=r.w||CA(r.z||G_[14],u);break;case"e":continue}n.push(a.join(":"))}return n.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1"),n.push("valueformat:1:text-wiki"),n.join("\n")}return{to_workbook:function(e,r){return EN(t(e,r),r)},to_sheet:t,from_sheet:function(e){return[r,n,a,n,s(e),i].join("\n")}}}(),QD=function(){function e(e,t,r,n,a){a.raw?t[r][n]=e:""===e||("TRUE"===e?t[r][n]=!0:"FALSE"===e?t[r][n]=!1:isNaN(JA(e))?isNaN(tI(e).getDate())?t[r][n]=e:t[r][n]=XA(e):t[r][n]=JA(e))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var n={},a=!1,i=0,s=0;i<e.length;++i)34==(s=e.charCodeAt(i))?a=!a:!a&&s in t&&(n[s]=(n[s]||0)+1);for(i in s=[],n)Object.prototype.hasOwnProperty.call(n,i)&&s.push([n[i],i]);if(!s.length)for(i in n=r)Object.prototype.hasOwnProperty.call(n,i)&&s.push([n[i],i]);return s.sort((function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]})),t[s.pop()[1]]||44}function a(e,t){var r=t||{},a="";var i=r.dense?[]:{},s={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=n(e.slice(0,1024)):a=r&&r.FS?r.FS:n(e.slice(0,1024));var o=0,l=0,c=0,u=0,h=0,d=a.charCodeAt(0),f=!1,p=0,g=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var m=null!=r.dateNF?function(e){var t="number"==typeof e?G_[e]:e;return t=t.replace(NA,"(\\d+)"),new RegExp("^"+t+"$")}(r.dateNF):null;function v(){var t=e.slice(u,h),n={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)n.t="z";else if(r.raw)n.t="s",n.v=t;else if(0===t.trim().length)n.t="s",n.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(n.t="s",n.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(n.t="n",n.f=t.slice(1)):(n.t="s",n.v=t);else if("TRUE"==t)n.t="b",n.v=!0;else if("FALSE"==t)n.t="b",n.v=!1;else if(isNaN(c=JA(t)))if(!isNaN(tI(t).getDate())||m&&t.match(m)){n.z=r.dateNF||G_[14];var a=0;m&&t.match(m)&&(t=function(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(NA)||[]).forEach((function(e,t){var c=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":n=c;break;case"d":i=c;break;case"h":s=c;break;case"s":l=c;break;case"m":s>=0?o=c:a=c}})),l>=0&&-1==o&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==s&&-1==o&&-1==l?c:-1==n&&-1==a&&-1==i?u:c+"T"+u}(0,r.dateNF,t.match(m)||[]),a=1),r.cellDates?(n.t="d",n.v=XA(t,a)):(n.t="n",n.v=VA(XA(t,a))),!1!==r.cellText&&(n.w=CA(n.z,n.v instanceof Date?VA(n.v):n.v)),r.cellNF||delete n.z}else n.t="s",n.v=t;else n.t="n",!1!==r.cellText&&(n.w=t),n.v=c;if("z"==n.t||(r.dense?(i[o]||(i[o]=[]),i[o][l]=n):i[gN({c:l,r:o})]=n),u=h+1,g=e.charCodeAt(u),s.e.c<l&&(s.e.c=l),s.e.r<o&&(s.e.r=o),p==d)++l;else if(l=0,++o,r.sheetRows&&r.sheetRows<=o)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===g&&(f=!f);break;case d:case 10:case 13:if(!f&&v())break e}return h-u>0&&v(),i["!ref"]=vN(s),i}function i(t,r){return r&&r.PRN?r.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,r):TN(function(t,r){var n=r||{},a=[];if(!t||0===t.length)return a;for(var i=t.split(/[\r\n]/),s=i.length-1;s>=0&&0===i[s].length;)--s;for(var o=10,l=0,c=0;c<=s;++c)-1==(l=i[c].indexOf(" "))?l=i[c].length:l++,o=Math.max(o,l);for(c=0;c<=s;++c){a[c]=[];var u=0;for(e(i[c].slice(0,o).trim(),a,c,u,n),u=1;u<=(i[c].length-o)/10+1;++u)e(i[c].slice(o+10*(u-1),o+10*u).trim(),a,c,u,n)}return n.sheetRows&&(a=a.slice(0,n.sheetRows)),a}(t,r),r):a(t,r)}function s(e,t){var r="",n="string"==t.type?[0,0,0,0]:yF(e,t);switch(t.type){case"base64":r=__(e);break;case"binary":case"string":r=e;break;case"buffer":r=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof y_?y_.utils.decode(t.codepage,e):A_&&Buffer.isBuffer(e)?e.toString("binary"):R_(e);break;case"array":r=qA(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]?r=BI(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=BI(r):"binary"==t.type&&"undefined"!==typeof y_&&t.codepage&&(r=y_.utils.decode(t.codepage,y_.utils.encode(28591,r))),"socialcalc:version:"==r.slice(0,19)?qD.to_sheet("string"==t.type?r:BI(r),t):i(r,t)}return{to_workbook:function(e,t){return EN(s(e,t),t)},to_sheet:s,from_sheet:function(e){for(var t,r=[],n=wN(e["!ref"]),a=Array.isArray(e),i=n.s.r;i<=n.e.r;++i){for(var s=[],o=n.s.c;o<=n.e.c;++o){var l=gN({r:i,c:o});if((t=a?(e[i]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(bN(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";s.push(c+(0===o?" ":""))}else s.push("          ")}r.push(s.join(""))}return r.join("\n")}}}();var ZD=function(){function e(e,t,r){if(e){eN(e,e.l||0);for(var n=r.Enum||v;e.l<e.length;){var a=e.read_shift(2),i=n[a]||n[65535],s=e.read_shift(2),o=e.l+s,l=i.f&&i.f(e,s,r);if(e.l=o,t(l,i,a))return}}}function t(t,r){if(!t)return t;var n=r||{};var a=n.dense?[]:{},i="Sheet1",s="",o=0,l={},c=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},d=n.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])n.Enum=v,e(t,(function(e,t,r){switch(r){case 0:n.vers=e,e>=4096&&(n.qpro=!0);break;case 6:h=e;break;case 204:e&&(s=e);break;case 222:s=e;break;case 15:case 51:n.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=n.dateNF||G_[14],n.cellDates&&(e[1].t="d",e[1].v=WA(e[1].v))),n.qpro&&e[3]>o&&(a["!ref"]=vN(h),l[i]=a,c.push(i),a=n.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],i=s||"Sheet"+(o+1),s="");var u=n.dense?(a[e[0].r]||[])[e[0].c]:a[gN(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}n.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[gN(e[0])]=e[1]}}),n);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);n.Enum=w,14==t[2]&&(n.qpro=!0,t.l=0),e(t,(function(e,t,r){switch(r){case 204:i=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(a["!ref"]=vN(h),l[i]=a,c.push(i),a=n.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],i="Sheet"+(o+1)),d>0&&e[0].r>=d)break;n.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[gN(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==o&&(i=e[1])}}),n)}if(a["!ref"]=vN(h),l[s||i]=a,c.push(s||i),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],g=0;g<u.length;++g)l[c[g]]?(p.push(u[g]||c[g]),f[u[g]]=l[u[g]]||l[c[g]]):(p.push(u[g]),f[u[g]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function r(e,t,r){var n=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(n[0].c=e.read_shift(1),n[3]=e.read_shift(1),n[0].r=e.read_shift(2),e.l+=2):(n[2]=e.read_shift(1),n[0].c=e.read_shift(2),n[0].r=e.read_shift(2)),n}function n(e,t,n){var a=e.l+t,i=r(e,0,n);if(i[1].t="s",20768==n.vers){e.l++;var s=e.read_shift(1);return i[1].v=e.read_shift(s,"utf8"),i}return n.qpro&&e.l++,i[1].v=e.read_shift(a-e.l,"cstr"),i}function a(e,t,r){var n=rN(7+r.length);n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(1,39);for(var a=0;a<n.length;++a){var i=r.charCodeAt(a);n.write_shift(1,i>=128?95:i)}return n.write_shift(1,0),n}function i(e,t,r){var n=rN(7);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r,"i"),n}function s(e,t,r){var n=rN(13);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(8,r,"f"),n}function o(e,t,r){var n=32768&t;return t=(n?e:0)+((t&=-32769)>=8192?t-16384:t),(n?"":"$")+(r?fN(t):hN(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,r,n){var a=rN(6+n.length);a.write_shift(2,e),a.write_shift(1,r),a.write_shift(1,t),a.write_shift(1,39);for(var i=0;i<n.length;++i){var s=n.charCodeAt(i);a.write_shift(1,s>=128?95:s)}return a.write_shift(1,0),a}function d(e,t){var r=u(e),n=e.read_shift(4),a=e.read_shift(4),i=e.read_shift(2);if(65535==i)return 0===n&&3221225472===a?(r[1].t="e",r[1].v=15):0===n&&3489660928===a?(r[1].t="e",r[1].v=42):r[1].v=0,r;var s=32768&i;return i=(32767&i)-16446,r[1].v=(1-2*s)*(a*Math.pow(2,i+32)+n*Math.pow(2,i)),r}function f(e,t,r,n){var a=rN(14);if(a.write_shift(2,e),a.write_shift(1,r),a.write_shift(1,t),0==n)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var i,s=0,o=0,l=0;return n<0&&(s=1,n=-n),o=0|Math.log2(n),0==(2147483648&(l=(n/=Math.pow(2,o-31))>>>0))&&(++o,l=(n/=2)>>>0),n-=l,l|=2147483648,l>>>=0,i=(n*=Math.pow(2,32))>>>0,a.write_shift(4,i),a.write_shift(4,l),o+=16383+(s?32768:0),a.write_shift(2,o),a}function p(e,t){var r=u(e),n=e.read_shift(8,"f");return r[1].v=n,r}function g(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function m(e,t){var r=rN(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var n=0;n<e.length;++n){var a=e.charCodeAt(n);r[r.l++]=a>127?95:a}return r[r.l++]=0,r}var v={0:{n:"BOF",f:qx},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var n={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(n.s.c=e.read_shift(1),e.l++,n.s.r=e.read_shift(2),n.e.c=e.read_shift(1),e.l++,n.e.r=e.read_shift(2),n):(n.s.c=e.read_shift(2),n.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),n.e.c=e.read_shift(2),n.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==n.s.c&&(n.s.c=n.e.c=n.s.r=n.e.r=0),n)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,n){var a=r(e,0,n);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,n){var a=r(e,0,n);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:n},16:{n:"FORMULA",f:function(e,t,n){var a=e.l+t,i=r(e,0,n);if(i[1].v=e.read_shift(8,"f"),n.qpro)e.l=a;else{var s=e.read_shift(2);!function(e,t){eN(e,0);var r=[],n=0,a="",i="",s="",u="";for(;e.l<e.length;){var h=e[e.l++];switch(h){case 0:r.push(e.read_shift(8,"f"));break;case 1:i=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),r.push(i+a);break;case 2:var d=o(t[0].c,e.read_shift(2),!0),f=o(t[0].r,e.read_shift(2),!1);i=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),r.push(d+f+":"+i+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);r.push('"'+p.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:u=r.pop(),s=r.pop(),r.push(["AND","OR"][h-20]+"("+s+","+u+")");break;default:if(h<32&&c[h])u=r.pop(),s=r.pop(),r.push(s+c[h]+u);else{if(!l[h])return h<=7?console.error("WK1 invalid opcode "+h.toString(16)):h<=24?console.error("WK1 unsupported op "+h.toString(16)):h<=30?console.error("WK1 invalid opcode "+h.toString(16)):h<=115?console.error("WK1 unsupported function opcode "+h.toString(16)):console.error("WK1 unrecognized opcode "+h.toString(16));if(69==(n=l[h][1])&&(n=e[e.l++]),n>r.length)return void console.error("WK1 bad formula parse 0x"+h.toString(16)+":|"+r.join("|")+"|");var g=r.slice(-n);r.length-=n,r.push(l[h][0]+"("+g.join(",")+")")}}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")}(e.slice(e.l,e.l+s),i),e.l+=s}return i}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:n},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:g},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var n="";n.length<r;)n+=String.fromCharCode(e[e.l++]);return n}},65535:{n:""}},w={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=u(e);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:d},24:{n:"NUMBER18",f:function(e,t){var r=u(e);r[1].v=e.read_shift(2);var n=r[1].v>>1;if(1&r[1].v)switch(7&n){case 0:n=5e3*(n>>3);break;case 1:n=500*(n>>3);break;case 2:n=(n>>3)/20;break;case 3:n=(n>>3)/200;break;case 4:n=(n>>3)/2e3;break;case 5:n=(n>>3)/2e4;break;case 6:n=(n>>3)/16;break;case 7:n=(n>>3)/64}return r[1].v=n,r}},25:{n:"FORMULA19",f:function(e,t){var r=d(e);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},n=e.l+t;e.l<n;){var a=e.read_shift(2);if(14e3==a){for(r[a]=[0,""],r[a][0]=e.read_shift(2);e[e.l];)r[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=u(e),n=e.read_shift(4);return r[1].v=n>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var r=p(e);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:g},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var n=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[n,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r=t||{};if(+r.codepage>=0&&g_(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var n=aN(),o=wN(e["!ref"]),l=Array.isArray(e),c=[];uL(n,0,function(e){var t=rN(2);return t.write_shift(2,e),t}(1030)),uL(n,6,function(e){var t=rN(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(o));for(var u=Math.min(o.e.r,8191),h=o.s.r;h<=u;++h)for(var d=hN(h),f=o.s.c;f<=o.e.c;++f){h===o.s.r&&(c[f]=fN(f));var p=c[f]+d,g=l?(e[h]||[])[f]:e[p];if(g&&"z"!=g.t)if("n"==g.t)(0|g.v)==g.v&&g.v>=-32768&&g.v<=32767?uL(n,13,i(h,f,g.v)):uL(n,14,s(h,f,g.v));else uL(n,15,a(h,f,bN(g).slice(0,239)))}return uL(n,1),n.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&g_(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var n=aN();uL(n,0,function(e){var t=rN(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,n=0,a=0,i=0;i<e.SheetNames.length;++i){var s=e.SheetNames[i],o=e.Sheets[s];if(o&&o["!ref"]){++a;var l=mN(o["!ref"]);r<l.e.r&&(r=l.e.r),n<l.e.c&&(n=l.e.c)}}r>8191&&(r=8191);return t.write_shift(2,r),t.write_shift(1,a),t.write_shift(1,n),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,i=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&uL(n,27,m(e.SheetNames[a],i++));var s=0;for(a=0;a<e.SheetNames.length;++a){var o=e.Sheets[e.SheetNames[a]];if(o&&o["!ref"]){for(var l=wN(o["!ref"]),c=Array.isArray(o),u=[],d=Math.min(l.e.r,8191),p=l.s.r;p<=d;++p)for(var g=hN(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=fN(v));var w=u[v]+g,y=c?(o[p]||[])[v]:o[w];if(y&&"z"!=y.t)if("n"==y.t)uL(n,23,f(p,v,s,y.v));else uL(n,22,h(p,v,s,bN(y).slice(0,239)))}++s}}return uL(n,1),n.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(x_(__(e)),r);case"binary":return t(x_(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}();var JD=function(){var e=VI("t"),t=VI("rPr");function r(r){var n=r.match(e);if(!n)return{t:"s",v:""};var a={t:"s",v:_I(n[1])},i=r.match(t);return i&&(a.s=function(e){var t={},r=e.match(wI),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=EI(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==i.val)break;t.cp=f_[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==i.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==i.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(47!==i[0].charCodeAt(1)&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}(i[1])),a}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(e){return e.replace(n,"").split(a).map(r).filter((function(e){return e.v}))}}(),eR=function(){var e=/(\r\n|\n)/g;function t(t){var r=[[],t.v,[]];return t.v?(t.s&&function(e,t,r){var n=[];e.u&&n.push("text-decoration: underline;"),e.uval&&n.push("text-underline-style:"+e.uval+";"),e.sz&&n.push("font-size:"+e.sz+"pt;"),e.outline&&n.push("text-effect: outline;"),e.shadow&&n.push("text-shadow: auto;"),t.push('<span style="'+n.join("")+'">'),e.b&&(t.push("<b>"),r.push("</b>")),e.i&&(t.push("<i>"),r.push("</i>")),e.strike&&(t.push("<s>"),r.push("</s>"));var a=e.valign||"";"superscript"==a||"super"==a?a="sup":"subscript"==a&&(a="sub"),""!=a&&(t.push("<"+a+">"),r.push("</"+a+">")),r.push("</span>")}(t.s,r[0],r[2]),r[0].join("")+r[1].replace(e,"<br/>")+r[2].join("")):""}return function(e){return e.map(t).join("")}}(),tR=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,rR=/<(?:\w+:)?r>/,nR=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function aR(e,t){var r=!t||t.cellHTML,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=_I(BI(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=BI(e),r&&(n.h=DI(n.t))):e.match(rR)&&(n.r=BI(e),n.t=_I(BI((e.replace(nR,"").match(tR)||[]).join("").replace(wI,""))),r&&(n.h=eR(JD(n.r)))),n):{t:""}}var iR=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,sR=/<(?:\w+:)?(?:si|sstItem)>/g,oR=/<\/(?:\w+:)?(?:si|sstItem)>/;var lR=/^\s|\s$|[\t\n\r]/;function cR(e,t){if(!t.bookSST)return"";var r=[gI];r[r.length]=XI("sst",null,{xmlns:dk[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(lR)&&(i+=' xml:space="preserve"'),i+=">"+kI(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var uR=function(e,t){var r=!1;return null==t&&(r=!0,t=rN(15+4*e.t.length)),t.write_shift(1,0),AN(e.t,t),r?t.slice(0,t.l):t};function hR(e){var t=aN();iN(t,159,function(e,t){return t||(t=rN(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var r=0;r<e.length;++r)iN(t,19,uR(e[r]));return iN(t,160),t.end()}function dR(e){if("undefined"!==typeof y_)return y_.utils.encode(h_,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function fR(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function pR(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function gR(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=fR(e,4),t.U=fR(e,4),t.W=fR(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function mR(e,t){var r=e.l+t,n={};n.Flags=63&e.read_shift(4),e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=36==n.Flags;break;case 26625:a=4==n.Flags;break;case 0:a=16==n.Flags||4==n.Flags||36==n.Flags;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function vR(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function wR(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:mR(e,t),v:vR(e,e.length-e.l)}}function yR(){throw new Error("File is password-protected: ECMA-376 Extensible")}function bR(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(wI,(function(e){var r=EI(e);switch(SI(r[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach((function(e){n[e]=r[e]}));break;case"<dataIntegrity":n.encryptedHmacKey=r.encryptedHmacKey,n.encryptedHmacValue=r.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"<keyEncryptor":n.uri=r.uri;break;case"<encryptedKey":n.encs.push(r);break;default:throw r[0]}})),n}function ER(e){var t,r,n=0,a=dR(e),i=a.length+1;for((t=k_(i))[0]=a.length,r=1;r!=i;++r)t[r]=a[r-1];for(r=i-1;r>=0;--r)n=((0===(16384&n)?0:1)|n<<1&32767)^t[r];return 52811^n}var SR=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(e,t){return 255&((r=e^t)/2|128*r);var r};return function(a){for(var i,s,o,l=dR(a),c=function(e){for(var n=t[e.length-1],a=104,i=e.length-1;i>=0;--i)for(var s=e[i],o=0;7!=o;++o)64&s&&(n^=r[a]),s*=2,--a;return n}(l),u=l.length,h=k_(16),d=0;16!=d;++d)h[d]=0;for(1===(1&u)&&(i=c>>8,h[u]=n(e[0],i),--u,i=255&c,s=l[l.length-1],h[u]=n(s,i));u>0;)i=c>>8,h[--u]=n(l[u],i),i=255&c,h[--u]=n(l[u],i);for(u=15,o=15-l.length;o>0;)i=c>>8,h[u]=n(e[o],i),--o,i=255&c,h[--u]=n(l[u],i),--u,--o;return h}}(),TR=function(e){var t=0,r=SR(e);return function(e){var n=function(e,t,r,n,a){var i,s;for(a||(a=t),n||(n=SR(e)),i=0;i!=t.length;++i)s=t[i],s=255&((s^=n[r])>>5|s<<3),a[i]=s,++r;return[a,r,n]}("",e,t,r);return t=n[1],n[0]}};function CR(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,1===n.Info?n.Data=function(e){var t={},r=t.EncryptionVersionInfo=fR(e,4);if(1!=r.Major||1!=r.Minor)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):n.Data=function(e,t){var r={},n=r.EncryptionVersionInfo=fR(e,4);if(t-=4,2!=n.Minor)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=mR(e,a),t-=a,r.EncryptionVerifier=vR(e,t),r}(e,t),n}var _R=function(){function e(e,r){switch(r.type){case"base64":return t(__(e),r);case"binary":return t(e,r);case"buffer":return t(A_&&Buffer.isBuffer(e)?e.toString("binary"):R_(e),r);case"array":return t(qA(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:n.length-1}};return n.forEach((function(e,t){Array.isArray(r)&&(r[t]=[]);for(var n,i=/\\\w+\b/g,s=0,o=-1;n=i.exec(e);){if("\\cell"===n[0]){var l=e.slice(s,i.lastIndex-n[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][o]=c:r[gN({r:t,c:o})]=c}}s=i.lastIndex}o>a.e.c&&(a.e.c=o)})),r["!ref"]=vN(a),r}return{to_workbook:function(t,r){return EN(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],n=wN(e["!ref"]),a=Array.isArray(e),i=n.s.r;i<=n.e.r;++i){r.push("\\trowd\\trautofit1");for(var s=n.s.c;s<=n.e.c;++s)r.push("\\cellx"+(s+1));for(r.push("\\pard\\intbl"),s=n.s.c;s<=n.e.c;++s){var o=gN({r:i,c:s});(t=a?(e[i]||[])[s]:e[o])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(bN(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function AR(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function IR(e,t){if(0===t)return e;var r=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(0===s)return[0,0,t];var o,l=0,c=a+i;switch(o=s/(c>1?2-c:c),a){case t:l=((r-n)/s+6)%6;break;case r:l=(n-t)/s+2;break;case n:l=(t-r)/s+4}return[l/6,o,c/2]}(function(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}(e));return r[2]=t<0?r[2]*(1+t):1-(1-r[2])*(1-t),AR(function(e){var t,r=e[0],n=e[1],a=e[2],i=2*n*(a<.5?a:1-a),s=a-i/2,o=[s,s,s],l=6*r;if(0!==n)switch(0|l){case 0:case 6:t=i*l,o[0]+=i,o[1]+=t;break;case 1:t=i*(2-l),o[0]+=t,o[1]+=i;break;case 2:t=i*(l-2),o[1]+=i,o[2]+=t;break;case 3:t=i*(4-l),o[1]+=t,o[2]+=i;break;case 4:t=i*(l-4),o[2]+=i,o[0]+=t;break;case 5:t=i*(6-l),o[2]+=t,o[0]+=i}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(r))}var kR=6;function NR(e){return Math.floor((e+Math.round(128/kR)/256)*kR)}function xR(e){return Math.floor((e-5)/kR*100+.5)/100}function DR(e){return Math.round((e*kR+5)/kR*256)/256}function RR(e){return DR(xR(NR(e)))}function MR(e){var t=Math.abs(e-RR(e)),r=kR;if(t>.005)for(kR=1;kR<15;++kR)Math.abs(e-RR(e))<=t&&(t=Math.abs(e-RR(e)),r=kR);kR=r}function OR(e){e.width?(e.wpx=NR(e.width),e.wch=xR(e.wpx),e.MDW=kR):e.wpx?(e.wch=xR(e.wpx),e.width=DR(e.wch),e.MDW=kR):"number"==typeof e.wch&&(e.width=DR(e.wch),e.wpx=NR(e.width),e.MDW=kR),e.customWidth&&delete e.customWidth}var PR=96;function LR(e){return 96*e/PR}function FR(e){return e*PR/96}var BR={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var UR=["numFmtId","fillId","fontId","borderId","xfId"],VR=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var jR=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(i,s,o){var l,c={};return i?((l=(i=i.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,r){t.NumberFmt=[];for(var n=PA(G_),a=0;a<n.length;++a)t.NumberFmt[n[a]]=G_[n[a]];var i=e[0].match(wI);if(i)for(a=0;a<i.length;++a){var s=EI(i[a]);switch(SI(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=_I(BI(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}_A(o,l)}break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}(l,c,o),(l=i.match(n))&&function(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(wI)||[]).forEach((function(e){var s=EI(e);switch(SI(s[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=BI(s.val));break;case"<b":a.bold=s.val?MI(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?MI(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?MI(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?MI(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?MI(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?MI(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?MI(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<charset":if("1"==s.val)break;s.codepage=f_[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=MI(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var o=ax[a.color.index];81==a.color.index&&(o=ax[1]),o||(o=ax[1]),a.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=IR(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}}))}(l,c,s,o),(l=i.match(r))&&function(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(wI)||[]).forEach((function(e){var r=EI(e);switch(SI(r[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":r.patternType&&(a.patternType=r.patternType);break;case"<bgColor":a.bgColor||(a.bgColor={}),r.indexed&&(a.bgColor.indexed=parseInt(r.indexed,10)),r.theme&&(a.bgColor.theme=parseInt(r.theme,10)),r.tint&&(a.bgColor.tint=parseFloat(r.tint)),r.rgb&&(a.bgColor.rgb=r.rgb.slice(-6));break;case"<fgColor":a.fgColor||(a.fgColor={}),r.theme&&(a.fgColor.theme=parseInt(r.theme,10)),r.tint&&(a.fgColor.tint=parseFloat(r.tint)),null!=r.rgb&&(a.fgColor.rgb=r.rgb.slice(-6));break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+r[0]+" in fills")}}))}(l,c,0,o),(l=i.match(a))&&function(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(wI)||[]).forEach((function(e){var r=EI(e);switch(SI(r[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":a={},r.diagonalUp&&(a.diagonalUp=MI(r.diagonalUp)),r.diagonalDown&&(a.diagonalDown=MI(r.diagonalDown)),t.Borders.push(a);break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+r[0]+" in borders")}}))}(l,c,0,o),(l=i.match(t))&&function(e,t,r){var n;t.CellXf=[];var a=!1;(e[0].match(wI)||[]).forEach((function(e){var i=EI(e),s=0;switch(SI(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(n=i)[0],s=0;s<UR.length;++s)n[UR[s]]&&(n[UR[s]]=parseInt(n[UR[s]],10));for(s=0;s<VR.length;++s)n[VR[s]]&&(n[VR[s]]=MI(n[VR[s]]));if(t.NumberFmt&&n.numFmtId>392)for(s=392;s>60;--s)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[s]){n.numFmtId=s;break}t.CellXf.push(n);break;case"<alignment":case"<alignment/>":var o={};i.vertical&&(o.vertical=i.vertical),i.horizontal&&(o.horizontal=i.horizontal),null!=i.textRotation&&(o.textRotation=i.textRotation),i.indent&&(o.indent=i.indent),i.wrapText&&(o.wrapText=MI(i.wrapText)),n.alignment=o;break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}}))}(l,c,o),c):c}}();function HR(e,t){var r,n=[gI,XI("styleSheet",null,{xmlns:dk[0],"xmlns:vt":ck})];return e.SSF&&null!=(r=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=e[n]&&(t[t.length]=XI("numFmt",null,{numFmtId:n,formatCode:kI(e[n])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=XI("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=XI("cellXfs",null),e.forEach((function(e){t[t.length]=XI("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=XI("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function zR(e,t,r){r||(r=rN(6+4*t.length)),r.write_shift(2,e),AN(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),n}function WR(e,t){t||(t=rN(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=rN(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,r),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),XN(e.color,t);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),t.write_shift(1,n),AN(e.name,t),t.length>t.l?t.slice(0,t.l):t}var YR,GR=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],$R=tN;function KR(e,t){t||(t=rN(84)),YR||(YR=FA(GR));var r=YR[e.patternType];null==r&&(r=40),t.write_shift(4,r);var n=0;if(40!=r)for(XN({auto:1},t),XN({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function XR(e,t,r){r||(r=rN(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);return r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function qR(e,t){return t||(t=rN(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var QR=tN;function ZR(e){var t;iN(e,613,CN(1)),iN(e,46,(t||(t=rN(51)),t.write_shift(1,0),qR(0,t),qR(0,t),qR(0,t),qR(0,t),qR(0,t),t.length>t.l?t.slice(0,t.l):t)),iN(e,614)}function JR(e){var t,r;iN(e,619,CN(1)),iN(e,48,(t={xfId:0,builtinId:0,name:"Normal"},r||(r=rN(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,+t.builtinId),r.write_shift(1,0),BN(t.name||"",r),r.length>r.l?r.slice(0,r.l):r)),iN(e,620)}function eM(e){iN(e,508,function(e,t,r){var n=rN(2052);return n.write_shift(4,e),BN(t,n),BN(r,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),iN(e,509)}function tM(e,t){var r=aN();return iN(r,278),function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var n=e[0];n<=e[1];++n)null!=t[n]&&++r})),0!=r&&(iN(e,615,CN(r)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&iN(e,44,zR(n,t[n]))})),iN(e,616))}}(r,e.SSF),function(e){iN(e,611,CN(1)),iN(e,43,WR({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),iN(e,612)}(r),function(e){iN(e,603,CN(2)),iN(e,45,KR({patternType:"none"})),iN(e,45,KR({patternType:"gray125"})),iN(e,604)}(r),ZR(r),function(e){iN(e,626,CN(1)),iN(e,47,XR({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),iN(e,627)}(r),function(e,t){iN(e,617,CN(t.length)),t.forEach((function(t){iN(e,47,XR(t,0))})),iN(e,618)}(r,t.cellXfs),JR(r),function(e){iN(e,505,CN(0)),iN(e,506)}(r),eM(r),iN(r,279),r.end()}var rM=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function nM(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(wI)||[]).forEach((function(e){var a=EI(e);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===a[0].charAt(1)?(t.themeElements.clrScheme[rM.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}}))}function aM(){}function iM(){}var sM=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,oM=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,lM=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var cM=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function uM(e,t){var r;e&&0!==e.length||(e=hM());var n={};if(!(r=e.match(cM)))throw new Error("themeElements not found in theme");return function(e,t,r){var n;t.themeElements={},[["clrScheme",sM,nM],["fontScheme",oM,aM],["fmtScheme",lM,iM]].forEach((function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)}))}(r[0],n,t),n.raw=e,n}function hM(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[gI];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function dM(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return tN(e,t)}(e,4);break;case 2:t.xclrValue=hD(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function fM(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=dM(e);break;case 6:n[1]=function(e,t){return tN(e,t)}(e,r);break;case 14:case 15:n[1]=e.read_shift(1===r?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function pM(){var e=aN();return iN(e,332),iN(e,334,CN(1)),iN(e,335,function(e){var t=rN(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),AN(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),iN(e,336),iN(e,339,function(e,t){var r=rN(8+2*t.length);return r.write_shift(4,e),AN(t,r),r.slice(0,r.l)}(1,"XLDAPR")),iN(e,52),iN(e,35,CN(514)),iN(e,4096,CN(0)),iN(e,4097,Qx(1)),iN(e,36),iN(e,53),iN(e,340),iN(e,337,function(e,t){var r=rN(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}(1,!0)),iN(e,51,function(e){var t=rN(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),iN(e,338),iN(e,333),e.end()}function gM(){var e=[gI];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var mM=1024;function vM(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[XI("xml",null,{"xmlns:v":wk,"xmlns:o":fk,"xmlns:x":pk,"xmlns:mv":vk}).replace(/\/>/,">"),XI("o:shapelayout",XI("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),XI("v:shapetype",[XI("v:stroke",null,{joinstyle:"miter"}),XI("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];mM<1e3*e;)mM+=1e3;return t.forEach((function(e){var t=pN(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var n="gradient"==r.type?XI("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=XI("v:fill",n,r);++mM,a=a.concat(["<v:shape"+KI({id:"_x0000_s"+mM,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,XI("v:shadow",null,{on:"t",obscured:"t"}),XI("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$I("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),$I("x:AutoFill","False"),$I("x:Row",String(t.r)),$I("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),a.push("</xml>"),a.join("")}function wM(e,t,r,n){var a,i=Array.isArray(e);t.forEach((function(t){var s=pN(t.ref);if(i?(e[s.r]||(e[s.r]=[]),a=e[s.r][s.c]):a=e[t.ref],!a){a={t:"z"},i?e[s.r][s.c]=a:e[t.ref]=a;var o=wN(e["!ref"]||"BDWGO1000001:A1");o.s.r>s.r&&(o.s.r=s.r),o.e.r<s.r&&(o.e.r=s.r),o.s.c>s.c&&(o.s.c=s.c),o.e.c<s.c&&(o.e.c=s.c);var l=vN(o);l!==e["!ref"]&&(e["!ref"]=l)}a.c||(a.c=[]);var c={a:t.author,t:t.t,r:t.r,T:r};t.h&&(c.h=t.h);for(var u=a.c.length-1;u>=0;--u){if(!r&&a.c[u].T)return;r&&!a.c[u].T&&a.c.splice(u,1)}if(r&&n)for(u=0;u<n.length;++u)if(c.a==n[u].id){c.a=n[u].name||c.a;break}a.c.push(c)}))}function yM(e){var t=[gI,XI("comments",null,{xmlns:dk[0]})],r=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var n=kI(e.a);-1==r.indexOf(n)&&(r.push(n),t.push("<author>"+n+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var n=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?n=r.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(n=r.indexOf(kI(e.a))),a.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+n+'"><text>'),a.length<=1)t.push($I("t",kI(a[0]||"")));else{for(var i="Comment:\n    "+a[0]+"\n",s=1;s<a.length;++s)i+="Reply:\n    "+a[s]+"\n";t.push($I("t",kI(i)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function bM(e,t,r){var n=[gI,XI("ThreadedComments",null,{xmlns:ak}).replace(/[\/]>/,">")];return e.forEach((function(e){var a="";(e[1]||[]).forEach((function(i,s){if(i.T){i.a&&-1==t.indexOf(i.a)&&t.push(i.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==s?a=o.id:o.parentId=a,i.ID=o.id,i.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(XI("threadedComment",$I("text",i.t||""),o))}else delete i.ID}))})),n.push("</ThreadedComments>"),n.join("")}var EM=_N;function SM(e){var t=aN(),r=[];return iN(t,628),iN(t,630),e.forEach((function(e){e[1].forEach((function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),iN(t,632,function(e){return AN(e.slice(0,54))}(e.a)))}))})),iN(t,631),iN(t,633),e.forEach((function(e){e[1].forEach((function(n){n.iauthor=r.indexOf(n.a);var a={s:pN(e[0]),e:pN(e[0])};iN(t,635,function(e,t){return null==t&&(t=rN(36)),t.write_shift(4,e[1].iauthor),GN(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,n])),n.t&&n.t.length>0&&iN(t,637,xN(n)),iN(t,636),delete n.iauthor}))})),iN(t,634),iN(t,629),t.end()}var TM=["xlsb","xlsm","xlam","biff8","xla"];var CM=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,n,a){var i=!1,s=!1;0==n.length?s=!0:"["==n.charAt(0)&&(s=!0,n=n.slice(1,-1)),0==a.length?i=!0:"["==a.charAt(0)&&(i=!0,a=a.slice(1,-1));var o=n.length>0?0|parseInt(n,10):0,l=a.length>0?0|parseInt(a,10):0;return i?l+=t.c:--l,s?o+=t.r:--o,r+(i?"":"$")+fN(l)+(s?"":"$")+hN(o)}return function(n,a){return t=a,n.replace(e,r)}}(),_M=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,AM=function(){return function(e,t){return e.replace(_M,(function(e,r,n,a,i,s){var o=dN(a)-(n?0:t.c),l=uN(s)-(i?0:t.r);return r+"R"+(0==l?"":i?l+1:"["+l+"]")+"C"+(0==o?"":n?o+1:"["+o+"]")}))}}();function IM(e,t){return e.replace(_M,(function(e,r,n,a,i,s){return r+("$"==n?n+a:fN(dN(a)+t.c))+("$"==i?i+s:hN(uN(s)+t.r))}))}function kM(e,t,r){var n=mN(t).s,a=pN(r);return IM(e,{r:a.r-n.r,c:a.c-n.c})}function NM(e){return e.replace(/_xlfn\./g,"")}function xM(e){e.l+=1}function DM(e,t){var r=e.read_shift(1==t?1:2);return[16383&r,r>>14&1,r>>15&1]}function RM(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return MM(e);12==r.biff&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=DM(e,2),o=DM(e,2);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function MM(e){var t=DM(e,2),r=DM(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function OM(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return function(e){var t=DM(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(r&&12==r.biff?4:2),a=DM(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function PM(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function LM(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function FM(e){return[e.read_shift(1),e.read_shift(1)]}function BM(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=Kx(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=ix[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=$N(e);break;case 2:r[1]=iD(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function UM(e,t,r){for(var n=e.read_shift(12==r.biff?4:2),a=[],i=0;i!=n;++i)a.push((12==r.biff?YN:vD)(e,8));return a}function VM(e,t,r){var n=0,a=0;12==r.biff?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,0==--a&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=BM(e,r.biff);return s}function jM(e,t,r){return e.l+=2,[PM(e)]}function HM(e){return e.l+=6,[]}function zM(e){return e.l+=2,[qx(e),1&e.read_shift(2)]}var WM=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var YM={1:{n:"PtgExp",f:function(e,t,r){return e.l++,r&&12==r.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:tN},3:{n:"PtgAdd",f:xM},4:{n:"PtgSub",f:xM},5:{n:"PtgMul",f:xM},6:{n:"PtgDiv",f:xM},7:{n:"PtgPower",f:xM},8:{n:"PtgConcat",f:xM},9:{n:"PtgLt",f:xM},10:{n:"PtgLe",f:xM},11:{n:"PtgEq",f:xM},12:{n:"PtgGe",f:xM},13:{n:"PtgGt",f:xM},14:{n:"PtgNe",f:xM},15:{n:"PtgIsect",f:xM},16:{n:"PtgUnion",f:xM},17:{n:"PtgRange",f:xM},18:{n:"PtgUplus",f:xM},19:{n:"PtgUminus",f:xM},20:{n:"PtgPercent",f:xM},21:{n:"PtgParen",f:xM},22:{n:"PtgMissArg",f:xM},23:{n:"PtgStr",f:function(e,t,r){return e.l++,eD(e,0,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,ix[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,$N(e)}},32:{n:"PtgArray",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[n]}},33:{n:"PtgFunc",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[fO[a],dO[a],n]}},34:{n:"PtgFuncVar",f:function(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===i[0]?dO:hO)[i[1]]]}},35:{n:"PtgName",f:function(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,i]}},36:{n:"PtgRef",f:function(e,t,r){var n=(96&e[e.l])>>5;return e.l+=1,[n,OM(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,RM(e,r.biff>=2&&r.biff,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[n,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:tN},40:{n:"PtgMemNoMem",f:tN},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return function(e){var t=e.read_shift(2),r=e.read_shift(1),n=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==a&&r>=128&&(r-=256),{r:t,c:r,cRel:a,rRel:n}}(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(16384&i)>>14,o=(32768&i)>>15;if(i&=16383,1==o)for(;a>524287;)a-=1048576;if(1==s)for(;i>8191;)i-=16384;return{r:a,c:i,cRel:s,rRel:o}}(e,0,r);return[n,a]}},45:{n:"PtgAreaN",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=function(e,t,r){if(r.biff<8)return MM(e);var n=e.read_shift(12==r.biff?4:2),a=e.read_shift(12==r.biff?4:2),i=DM(e,2),s=DM(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}(e,0,r);return[n,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){return 5==r.biff?function(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[n,a,OM(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(r)switch(r.biff){case 5:e.l+=12;break;case 12:0}return[n,a,RM(e,0,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6}return e.l+=i,[n,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12}return e.l+=i,[n,a]}},255:{}},GM={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},$M={1:{n:"PtgElfLel",f:zM},2:{n:"PtgElfRw",f:jM},3:{n:"PtgElfCol",f:jM},6:{n:"PtgElfRwV",f:jM},7:{n:"PtgElfColV",f:jM},10:{n:"PtgElfRadical",f:jM},11:{n:"PtgElfRadicalS",f:HM},13:{n:"PtgElfColS",f:HM},15:{n:"PtgElfColSV",f:HM},16:{n:"PtgElfRadicalLel",f:zM},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2);return{ixti:t,coltype:3&r,rt:WM[r>>2&31],idx:n,c:a,C:i}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},KM={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var n=e.read_shift(r&&2==r.biff?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&2==r.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:LM},33:{n:"PtgAttrBaxcel",f:LM},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),FM(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),FM(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function XM(e,t,r,n){if(n.biff<8)return tN(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=VM(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=UM(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&12==n.biff&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return 0!==(t=a-e.l)&&i.push(tN(e,t)),i}function qM(e,t,r){for(var n,a,i=e.l+t,s=[];i!=e.l;)t=i-e.l,a=e[e.l],n=YM[a]||YM[GM[a]],24!==a&&25!==a||(n=(24===a?$M:KM)[e[e.l+1]]),n&&n.f?s.push([n.n,n.f(e,t,r)]):tN(e,t);return s}function QM(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)if(2===s[0])a.push('"'+s[1].replace(/"/g,'""')+'"');else a.push(s[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var ZM={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function JM(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[n[0]][0][3]?(a=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function eO(e,t,r){var n=JM(e,t,r);return"#REF"==n?n:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,r)}function tO(e,t,r,n,a){var i,s,o,l,c=a&&a.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},h=[],d=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,m="",v=0,w=e[0].length;v<w;++v){var y=e[0][v];switch(y[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(i=h.pop(),s=h.pop(),g>=0){switch(e[0][g][1][0]){case 0:m=ZA(" ",e[0][g][1][1]);break;case 1:m=ZA("\r",e[0][g][1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}s+=m,g=-1}h.push(s+ZM[y[0]]+i);break;case"PtgIsect":i=h.pop(),s=h.pop(),h.push(s+" "+i);break;case"PtgUnion":i=h.pop(),s=h.pop(),h.push(s+","+i);break;case"PtgRange":i=h.pop(),s=h.pop(),h.push(s+":"+i);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=sN(y[1][1],u,a),h.push(lN(o,c));break;case"PtgRefN":o=r?sN(y[1][1],r,a):y[1][1],h.push(lN(o,c));break;case"PtgRef3d":d=y[1][1],o=sN(y[1][2],u,a);p=eO(n,d,a);h.push(p+"!"+lN(o,c));break;case"PtgFunc":case"PtgFuncVar":var b=y[1][0],E=y[1][1];b||(b=0);var S=0==(b&=127)?[]:h.slice(-b);h.length-=b,"User"===E&&(E=S.shift()),h.push(E+"("+S.join(",")+")");break;case"PtgBool":h.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(y[1]);break;case"PtgNum":h.push(String(y[1]));break;case"PtgStr":h.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=oN(y[1][1],r?{s:r}:u,a),h.push(cN(l,a));break;case"PtgArea":l=oN(y[1][1],u,a),h.push(cN(l,a));break;case"PtgArea3d":d=y[1][1],l=y[1][2],p=eO(n,d,a),h.push(p+"!"+cN(l,a));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":f=y[1][2];var T=(n.names||[])[f-1]||(n[0]||[])[f],C=T?T.Name:"SH33TJSNAME"+String(f);C&&"_xlfn."==C.slice(0,6)&&!a.xlfn&&(C=C.slice(6)),h.push(C);break;case"PtgNameX":var _,A=y[1][1];if(f=y[1][2],!(a.biff<=5)){var I="";if(14849==((n[A]||[])[0]||[])[0]||(1025==((n[A]||[])[0]||[])[0]?n[A][f]&&n[A][f].itab>0&&(I=n.SheetNames[n[A][f].itab-1]+"!"):I=n.SheetNames[f-1]+"!"),n[A]&&n[A][f])I+=n[A][f].Name;else if(n[0]&&n[0][f])I+=n[0][f].Name;else{var k=(JM(n,A,a)||"").split(";;");k[f-1]?I=k[f-1]:I+="SH33TJSERRX"}h.push(I);break}A<0&&(A=-A),n[A]&&(_=n[A][f]),_||(_={Name:"SH33TJSERRY"}),h.push(_.Name);break;case"PtgParen":var N="(",x=")";if(g>=0){switch(m="",e[0][g][1][0]){case 2:N=ZA(" ",e[0][g][1][1])+N;break;case 3:N=ZA("\r",e[0][g][1][1])+N;break;case 4:x=ZA(" ",e[0][g][1][1])+x;break;case 5:x=ZA("\r",e[0][g][1][1])+x;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}h.push(N+h.pop()+x);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":o={c:y[1][1],r:y[1][0]};var D={c:r.c,r:r.r};if(n.sharedf[gN(o)]){var R=n.sharedf[gN(o)];h.push(tO(R,u,D,n,a))}else{var M=!1;for(i=0;i!=n.arrayf.length;++i)if(s=n.arrayf[i],!(o.c<s[0].s.c||o.c>s[0].e.c)&&!(o.r<s[0].s.r||o.r>s[0].e.r)){h.push(tO(s[1],u,D,n,a)),M=!0;break}M||h.push(y[1])}break;case"PtgArray":h.push("{"+QM(y[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(y))}if(3!=a.biff&&g>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var O=!0;switch((y=e[0][g])[1][0]){case 4:O=!1;case 0:m=ZA(" ",y[1][1]);break;case 5:O=!1;case 1:m=ZA("\r",y[1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}h.push((O?m:"")+h.pop()+(O?"":m)),g=-1}}if(h.length>1&&a.WTF)throw new Error("bad formula stack");return h[0]}function rO(e,t,r){var n,a=e.l+t,i=2==r.biff?1:2,s=e.read_shift(i);if(65535==s)return[[],tN(e,t-2)];var o=qM(e,s,r);return t!==s+i&&(n=XM(e,t-s-i,o,r)),e.l=a,[o,n]}function nO(e,t,r){var n,a=e.l+t,i=e.read_shift(2),s=qM(e,i,r);return 65535==i?[[],tN(e,t-2)]:(t!==i+2&&(n=XM(e,a-i-2,s,r)),[s,n])}function aO(e,t,r){var n=e.l+t,a=fD(e);2==r.biff&&++e.l;var i=function(e){var t;if(65535!==zk(e,e.l+6))return[$N(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),s=e.read_shift(1);2!=r.biff&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=function(e,t,r){var n,a=e.l+t,i=2==r.biff?1:2,s=e.read_shift(i);if(65535==s)return[[],tN(e,t-2)];var o=qM(e,s,r);return t!==s+i&&(n=XM(e,t-s-i,o,r)),e.l=a,[o,n]}(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function iO(e,t,r,n,a){var i=pD(t,r,a),s=function(e){if(null==e){var t=rN(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return KN("number"==typeof e?e:0)}(e.v),o=rN(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=rN(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return O_([i,s,o,l])}function sO(e,t,r){var n=e.read_shift(4),a=qM(e,n,r),i=e.read_shift(4);return[a,i>0?XM(e,i,a,r):null]}var oO=sO,lO=sO,cO=sO,uO=sO,hO={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},dO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fO={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function pO(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")}))).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function gO(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function mO(e){return e.replace(/\./,"!")}var vO={},wO={},yO="undefined"!==typeof Map;function bO(e,t,r){var n=0,a=e.length;if(r){if(yO?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var i=yO?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t:t},e.Count++,e.Unique++,r&&(yO?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function EO(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(kR=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?n=xR(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(r.width=DR(n),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function SO(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function TO(e,t,r){var n=r.revssf[null!=t.z?t.z:"General"],a=60,i=e.length;if(null==n&&r.ssf)for(;a<392;++a)if(null==r.ssf[a]){_A(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function CO(e,t,r,n,a,i){try{n.cellNF&&(e.z=G_[t])}catch(qF){if(n.WTF)throw qF}if("z"!==e.t||n.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=XA(e.v)),(!n||!1!==n.cellText)&&"z"!==e.t)try{if(null==G_[t]&&_A(kA[t]||"General",t),"e"===e.t)e.w=e.w||ix[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=rA(e.v);else if("d"===e.t){var s=VA(e.v);e.w=(0|s)===s?s.toString(10):rA(s)}else{if(void 0===e.v)return"";e.w=nA(e.v,wO)}else"d"===e.t?e.w=CA(t,VA(e.v),wO):e.w=CA(t,e.v,wO)}catch(qF){if(n.WTF)throw qF}if(n.cellStyles&&null!=r)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=IR(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=IR(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(qF){if(n.WTF&&i.Fills)throw qF}}}function _O(e,t,r){if(e&&e["!ref"]){var n=wN(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}var AO=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,IO=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,kO=/<(?:\w:)?hyperlink [^>]*>/gm,NO=/"(\w*:\w*)"/,xO=/<(?:\w:)?col\b[^>]*[\/]?>/g,DO=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,RO=/<(?:\w:)?pageMargins[^>]*\/>/g,MO=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,OO=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,PO=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function LO(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=e.match(IO);h?(c=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):c=u=e;var d=c.match(MO);d?FO(d[0],o,a,r):(d=c.match(OO))&&function(e,t,r,n,a){FO(e.slice(0,e.indexOf(">")),r,n,a)}(d[0],d[1],o,a,r);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var p=c.slice(f,f+50).match(NO);p&&function(e,t){var r=wN(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=vN(r))}(o,p[1])}var g=c.match(PO);g&&g[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(VO)||[]).forEach((function(e,r){var n=EI(e);t.Views[r]||(t.Views[r]={}),+n.zoomScale&&(t.Views[r].zoom=+n.zoomScale),MI(n.rightToLeft)&&(t.Views[r].RTL=!0)}))}(g[1],a);var m=[];if(t.cellStyles){var v=c.match(xO);v&&function(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=EI(t[n],!0);a.hidden&&(a.hidden=MI(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,MR(a.width)),OR(a);i<=s;)e[i++]=QA(a)}}(m,v)}h&&HO(h[1],o,t,l,i,s);var w=u.match(DO);w&&(o["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(w[0]));var y=[],b=u.match(AO);if(b)for(f=0;f!=b.length;++f)y[f]=wN(b[f].slice(b[f].indexOf('"')+1));var E=u.match(kO);E&&function(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=EI(BI(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+_I(i.location))):(i.Target="#"+_I(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=wN(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=gN({c:c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}(o,E,n);var S=u.match(RO);if(S&&(o["!margins"]=function(e){var t={};return["left","right","top","bottom","header","footer"].forEach((function(r){e[r]&&(t[r]=parseFloat(e[r]))})),t}(EI(S[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=vN(l)),t.sheetRows>0&&o["!ref"]){var T=wN(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=vN(T))}return m.length>0&&(o["!cols"]=m),y.length>0&&(o["!merges"]=y),o}function FO(e,t,r,n){var a=EI(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=_I(BI(a.codeName)))}var BO=["objects","scenarios","selectLockedCells","selectUnlockedCells"],UO=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];var VO=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function jO(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var a="",i=e.t,s=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=ix[e.v];break;case"d":n&&n.cellDates?a=XA(e.v,-1).toISOString():((e=QA(e)).t="n",a=""+(e.v=VA(XA(e.v)))),"undefined"===typeof e.z&&(e.z=G_[14]);break;default:a=e.v}var o=$I("v",kI(a)),l={r:t},c=TO(n.cellXfs,e,n);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=$I("v",""+bO(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str"}if(e.t!=i&&(e.t=i,e.v=s),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=XI("f",kI(e.f),u)+(null!=e.v?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),XI("c",o,l)}var HO=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=VI("v"),s=VI("f");return function(o,l,c,u,h,d){for(var f,p,g,m,v,w=0,y="",b=[],E=[],S=0,T=0,C=0,_="",A=0,I=0,k=0,N=0,x=Array.isArray(d.CellXf),D=[],R=[],M=Array.isArray(l),O=[],P={},L=!1,F=!!c.sheetStubs,B=o.split(t),U=0,V=B.length;U!=V;++U){var j=(y=B[U].trim()).length;if(0!==j){var H=0;e:for(w=0;w<j;++w)switch(y[w]){case">":if("/"!=y[w-1]){++w;break e}if(c&&c.cellStyles){if(A=null!=(p=EI(y.slice(H,w),!0)).r?parseInt(p.r,10):A+1,I=-1,c.sheetRows&&c.sheetRows<A)continue;P={},L=!1,p.ht&&(L=!0,P.hpt=parseFloat(p.ht),P.hpx=FR(P.hpt)),"1"==p.hidden&&(L=!0,P.hidden=!0),null!=p.outlineLevel&&(L=!0,P.level=+p.outlineLevel),L&&(O[A-1]=P)}break;case"<":H=w}if(H>=w)break;if(A=null!=(p=EI(y.slice(H,w),!0)).r?parseInt(p.r,10):A+1,I=-1,!(c.sheetRows&&c.sheetRows<A)){u.s.r>A-1&&(u.s.r=A-1),u.e.r<A-1&&(u.e.r=A-1),c&&c.cellStyles&&(P={},L=!1,p.ht&&(L=!0,P.hpt=parseFloat(p.ht),P.hpx=FR(P.hpt)),"1"==p.hidden&&(L=!0,P.hidden=!0),null!=p.outlineLevel&&(L=!0,P.level=+p.outlineLevel),L&&(O[A-1]=P)),b=y.slice(w).split(e);for(var z=0;z!=b.length&&"<"==b[z].trim().charAt(0);++z);for(b=b.slice(z),w=0;w!=b.length;++w)if(0!==(y=b[w].trim()).length){if(E=y.match(r),S=w,T=0,C=0,y="<c "+("<"==y.slice(0,1)?">":"")+y,null!=E&&2===E.length){for(S=0,_=E[1],T=0;T!=_.length&&!((C=_.charCodeAt(T)-64)<1||C>26);++T)S=26*S+C;I=--S}else++I;for(T=0;T!=y.length&&62!==y.charCodeAt(T);++T);if(++T,(p=EI(y.slice(0,T),!0)).r||(p.r=gN({r:A-1,c:I})),f={t:""},null!=(E=(_=y.slice(T)).match(i))&&""!==E[1]&&(f.v=_I(E[1])),c.cellFormula){if(null!=(E=_.match(s))&&""!==E[1]){if(f.f=_I(BI(E[1])).replace(/\r\n/g,"\n"),c.xlfn||(f.f=NM(f.f)),E[0].indexOf('t="array"')>-1)f.F=(_.match(a)||[])[1],f.F.indexOf(":")>-1&&D.push([wN(f.F),f.F]);else if(E[0].indexOf('t="shared"')>-1){m=EI(E[0]);var W=_I(BI(E[1]));c.xlfn||(W=NM(W)),R[parseInt(m.si,10)]=[m,W,p.r]}}else(E=_.match(/<f[^>]*\/>/))&&R[(m=EI(E[0])).si]&&(f.f=kM(R[m.si][1],R[m.si][2],p.r));var Y=pN(p.r);for(T=0;T<D.length;++T)Y.r>=D[T][0].s.r&&Y.r<=D[T][0].e.r&&Y.c>=D[T][0].s.c&&Y.c<=D[T][0].e.c&&(f.F=D[T][1])}if(null==p.t&&void 0===f.v)if(f.f||f.F)f.v=0,f.t="n";else{if(!F)continue;f.t="z"}else f.t=p.t||"n";switch(u.s.c>I&&(u.s.c=I),u.e.c<I&&(u.e.c=I),f.t){case"n":if(""==f.v||null==f.v){if(!F)continue;f.t="z"}else f.v=parseFloat(f.v);break;case"s":if("undefined"==typeof f.v){if(!F)continue;f.t="z"}else g=vO[parseInt(f.v,10)],f.v=g.t,f.r=g.r,c.cellHTML&&(f.h=g.h);break;case"str":f.t="s",f.v=null!=f.v?BI(f.v):"",c.cellHTML&&(f.h=DI(f.v));break;case"inlineStr":E=_.match(n),f.t="s",null!=E&&(g=aR(E[1]))?(f.v=g.t,c.cellHTML&&(f.h=g.h)):f.v="";break;case"b":f.v=MI(f.v);break;case"d":c.cellDates?f.v=XA(f.v,1):(f.v=VA(XA(f.v,1)),f.t="n");break;case"e":c&&!1===c.cellText||(f.w=f.v),f.v=sx[f.v]}if(k=N=0,v=null,x&&void 0!==p.s&&null!=(v=d.CellXf[p.s])&&(null!=v.numFmtId&&(k=v.numFmtId),c.cellStyles&&null!=v.fillId&&(N=v.fillId)),CO(f,k,N,c,h,d),c.cellDates&&x&&"n"==f.t&&bA(G_[k])&&(f.t="d",f.v=WA(f.v)),p.cm&&c.xlmeta){var G=(c.xlmeta.Cell||[])[+p.cm-1];G&&"XLDAPR"==G.type&&(f.D=!0)}if(M){var $=pN(p.r);l[$.r]||(l[$.r]=[]),l[$.r][$.c]=f}else l[p.r]=f}}}}O.length>0&&(l["!rows"]=O)}}();function zO(e,t,r,n){var a,i=[gI,XI("worksheet",null,{xmlns:dk[0],"xmlns:r":lk})],s=r.SheetNames[e],o="",l=r.Sheets[s];null==l&&(l={});var c=l["!ref"]||"A1",u=wN(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=vN(u)}n||(n={}),l["!comments"]=[];var h=[];!function(e,t,r,n,a){var i=!1,s={},o=null;if("xlsx"!==n.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(qF){}i=!0,s.codeName=UI(kI(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+XI("outlinePr",null,c)}(i||o)&&(a[a.length]=XI("sheetPr",o,s))}(l,r,e,t,i),i[i.length]=XI("dimension",null,{ref:c}),i[i.length]=function(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),XI("sheetViews",XI("sheetView",null,a),{})}(0,0,0,r),t.sheetFormat&&(i[i.length]=XI("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=function(e,t){for(var r,n=["<cols>"],a=0;a!=t.length;++a)(r=t[a])&&(n[n.length]=XI("col",null,EO(a,r)));return n[n.length]="</cols>",n.join("")}(0,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var r,n,a=[],i=[],s=wN(e["!ref"]),o="",l="",c=[],u=0,h=0,d=e["!rows"],f=Array.isArray(e),p={r:l},g=-1;for(h=s.s.c;h<=s.e.c;++h)c[h]=fN(h);for(u=s.s.r;u<=s.e.r;++u){for(i=[],l=hN(u),h=s.s.c;h<=s.e.c;++h){r=c[h]+l;var m=f?(e[u]||[])[h]:e[r];void 0!==m&&null!=(o=jO(m,r,e,t))&&i.push(o)}(i.length>0||d&&d[u])&&(p={r:l},d&&d[u]&&((n=d[u]).hidden&&(p.hidden=1),g=-1,n.hpx?g=LR(n.hpx):n.hpt&&(g=n.hpt),g>-1&&(p.ht=g,p.customHeight=1),n.level&&(p.outlineLevel=n.level)),a[a.length]=XI("row",i.join(""),p))}if(d)for(;u<d.length;++u)d&&d[u]&&(p={r:u+1},(n=d[u]).hidden&&(p.hidden=1),g=-1,n.hpx?g=LR(n.hpx):n.hpt&&(g=n.hpt),g>-1&&(p.ht=g,p.customHeight=1),n.level&&(p.outlineLevel=n.level),a[a.length]=XI("row","",p));return a.join("")}(l,t,0,0),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=function(e){var t={sheet:1};return BO.forEach((function(r){null!=e[r]&&e[r]&&(t[r]="1")})),UO.forEach((function(r){null==e[r]||e[r]||(t[r]="0")})),e.password&&(t.password=ER(e.password).toString(16).toUpperCase()),XI("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=function(e,t,r,n){var a="string"==typeof e.ref?e.ref:vN(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=mN(a);s.s.r==s.e.r&&(s.e.r=mN(t["!ref"]).e.r,a=vN(s));for(var o=0;o<i.length;++o){var l=i[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),XI("autoFilter",null,{ref:a})}(l["!autofilter"],l,r,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+vN(e[r])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var d,f,p=-1,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(d={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(g=px(n,-1,kI(e[1].Target).replace(/#.*$/,""),ux.HLINK),d["r:id"]="rId"+g),(p=e[1].Target.indexOf("#"))>-1&&(d.location=kI(e[1].Target.slice(p+1))),e[1].Tooltip&&(d.tooltip=kI(e[1].Tooltip)),i[i.length]=XI("hyperlink",null,d))})),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=(SO(f=l["!margins"]),XI("pageMargins",null,f))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=$I("ignoredErrors",XI("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(g=px(n,-1,"../drawings/drawing"+(e+1)+".xml",ux.DRAW),i[i.length]=XI("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=h),l["!comments"].length>0&&(g=px(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ux.VML),i[i.length]=XI("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function WO(e,t,r,n){var a=function(e,t,r){var n=rN(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=20*LR(a.hpx):a.hpt&&(i=20*a.hpt),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,d=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(r)?(r[c.r]||[])[c.c]:r[gN(c)])&&(h<0&&(h=f),d=f);h<0||(++o,n.write_shift(4,h),n.write_shift(4,d))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&iN(e,0,a)}var YO=YN,GO=GN;function $O(e){return[MN(e),$N(e),"n"]}var KO=YN,XO=GN;var qO=["left","right","top","bottom","header","footer"];function QO(e,t,r,n,a,i,s){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=QA(t)).z=t.z||G_[14],t.v=VA(XA(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:r,c:n};switch(l.s=TO(a.cellXfs,t,a),t.l&&i["!links"].push([gN(l),t.l]),t.c&&i["!comments"].push([gN(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=bO(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?iN(e,18,function(e,t,r){return null==r&&(r=rN(8)),ON(t,r),r.write_shift(4,t.v),r}(0,l)):iN(e,7,function(e,t,r){return null==r&&(r=rN(12)),RN(t,r),r.write_shift(4,t.v),r}(0,l))):(l.t="str",s?iN(e,17,function(e,t,r){return null==r&&(r=rN(8+4*e.v.length)),ON(t,r),AN(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l)):iN(e,6,function(e,t,r){return null==r&&(r=rN(12+4*e.v.length)),RN(t,r),AN(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?s?iN(e,13,function(e,t,r){return null==r&&(r=rN(8)),ON(t,r),zN(e.v,r),r}(t,l)):iN(e,2,function(e,t,r){return null==r&&(r=rN(12)),RN(t,r),zN(e.v,r),r}(t,l)):s?iN(e,16,function(e,t,r){return null==r&&(r=rN(12)),ON(t,r),KN(e.v,r),r}(t,l)):iN(e,5,function(e,t,r){return null==r&&(r=rN(16)),RN(t,r),KN(e.v,r),r}(t,l)),!0;case"b":return l.t="b",s?iN(e,15,function(e,t,r){return null==r&&(r=rN(5)),ON(t,r),r.write_shift(1,e.v?1:0),r}(t,l)):iN(e,4,function(e,t,r){return null==r&&(r=rN(9)),RN(t,r),r.write_shift(1,e.v?1:0),r}(t,l)),!0;case"e":return l.t="e",s?iN(e,14,function(e,t,r){return null==r&&(r=rN(8)),ON(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}(t,l)):iN(e,3,function(e,t,r){return null==r&&(r=rN(9)),RN(t,r),r.write_shift(1,e.v),r}(t,l)),!0}return s?iN(e,12,function(e,t,r){return null==r&&(r=rN(4)),ON(t,r)}(0,l)):iN(e,1,function(e,t,r){return null==r&&(r=rN(8)),RN(t,r)}(0,l)),!0}function ZO(e,t){var r,n;t&&t["!merges"]&&(iN(e,177,(r=t["!merges"].length,null==n&&(n=rN(4)),n.write_shift(4,r),n)),t["!merges"].forEach((function(t){iN(e,176,XO(t))})),iN(e,178))}function JO(e,t){t&&t["!cols"]&&(iN(e,390),t["!cols"].forEach((function(t,r){t&&iN(e,60,function(e,t,r){null==r&&(r=rN(18));var n=EO(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(n.width||10)),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof n.width&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}(r,t))})),iN(e,391))}function eP(e,t){t&&t["!ref"]&&(iN(e,648),iN(e,649,function(e){var t=rN(24);return t.write_shift(4,4),t.write_shift(4,1),GN(e,t),t}(wN(t["!ref"]))),iN(e,650))}function tP(e,t,r){t["!links"].forEach((function(t){if(t[1].Target){var n=px(r,-1,t[1].Target.replace(/#.*$/,""),ux.HLINK);iN(e,494,function(e,t){var r=rN(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));GN({s:pN(e[0]),e:pN(e[0])},r),jN("rId"+t,r);var n=e[1].Target.indexOf("#");return AN((-1==n?"":e[1].Target.slice(n+1))||"",r),AN(e[1].Tooltip||"",r),AN("",r),r.slice(0,r.l)}(t,n))}})),delete t["!links"]}function rP(e,t,r){iN(e,133),iN(e,137,function(e,t,r){null==r&&(r=rN(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}(0,r)),iN(e,138),iN(e,134)}function nP(e,t){var r,n;t["!protect"]&&iN(e,535,(r=t["!protect"],null==n&&(n=rN(66)),n.write_shift(2,r.password?ER(r.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(e){e[1]?n.write_shift(4,null==r[e[0]]||r[e[0]]?0:1):n.write_shift(4,null!=r[e[0]]&&r[e[0]]?0:1)})),n))}function aP(e,t,r,n){var a=aN(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch(qF){}var l,c,u=wN(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],iN(a,129),(r.vbaraw||s["!outline"])&&iN(a,147,function(e,t,r){null==r&&(r=rN(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return XN({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),LN(e,r),r.slice(0,r.l)}(o,s["!outline"])),iN(a,148,GO(u)),rP(a,0,r.Workbook),JO(a,s),function(e,t,r,n){var a,i=wN(t["!ref"]||"A1"),s="",o=[];iN(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){s=hN(u),WO(e,t,i,u);var h=!1;if(u<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(o[d]=fN(d)),a=o[d]+s;var f=l?(t[u]||[])[d]:t[a];h=!!f&&QO(e,f,u,d,n,t,h)}}iN(e,146)}(a,s,0,t),nP(a,s),function(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i="string"===typeof a.ref?a.ref:vN(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=mN(i);o.s.r==o.e.r&&(o.e.r=mN(t["!ref"]).e.r,i=vN(o));for(var l=0;l<s.length;++l){var c=s[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),iN(e,161,GN(wN(i))),iN(e,162)}}(a,s,r,e),ZO(a,s),tP(a,s,n),s["!margins"]&&iN(a,476,(l=s["!margins"],null==c&&(c=rN(48)),SO(l),qO.forEach((function(e){KN(l[e],c)})),c)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||eP(a,s),function(e,t,r,n){if(t["!comments"].length>0){var a=px(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ux.VML);iN(e,551,jN("rId"+a)),t["!legacy"]=a}}(a,s,e,n),iN(a,130),a.end()}function iP(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=function(e){var t,r=[],n=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(r[+t[1]]=n?+t[2]:t[2])}));var a=_I((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[r,a,t]}(e);u.s.r=u.s.c=0,u.e.c=o,c=fN(o),t[0].forEach((function(e,r){s[c+hN(r)]={t:"n",v:e,z:t[1]},l=r})),u.e.r<l&&(u.e.r=l),++o})),o>0&&(s["!ref"]=vN(u)),s}var sP=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],oP=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],lP=[],cP=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function uP(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(null==n[i[0]])n[i[0]]=i[1];else switch(i[2]){case"bool":"string"==typeof n[i[0]]&&(n[i[0]]=MI(n[i[0]]));break;case"int":"string"==typeof n[i[0]]&&(n[i[0]]=parseInt(n[i[0]],10))}}}function hP(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(null==e[n[0]])e[n[0]]=n[1];else switch(n[2]){case"bool":"string"==typeof e[n[0]]&&(e[n[0]]=MI(e[n[0]]));break;case"int":"string"==typeof e[n[0]]&&(e[n[0]]=parseInt(e[n[0]],10))}}}function dP(e){hP(e.WBProps,sP),hP(e.CalcPr,cP),uP(e.WBView,oP),uP(e.Sheets,lP),wO.date1904=MI(e.WBProps.date1904)}var fP="][*?/\\".split("");function pP(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return fP.forEach((function(n){if(-1!=e.indexOf(n)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}})),r}function gP(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,r){e.forEach((function(n,a){pP(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(95==s.charCodeAt(0)&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}}))}(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)_O(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var mP=/<\w+:workbook/;function vP(e){var t=[gI];t[t.length]=XI("workbook",null,{xmlns:dk[0],"xmlns:r":lk});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(sP.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(n[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=XI("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&a[i]&&a[i].Hidden;++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:kI(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden"}t[t.length]=XI("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=XI("definedName",kI(e.Ref),r))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function wP(e,t){return t||(t=rN(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),jN(e.strRelID,t),AN(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function yP(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function bP(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r,n,a=t.Workbook.Sheets,i=0,s=-1,o=-1;i<a.length;++i)!a[i]||!a[i].Hidden&&-1==s?s=i:1==a[i].Hidden&&-1==o&&(o=i);if(!(o>s))iN(e,135),iN(e,158,(r=s,n||(n=rN(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,r),n.write_shift(4,r),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n)),iN(e,136)}}function EP(e,t){var r=aN();return iN(r,131),iN(r,128,function(e,t){t||(t=rN(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return AN("SheetJS",t),AN(c_.version,t),AN(c_.version,t),AN("7262",t),t.length>t.l?t.slice(0,t.l):t}()),iN(r,153,function(e,t){t||(t=rN(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),LN(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),bP(r,e),function(e,t){iN(e,143);for(var r=0;r!=t.SheetNames.length;++r)iN(e,156,wP({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]}));iN(e,144)}(r,e),iN(r,132),r.end()}function SP(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],lL[16]={n:"BrtFRTArchID$",f:yP},nN(e,(function(e,o,l){switch(l){case 156:s.SheetNames.push(e.name),r.Sheets.push(e);break;case 153:r.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=tO(e.Ptg,0,null,s,t),delete t.SID,delete e.Ptg,i.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:s[0].length?s.push([l,e]):s[0]=[l,e],s[s.length-1].XTI=[];break;case 362:0===s.length&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(e),s.XTI=s.XTI.concat(e);break;case 35:case 37:n.push(l),a=!0;break;case 36:case 38:n.pop(),a=!1;break;default:if(o.T);else if(!a||t.WTF&&37!=n[n.length-1]&&35!=n[n.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}}),t),dP(r),r.Names=i,r.supbooks=s,r}(e,r):function(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(wI,(function(o,l){var c=EI(o);switch(SI(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(mP)&&(a="xmlns"+o.match(/<(\w+):/)[1]),r.xmlns=c[a];break;case"<fileVersion":delete c[0],r.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":sP.forEach((function(e){if(null!=c[e[0]])switch(e[2]){case"bool":r.WBProps[e[0]]=MI(c[e[0]]);break;case"int":r.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:r.WBProps[e[0]]=c[e[0]]}})),c.codeName&&(r.WBProps.CodeName=BI(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],r.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=_I(BI(c.name)),delete c[0],r.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":n=!1;break;case"<definedName":(i={}).Name=BI(c.name),c.comment&&(i.Comment=c.comment),c.localSheetId&&(i.Sheet=+c.localSheetId),MI(c.hidden||"0")&&(i.Hidden=!0),s=l+o.length;break;case"</definedName>":i.Ref=_I(BI(e.slice(s,l))),r.Names.push(i);break;case"<calcPr":case"<calcPr/>":delete c[0],r.CalcPr=c;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o})),-1===dk.indexOf(r.xmlns))throw new Error("Unknown Namespace: "+r.xmlns);return dP(r),r}(e,r)}function TP(e,t,r,n,a,i,s,o){return".bin"===t.slice(-4)?function(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l,c,u,h,d,f,p,g,m,v,w=o.dense?[]:{},y={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=[],E=!1,S=!1,T=[];o.biff=12,o["!row"]=0;var C=0,_=!1,A=[],I={},k=o.supbooks||a.supbooks||[[]];if(k.sharedf=I,k.arrayf=A,k.SheetNames=a.SheetNames||a.Sheets.map((function(e){return e.name})),!o.supbooks&&(o.supbooks=k,a.Names))for(var N=0;N<a.Names.length;++N)k[0][N+1]=a.Names[N];var x,D,R=[],M=[],O=!1;if(lL[16]={n:"BrtShortReal",f:$O},nN(e,(function(e,t,N){if(!S)switch(N){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(S=!0),m=hN(d=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=FR(e.hpt)),M[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:e[2]},e[2]){case"n":u.v=e[1];break;case"s":g=vO[e[1]],u.v=g.t,u.r=g.r;break;case"b":u.v=!!e[1];break;case"e":u.v=e[1],!1!==o.cellText&&(u.w=ix[u.v]);break;case"str":u.t="s",u.v=e[1];break;case"is":u.t="s",u.v=e[1].t}if((h=s.CellXf[e[0].iStyleRef])&&CO(u,h.numFmtId,null,o,i,s),f=-1==e[0].c?f+1:e[0].c,o.dense?(w[d]||(w[d]=[]),w[d][f]=u):w[fN(f)+m]=u,o.cellFormula){for(_=!1,C=0;C<A.length;++C){var P=A[C];c.r>=P[0].s.r&&c.r<=P[0].e.r&&f>=P[0].s.c&&f<=P[0].e.c&&(u.F=vN(P[0]),_=!0)}!_&&e.length>3&&(u.f=e[3])}if(y.s.r>c.r&&(y.s.r=c.r),y.s.c>f&&(y.s.c=f),y.e.r<c.r&&(y.e.r=c.r),y.e.c<f&&(y.e.c=f),o.cellDates&&h&&"n"==u.t&&bA(G_[h.numFmtId])){var L=q_(u.v);L&&(u.t="d",u.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}x&&("XLDAPR"==x.type&&(u.D=!0),x=void 0),D&&(D=void 0);break;case 1:case 12:if(!o.sheetStubs||E)break;u={t:"z",v:void 0},f=-1==e[0].c?f+1:e[0].c,o.dense?(w[d]||(w[d]=[]),w[d][f]=u):w[fN(f)+m]=u,y.s.r>c.r&&(y.s.r=c.r),y.s.c>f&&(y.s.c=f),y.e.r<c.r&&(y.e.r=c.r),y.e.c<f&&(y.e.c=f),x&&("XLDAPR"==x.type&&(u.D=!0),x=void 0),D&&(D=void 0);break;case 176:T.push(e);break;case 49:x=((o.xlmeta||{}).Cell||[])[e-1];break;case 494:var F=n["!id"][e.relId];for(F?(e.Target=F.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=F):""==e.relId&&(e.Target="#"+e.loc),d=e.rfx.s.r;d<=e.rfx.e.r;++d)for(f=e.rfx.s.c;f<=e.rfx.e.c;++f)o.dense?(w[d]||(w[d]=[]),w[d][f]||(w[d][f]={t:"z",v:void 0}),w[d][f].l=e):(p=gN({c:f,r:d}),w[p]||(w[p]={t:"z",v:void 0}),w[p].l=e);break;case 426:if(!o.cellFormula)break;A.push(e),(v=o.dense?w[d][f]:w[fN(f)+m]).f=tO(e[1],0,{r:c.r,c:f},k,o),v.F=vN(e[0]);break;case 427:if(!o.cellFormula)break;I[gN(e[0].s)]=e[1],(v=o.dense?w[d][f]:w[fN(f)+m]).f=tO(e[1],0,{r:c.r,c:f},k,o);break;case 60:if(!o.cellStyles)break;for(;e.e>=e.s;)R[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},O||(O=!0,MR(e.w/256)),OR(R[e.e+1]);break;case 161:w["!autofilter"]={ref:vN(e)};break;case 476:w["!margins"]=e;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),e.name&&(a.Sheets[r].CodeName=e.name),(e.above||e.left)&&(w["!outline"]={above:e.above,left:e.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),e.RTL&&(a.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:E=!0;break;case 36:E=!1;break;case 37:b.push(N),E=!0;break;case 38:b.pop(),E=!1;break;default:if(t.T);else if(!E||o.WTF)throw new Error("Unexpected record 0x"+N.toString(16))}}),o),delete o.supbooks,delete o["!row"],!w["!ref"]&&(y.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(w["!ref"]=vN(l||y)),o.sheetRows&&w["!ref"]){var P=wN(w["!ref"]);o.sheetRows<=+P.e.r&&(P.e.r=o.sheetRows-1,P.e.r>y.e.r&&(P.e.r=y.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>y.e.c&&(P.e.c=y.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),w["!fullref"]=w["!ref"],w["!ref"]=vN(P))}return T.length>0&&(w["!merges"]=T),R.length>0&&(w["!cols"]=R),M.length>0&&(w["!rows"]=M),w}(e,n,r,a,i,s,o):LO(e,n,r,a,i,s,o)}function CP(e,t,r,n,a,i,s,o){return".bin"===t.slice(-4)?function(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=[],o=!1;return nN(e,(function(e,n,l){switch(l){case 550:i["!rel"]=e;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),e.name&&(a.Sheets[r].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(l);break;case 38:s.pop();break;default:if(n.T>0)s.push(l);else if(n.T<0)s.pop();else if(!o||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}(e,n,r,a,i):function(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i,s={"!type":"chart","!drawel":null,"!rel":""},o=e.match(MO);return o&&FO(o[0],0,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}(e,0,r,a,i)}function _P(e,t,r,n){return".bin"===t.slice(-4)?function(e,t,r){var n={NumberFmt:[]};for(var a in G_)n.NumberFmt[a]=G_[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return nN(e,(function(e,a,o){switch(o){case 44:n.NumberFmt[e[0]]=e[1],_A(e[1],e[0]);break;case 43:n.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=IR(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==i[i.length-1]&&n.CellXf.push(e);break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(o),s=!0;break;case 38:i.pop(),s=!1;break;default:if(a.T>0)i.push(o);else if(a.T<0)i.pop();else if(!s||r.WTF&&37!=i[i.length-1])throw new Error("Unexpected record 0x"+o.toString(16))}})),n}(e,r,n):jR(e,r,n)}function AP(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=!1;return nN(e,(function(e,a,i){switch(i){case 159:r.Count=e[0],r.Unique=e[1];break;case 19:r.push(e);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||t.WTF)throw new Error("Unexpected record 0x"+i.toString(16))}})),r}(e,r):function(e,t){var r=[],n="";if(!e)return r;var a=e.match(iR);if(a){n=a[2].replace(sR,"").split(oR);for(var i=0;i!=n.length;++i){var s=aR(n[i].trim(),t);null!=s&&(r[r.length]=s)}a=EI(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}(e,r)}function IP(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=[],a={},i=!1;return nN(e,(function(e,s,o){switch(o){case 632:n.push(e);break;case 635:a=e;break;case 637:a.t=e.t,a.h=e.h,a.r=e.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:case 37:case 38:break;case 35:i=!0;break;case 36:i=!1;break;default:if(s.T);else if(!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}})),r}(e,r):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&r.push(t[1])}}));var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var a=e.match(/<(?:\w+:)?comment[^>]*>/);if(a){var i=EI(a[0]),s={author:i.authorId&&r[i.authorId]||"sheetjsghost",ref:i.ref,guid:i.guid},o=pN(i.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&aR(l[1])||{r:"",t:"",h:""};s.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),s.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(s.h=c.h),n.push(s)}}}})),n}(e,r)}function kP(e,t,r){return".bin"===t.slice(-4)?function(e){var t=[];return nN(e,(function(e,r,n){if(63===n)t.push(e);else if(!r.T)throw new Error("Unexpected record 0x"+n.toString(16))})),t}(e):function(e){var t=[];if(!e)return t;var r=1;return(e.match(wI)||[]).forEach((function(e){var n=EI(e);switch(n[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n)}})),t}(e)}function NP(e,t,r,n){if(".bin"===r.slice(-4))return function(e,t,r,n){if(!e)return e;var a=n||{},i=!1;nN(e,(function(e,t,r){switch(r){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(t.T);else if(!i||a.WTF)throw new Error("Unexpected record 0x"+r.toString(16))}}),a)}(e,0,0,n)}function xP(e,t,r){return".bin"===t.slice(-4)?function(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return nN(e,(function(e,t,r){switch(r){case 335:n.Types.push({name:e.name});break;case 51:e.forEach((function(e){1==o?n.Cell.push({type:n.Types[e[0]-1].name,index:e[1]}):0==o&&n.Value.push({type:n.Types[e[0]-1].name,index:e[1]})}));break;case 337:o=e?1:0;break;case 338:o=2;break;case 35:i.push(r),s=!0;break;case 36:i.pop(),s=!1;break;default:if(t.T);else if(!s||a.WTF&&35!=i[i.length-1])throw new Error("Unexpected record 0x"+r.toString(16))}})),n}(e,0,r):function(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a,i=!1,s=2;return e.replace(wI,(function(e){var t=EI(e);switch(SI(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":n.Types.push({name:t.name});break;case"<futureMetadata":for(var o=0;o<n.Types.length;++o)n.Types[o].name==t.name&&(a=n.Types[o]);break;case"<rc":1==s?n.Cell.push({type:n.Types[t.t-1].name,index:+t.v}):0==s&&n.Value.push({type:n.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":s=1;break;case"</cellMetadata>":case"</valueMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+t.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e})),n}(e,0,r)}function DP(e,t,r,n,a){return(".bin"===t.slice(-4)?aP:zO)(e,r,n,a)}function RP(e,t,r){return(".bin"===t.slice(-4)?SM:yM)(e,r)}var MP,OP=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,PP=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function LP(e,t){var r=e.split(/\s+/),n=[];if(t||(n[0]=r[0]),1===r.length)return n;var a,i,s,o=e.match(OP);if(o)for(s=0;s!=o.length;++s)-1===(i=(a=o[s].match(PP))[1].indexOf(":"))?n[a[1]]=a[2].slice(1,a[2].length-1):n["xmlns:"===a[1].slice(0,6)?"xmlns"+a[1].slice(6):a[1].slice(i+1)]=a[2].slice(1,a[2].length-1);return n}function FP(e){var t={};if(1===e.split(/\s+/).length)return t;var r,n,a,i=e.match(OP);if(i)for(a=0;a!=i.length;++a)-1===(n=(r=i[a].match(PP))[1].indexOf(":"))?t[r[1]]=r[2].slice(1,r[2].length-1):t["xmlns:"===r[1].slice(0,6)?"xmlns"+r[1].slice(6):r[1].slice(n+1)]=r[2].slice(1,r[2].length-1);return t}function BP(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=MI(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=XA(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[_I(t)]=a}function UP(e,t,r){if("z"!==e.t){if(!r||!1!==r.cellText)try{"e"===e.t?e.w=e.w||ix[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=rA(e.v):e.w=nA(e.v):e.w=function(e,t){var r=MP[e]||_I(e);return"General"===r?nA(t):CA(r,t)}(t||"General",e.v)}catch(qF){if(r.WTF)throw qF}try{var n=MP[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&"n"==e.t&&bA(n)){var a=q_(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(qF){if(r.WTF)throw qF}}}function VP(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=BR[n.Pattern]||n.Pattern)}e[t.ID]=t}function jP(e,t,r,n,a,i,s,o,l,c){var u="General",h=n.StyleID,d={};c=c||{};var f=[],p=0;for(void 0===h&&o&&(h=o.StyleID),void 0===h&&s&&(h=s.StyleID);void 0!==i[h]&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&f.push(i[h].Interior),i[h].Parent);)h=i[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=MI(e);break;case"String":n.t="s",n.r=RI(_I(e)),n.v=e.indexOf("<")>-1?_I(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),n.v=(XA(e)-new Date(Date.UTC(1899,11,30)))/864e5,n.v!==n.v?n.v=_I(e):n.v<60&&(n.v=n.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===n.v&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=sx[e],!1!==c.cellText&&(n.w=e);break;default:""==e&&""==t?n.t="z":(n.t="s",n.v=RI(t||e))}if(UP(n,u,c),!1!==c.cellFormula)if(n.Formula){var g=_I(n.Formula);61==g.charCodeAt(0)&&(g=g.slice(1)),n.f=CM(g,a),delete n.Formula,"RC"==n.ArrayRange?n.F=CM("RC:RC",a):n.ArrayRange&&(n.F=CM(n.ArrayRange,a),l.push([wN(n.F),n.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(n.F=l[p][1]);c.cellStyles&&(f.forEach((function(e){!d.patternType&&e.patternType&&(d.patternType=e.patternType)})),n.s=d),void 0!==n.StyleID&&(n.ixfe=n.StyleID)}function HP(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function zP(e,t){var r=t||{};IA();var n=b_(QI(e));"binary"!=r.type&&"array"!=r.type&&"base64"!=r.type||(n="undefined"!==typeof y_?y_.utils.decode(65001,v_(n)):BI(n));var a,i=n.slice(0,1024).toLowerCase(),s=!1;if((1023&(i=i.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&i.indexOf(","),1023&i.indexOf(";"))){var o=QA(r);return o.type="string",QD.to_workbook(n,o)}if(-1==i.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){i.indexOf("<"+e)>=0&&(s=!0)})),s)return function(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||0==r.length)throw new Error("Invalid HTML: could not find <table>");if(1==r.length)return EN(bL(r[0],t),t);var n={SheetNames:[],Sheets:{}};return r.forEach((function(e,r){BF(n,bL(e,t),"Sheet"+(r+1))})),n}(n,r);MP={"General Number":"General","General Date":G_[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":G_[15],"Short Date":G_[14],"Long Time":G_[19],"Medium Time":G_[18],"Short Time":G_[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:G_[2],Standard:G_[4],Percent:G_[10],Scientific:G_[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[];var u,h={},d=[],f=r.dense?[]:{},p="",g={},m={},v=LP('<Data ss:Type="String">'),w=0,y=0,b=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},T={},C="",_=0,A=[],I={},k={},N=0,x=[],D=[],R={},M=[],O=!1,P=[],L=[],F={},B=0,U=0,V={Sheets:[],WBProps:{date1904:!1}},j={};ZI.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/gm,"");for(var H="";a=ZI.exec(n);)switch(a[3]=(H=a[3]).toLowerCase()){case"data":if("data"==H){if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break}if(c[c.length-1][1])break;"/"===a[1]?jP(n.slice(w,a.index),C,v,"comment"==c[c.length-1][0]?R:g,{c:y,r:b},S,M[y],m,P,r):(C="",v=LP(a[0]),w=a.index+a[0].length);break;case"cell":if("/"===a[1])if(D.length>0&&(g.c=D),(!r.sheetRows||r.sheetRows>b)&&void 0!==g.v&&(r.dense?(f[b]||(f[b]=[]),f[b][y]=g):f[fN(y)+hN(b)]=g),g.HRef&&(g.l={Target:_I(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(B=y+(0|parseInt(g.MergeAcross,10)),U=b+(0|parseInt(g.MergeDown,10)),A.push({s:{c:y,r:b},e:{c:B,r:U}})),r.sheetStubs)if(g.MergeAcross||g.MergeDown){for(var z=y;z<=B;++z)for(var W=b;W<=U;++W)(z>y||W>b)&&(r.dense?(f[W]||(f[W]=[]),f[W][z]={t:"z"}):f[fN(z)+hN(W)]={t:"z"});y=B+1}else++y;else g.MergeAcross?y=B+1:++y;else(g=FP(a[0])).Index&&(y=+g.Index-1),y<E.s.c&&(E.s.c=y),y>E.e.c&&(E.e.c=y),"/>"===a[0].slice(-2)&&++y,D=[];break;case"row":"/"===a[1]||"/>"===a[0].slice(-2)?(b<E.s.r&&(E.s.r=b),b>E.e.r&&(E.e.r=b),"/>"===a[0].slice(-2)&&(m=LP(a[0])).Index&&(b=+m.Index-1),y=0,++b):((m=LP(a[0])).Index&&(b=+m.Index-1),F={},("0"==m.AutoFitHeight||m.Height)&&(F.hpx=parseInt(m.Height,10),F.hpt=LR(F.hpx),L[b]=F),"1"==m.Hidden&&(F.hidden=!0,L[b]=F));break;case"worksheet":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));d.push(p),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(f["!ref"]=vN(E),r.sheetRows&&r.sheetRows<=E.e.r&&(f["!fullref"]=f["!ref"],E.e.r=r.sheetRows-1,f["!ref"]=vN(E))),A.length&&(f["!merges"]=A),M.length>0&&(f["!cols"]=M),L.length>0&&(f["!rows"]=L),h[p]=f}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([a[3],!1]),l=LP(a[0]),p=_I(l.Name),f=r.dense?[]:{},A=[],P=[],L=[],j={name:p,Hidden:0},V.Sheets.push(j);break;case"table":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==a[0].slice(-2))break;c.push([a[3],!1]),M=[],O=!1}break;case"style":"/"===a[1]?VP(S,T,r):T=LP(a[0]);break;case"numberformat":T.nf=_I(LP(a[0]).Format||"General"),MP[T.nf]&&(T.nf=MP[T.nf]);for(var Y=0;392!=Y&&G_[Y]!=T.nf;++Y);if(392==Y)for(Y=57;392!=Y;++Y)if(null==G_[Y]){_A(T.nf,Y);break}break;case"column":if("table"!==c[c.length-1][0])break;if((u=LP(a[0])).Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!O&&u.wpx>10){O=!0,kR=6;for(var G=0;G<M.length;++G)M[G]&&OR(M[G])}O&&OR(u),M[u.Index-1||M.length]=u;for(var $=0;$<+u.Span;++$)M[M.length]=QA(u);break;case"namedrange":if("/"===a[1])break;V.Names||(V.Names=[]);var K=EI(a[0]),X={Name:K.Name,Ref:CM(K.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(X.Sheet=V.Sheets.length-1),V.Names.push(X);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===a[0].slice(-2))break;"/"===a[1]?C+=n.slice(_,a.index):_=a.index+a[0].length;break;case"interior":if(!r.cellStyles)break;T.Interior=LP(a[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===a[0].slice(-2))break;"/"===a[1]?xx(I,H,n.slice(N,a.index)):N=a.index+a[0].length;break;case"styles":case"workbook":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else c.push([a[3],!1]);break;case"comment":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));HP(R),D.push(R)}else c.push([a[3],!1]),R={a:(l=LP(a[0])).Author};break;case"autofilter":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==a[0].charAt(a[0].length-2)){var q=LP(a[0]);f["!autofilter"]={ref:CM(q.Range).replace(/\$/g,"")},c.push([a[3],!0])}break;case"datavalidation":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;default:if(0==c.length&&"document"==a[3])return ML(n,r);if(0==c.length&&"uof"==a[3])return ML(n,r);var Q=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:Q=!1}break;case"componentoptions":switch(a[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:Q=!1}break;case"excelworkbook":switch(a[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:Q=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":case"height":case"width":break;default:Q=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if("/>"===a[0].slice(-2));else if("/"===a[1])switch(n.slice(N,a.index)){case"SheetHidden":j.Hidden=1;break;case"SheetVeryHidden":j.Hidden=2}else N=a.index+a[0].length;break;case"header":f["!margins"]||SO(f["!margins"]={},"xlml"),isNaN(+EI(a[0]).Margin)||(f["!margins"].header=+EI(a[0]).Margin);break;case"footer":f["!margins"]||SO(f["!margins"]={},"xlml"),isNaN(+EI(a[0]).Margin)||(f["!margins"].footer=+EI(a[0]).Margin);break;case"pagemargins":var Z=EI(a[0]);f["!margins"]||SO(f["!margins"]={},"xlml"),isNaN(+Z.Top)||(f["!margins"].top=+Z.Top),isNaN(+Z.Left)||(f["!margins"].left=+Z.Left),isNaN(+Z.Right)||(f["!margins"].right=+Z.Right),isNaN(+Z.Bottom)||(f["!margins"].bottom=+Z.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;default:Q=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:Q=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:Q=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:Q=!1}break;case"querytable":switch(a[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:Q=!1}break;case"datavalidation":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:Q=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:Q=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:Q=!1}break;case"smarttags":break;default:Q=!1}if(Q)break;if(a[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===a[0].slice(-2))break;"/"===a[1]?BP(k,H,x,n.slice(N,a.index)):(x=a,N=a.index+a[0].length);break}if(r.WTF)throw"Unrecognized tag: "+a[3]+"|"+c.join("|")}var J={};return r.bookSheets||r.bookProps||(J.Sheets=h),J.SheetNames=d,J.Workbook=V,J.SSF=QA(G_),J.Props=I,J.Custprops=k,J}function WP(e,t){switch(hF(t=t||{}),t.type||"base64"){case"base64":return zP(__(e),t);case"binary":case"buffer":case"file":return zP(e,t);case"array":return zP(R_(e),t)}}function YP(e,t){var r=[];return e.Props&&r.push(function(e,t){var r=[];return PA(Nx).map((function(e){for(var t=0;t<vx.length;++t)if(vx[t][1]==e)return vx[t];for(t=0;t<Sx.length;++t)if(Sx[t][1]==e)return Sx[t];throw e})).forEach((function(n){if(null!=e[n[1]]){var a=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push($I(Nx[n[1]]||n[1],a))}})),XI("DocumentProperties",r.join(""),{xmlns:fk})}(e.Props,t)),e.Custprops&&r.push(function(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&PA(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var n=0;n<vx.length;++n)if(t==vx[n][1])return;for(n=0;n<Sx.length;++n)if(t==Sx[n][1])return;for(n=0;n<r.length;++n)if(t==r[n])return;var i=e[t],s="string";"number"==typeof i?(s="float",i=String(i)):!0===i||!1===i?(s="boolean",i=i?"1":"0"):i=String(i),a.push(XI(NI(t),i,{"dt:dt":s}))}})),t&&PA(t).forEach((function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var n=t[r],i="string";"number"==typeof n?(i="float",n=String(n)):!0===n||!1===n?(i="boolean",n=n?"1":"0"):n instanceof Date?(i="dateTime.tz",n=n.toISOString()):n=String(n),a.push(XI(NI(r),n,{"dt:dt":i}))}})),"<"+n+' xmlns="'+fk+'">'+a.join("")+"</"+n+">"}(e.Props,e.Custprops)),r.join("")}function GP(e){return XI("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+AM(e.Ref,{r:0,c:0})})}function $P(e,t,r,n,a,i,s){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+kI(AM(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=pN(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=kI(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=kI(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c==s.c&&c[u].s.r==s.r&&(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",d="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",d=String(e.v);break;case"b":h="Boolean",d=e.v?"1":"0";break;case"e":h="Error",d=ix[e.v];break;case"d":h="DateTime",d=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||G_[14]);break;case"s":h="String",d=((e.v||"")+"").replace(AI,(function(e){return CI[e]})).replace(xI,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var f=TO(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=s.c+1;var p=null!=e.v?d:"",g="z"==e.t?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=e.c.map((function(e){var t=XI("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return XI("Comment",t,{"ss:Author":e.a})})).join("")),XI("Cell",g,o)}function KP(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=FR(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function XP(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?function(e,t,r,n){if(!e)return"";if(!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(GP(o)))}return i.join("")}(i,0,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?function(e,t){if(!e["!ref"])return"";var r=wN(e["!ref"]),n=e["!merges"]||[],a=0,i=[];e["!cols"]&&e["!cols"].forEach((function(e,t){OR(e);var r=!!e.width,n=EO(t,e),a={"ss:Index":t+1};r&&(a["ss:Width"]=NR(n.width)),e.hidden&&(a["ss:Hidden"]="1"),i.push(XI("Column",null,a))}));for(var s=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var l=[KP(o,(e["!rows"]||[])[o])],c=r.s.c;c<=r.e.c;++c){var u=!1;for(a=0;a!=n.length;++a)if(!(n[a].s.c>c)&&!(n[a].s.r>o)&&!(n[a].e.c<c)&&!(n[a].e.r<o)){n[a].s.c==c&&n[a].s.r==o||(u=!0);break}if(!u){var h={r:o,c:c},d=gN(h),f=s?(e[o]||[])[c]:e[d];l.push($P(f,d,e,t,0,0,h))}}l.push("</Row>"),l.length>2&&i.push(l.join(""))}return i.join("")}(i,t):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(function(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(XI("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(XI("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(XI("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(XI("Visible",1==n.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&(!n.Workbook.Sheets[i]||n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push($I("ProtectContents","True")),e["!protect"].objects&&a.push($I("ProtectObjects","True")),e["!protect"].scenarios&&a.push($I("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push($I("EnableSelection","UnlockedCells")):a.push($I("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")}))),0==a.length?"":XI("WorksheetOptions",a.join(""),{xmlns:pk})}(i,0,e,r)),n.join("")}function qP(e,t){t||(t={}),e.SSF||(e.SSF=QA(G_)),e.SSF&&(IA(),AA(e.SSF),t.revssf=BA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],TO(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(YP(e,t)),r.push(""),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(XI("Worksheet",XP(n,t,e),{"ss:Name":kI(e.SheetNames[n])}));return r[2]=function(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var n=[];n.push(XI("NumberFormat",null,{"ss:Format":kI(G_[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};r.push(XI("Style",n.join(""),a))})),XI("Styles",r.join(""))}(0,t),r[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||r.push(GP(a)))}return XI("Names",r.join(""))}(e),gI+XI("Workbook",r.join(""),{xmlns:gk,"xmlns:o":fk,"xmlns:x":pk,"xmlns:ss":gk,"xmlns:dt":mk,"xmlns:html":yk})}function QP(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return qN(e,1)}(r),r.length-r.l<=4)return t;var n=r.read_shift(4);return 0==n||n>40?t:(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4||1907505652!==(n=r.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return qN(e,2)}(r),0==(n=r.read_shift(4))||n>40?t:(r.l-=4,void(t.Reserved2=r.read_shift(0,"lpwstr")))))}var ZP=[60,1084,2066,2165,2175];function JP(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=zk(r,r.l),c=cL[l],u=0;null!=c&&ZP.indexOf(l)>-1;)i=zk(r,r.l+2),u=r.l+4,2066==l?u+=4:2165!=l&&2175!=l||(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=cL[l=zk(r,r.l)];var h=O_(s);eN(h,0);var d=0;h.lens=[];for(var f=0;f<s.length;++f)h.lens.push(d),d+=s[f].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,a)}function eL(e,t,r){if("z"!==e.t&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=G_[n])}catch(qF){if(t.WTF)throw qF}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||ix[e.v]:0===n||"General"==n?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=rA(e.v):e.w=nA(e.v):e.w=CA(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(qF){if(t.WTF)throw qF}if(t.cellDates&&n&&"n"==e.t&&bA(G_[n]||String(n))){var a=q_(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function tL(e,t,r){return{v:e,ixfe:t,t:r}}function rL(e,t){var r={opts:{}},n={};var a,i,s,o,l,c,u,h,d=t.dense?[]:{},f={},p={},g=null,m=[],v="",w={},y="",b={},E=[],S=[],T=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},A=function(e){return e<8?ax[e]:e<64&&T[e-8]||ax[e]},I=function(e,t,r){if(!(F>1)&&!(r.sheetRows&&e.r>=r.sheetRows)){if(r.cellStyles&&t.XF&&t.XF.data&&function(e,t,r){var n,a=t.XF.data;a&&a.patternType&&r&&r.cellStyles&&(t.s={},t.s.patternType=a.patternType,(n=AR(A(a.icvFore)))&&(t.s.fgColor={rgb:n}),(n=AR(A(a.icvBack)))&&(t.s.bgColor={rgb:n}))}(0,t,r),delete t.ixfe,delete t.XF,a=e,y=gN(e),p&&p.s&&p.e||(p={s:{r:0,c:0},e:{r:0,c:0}}),e.r<p.s.r&&(p.s.r=e.r),e.c<p.s.c&&(p.s.c=e.c),e.r+1>p.e.r&&(p.e.r=e.r+1),e.c+1>p.e.c&&(p.e.c=e.c+1),r.cellFormula&&t.f)for(var n=0;n<E.length;++n)if(!(E[n][0].s.c>e.c||E[n][0].s.r>e.r)&&!(E[n][0].e.c<e.c||E[n][0].e.r<e.r)){t.F=vN(E[n][0]),E[n][0].s.c==e.c&&E[n][0].s.r==e.r||delete t.f,t.f&&(t.f=""+tO(E[n][1],0,e,O,k));break}r.dense?(d[e.r]||(d[e.r]=[]),d[e.r][e.c]=t):d[y]=t}},k={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(k.password=t.password);var N=[],x=[],D=[],R=[],M=!1,O=[];O.SheetNames=k.snames,O.sharedf=k.sharedf,O.arrayf=k.arrayf,O.names=[],O.XTI=[];var P,L=0,F=0,B=0,U=[],V=[];k.codepage=1200,g_(1200);for(var j=!1;e.l<e.length-1;){var H=e.l,z=e.read_shift(2);if(0===z&&10===L)break;var W=e.l===e.length?0:e.read_shift(2),Y=cL[z];if(Y&&Y.f){if(t.bookSheets&&133===L&&133!==z)break;if(L=z,2===Y.r||12==Y.r){var G=e.read_shift(2);if(W-=2,!k.enc&&G!==z&&((255&G)<<8|G>>8)!==z)throw new Error("rt mismatch: "+G+"!="+z);12==Y.r&&(e.l+=10,W-=10)}var $={};if($=10===z?Y.f(e,W,k):JP(z,Y,e,W,k),0==F&&-1===[9,521,1033,2057].indexOf(L))continue;switch(z){case 34:r.opts.Date1904=C.WBProps.date1904=$;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(k.enc||(e.l=0),k.enc=$,!t.password)throw new Error("File is password-protected");if(null==$.valid)throw new Error("Encryption scheme unsupported");if(!$.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=$;break;case 66:var K=Number($);switch(K){case 21010:K=1200;break;case 32768:K=1e4;break;case 32769:K=1252}g_(k.codepage=K),j=!0;break;case 317:k.rrtabid=$;break;case 25:k.winlocked=$;break;case 439:r.opts.RefreshAll=$;break;case 12:r.opts.CalcCount=$;break;case 16:r.opts.CalcDelta=$;break;case 17:r.opts.CalcIter=$;break;case 13:r.opts.CalcMode=$;break;case 14:r.opts.CalcPrecision=$;break;case 95:r.opts.CalcSaveRecalc=$;break;case 15:k.CalcRefMode=$;break;case 2211:r.opts.FullCalc=$;break;case 129:$.fDialog&&(d["!type"]="dialog"),$.fBelow||((d["!outline"]||(d["!outline"]={})).above=!0),$.fRight||((d["!outline"]||(d["!outline"]={})).left=!0);break;case 224:S.push($);break;case 430:O.push([$]),O[O.length-1].XTI=[];break;case 35:case 547:O[O.length-1].push($);break;case 24:case 536:P={Name:$.Name,Ref:tO($.rgce,0,null,O,k)},$.itab>0&&(P.Sheet=$.itab-1),O.names.push(P),O[0]||(O[0]=[],O[0].XTI=[]),O[O.length-1].push($),"_xlnm._FilterDatabase"==$.Name&&$.itab>0&&$.rgce&&$.rgce[0]&&$.rgce[0][0]&&"PtgArea3d"==$.rgce[0][0][0]&&(V[$.itab-1]={ref:vN($.rgce[0][0][1][2])});break;case 22:k.ExternCount=$;break;case 23:0==O.length&&(O[0]=[],O[0].XTI=[]),O[O.length-1].XTI=O[O.length-1].XTI.concat($),O.XTI=O.XTI.concat($);break;case 2196:if(k.biff<8)break;null!=P&&(P.Comment=$[1]);break;case 18:d["!protect"]=$;break;case 19:0!==$&&k.WTF&&console.error("Password verifier: "+$);break;case 133:f[$.pos]=$,k.snames.push($.name);break;case 10:if(--F)break;if(p.e){if(p.e.r>0&&p.e.c>0){if(p.e.r--,p.e.c--,d["!ref"]=vN(p),t.sheetRows&&t.sheetRows<=p.e.r){var X=p.e.r;p.e.r=t.sheetRows-1,d["!fullref"]=d["!ref"],d["!ref"]=vN(p),p.e.r=X}p.e.r++,p.e.c++}N.length>0&&(d["!merges"]=N),x.length>0&&(d["!objects"]=x),D.length>0&&(d["!cols"]=D),R.length>0&&(d["!rows"]=R),C.Sheets.push(_)}""===v?w=d:n[v]=d,d=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===k.biff&&(k.biff={9:2,521:3,1033:4}[z]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[$.BIFFVer]||8),k.biffguess=0==$.BIFFVer,0==$.BIFFVer&&4096==$.dt&&(k.biff=5,j=!0,g_(k.codepage=28591)),8==k.biff&&0==$.BIFFVer&&16==$.dt&&(k.biff=2),F++)break;if(d=t.dense?[]:{},k.biff<8&&!j&&(j=!0,g_(k.codepage=t.codepage||1252)),k.biff<5||0==$.BIFFVer&&4096==$.dt){""===v&&(v="Sheet1"),p={s:{r:0,c:0},e:{r:0,c:0}};var q={pos:e.l-W,name:v};f[q.pos]=q,k.snames.push(v)}else v=(f[H]||{name:""}).name;32==$.dt&&(d["!type"]="chart"),64==$.dt&&(d["!type"]="macro"),N=[],x=[],k.arrayf=E=[],D=[],R=[],M=!1,_={Hidden:(f[H]||{hs:0}).hs,name:v};break;case 515:case 3:case 2:"chart"==d["!type"]&&(t.dense?(d[$.r]||[])[$.c]:d[gN({c:$.c,r:$.r})])&&++$.c,c={ixfe:$.ixfe,XF:S[$.ixfe]||{},v:$.val,t:"n"},B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I({c:$.c,r:$.r},c,t);break;case 5:case 517:c={ixfe:$.ixfe,XF:S[$.ixfe],v:$.val,t:$.t},B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I({c:$.c,r:$.r},c,t);break;case 638:c={ixfe:$.ixfe,XF:S[$.ixfe],v:$.rknum,t:"n"},B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I({c:$.c,r:$.r},c,t);break;case 189:for(var Q=$.c;Q<=$.C;++Q){var Z=$.rkrec[Q-$.c][0];c={ixfe:Z,XF:S[Z],v:$.rkrec[Q-$.c][1],t:"n"},B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I({c:Q,r:$.r},c,t)}break;case 6:case 518:case 1030:if("String"==$.val){g=$;break}if((c=tL($.val,$.cell.ixfe,$.tt)).XF=S[c.ixfe],t.cellFormula){var J=$.formula;if(J&&J[0]&&J[0][0]&&"PtgExp"==J[0][0][0]){var ee=J[0][0][1][0],te=J[0][0][1][1],re=gN({r:ee,c:te});b[re]?c.f=""+tO($.formula,0,$.cell,O,k):c.F=((t.dense?(d[ee]||[])[te]:d[re])||{}).F}else c.f=""+tO($.formula,0,$.cell,O,k)}B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I($.cell,c,t),g=$;break;case 7:case 519:if(!g)throw new Error("String record expects Formula");g.val=$,(c=tL($,g.cell.ixfe,"s")).XF=S[c.ixfe],t.cellFormula&&(c.f=""+tO(g.formula,0,g.cell,O,k)),B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I(g.cell,c,t),g=null;break;case 33:case 545:E.push($);var ne=gN($[0].s);if(i=t.dense?(d[$[0].s.r]||[])[$[0].s.c]:d[ne],t.cellFormula&&i){if(!g)break;if(!ne||!i)break;i.f=""+tO($[1],0,$[0],O,k),i.F=vN($[0])}break;case 1212:if(!t.cellFormula)break;if(y){if(!g)break;b[gN(g.cell)]=$[0],((i=t.dense?(d[g.cell.r]||[])[g.cell.c]:d[gN(g.cell)])||{}).f=""+tO($[0],0,a,O,k)}break;case 253:c=tL(m[$.isst].t,$.ixfe,"s"),m[$.isst].h&&(c.h=m[$.isst].h),c.XF=S[c.ixfe],B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I({c:$.c,r:$.r},c,t);break;case 513:t.sheetStubs&&(c={ixfe:$.ixfe,XF:S[$.ixfe],t:"z"},B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I({c:$.c,r:$.r},c,t));break;case 190:if(t.sheetStubs)for(var ae=$.c;ae<=$.C;++ae){var ie=$.ixfe[ae-$.c];c={ixfe:ie,XF:S[ie],t:"z"},B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I({c:ae,r:$.r},c,t)}break;case 214:case 516:case 4:(c=tL($.val,$.ixfe,"s")).XF=S[c.ixfe],B>0&&(c.z=U[c.ixfe>>8&63]),eL(c,t,r.opts.Date1904),I({c:$.c,r:$.r},c,t);break;case 0:case 512:1===F&&(p=$);break;case 252:m=$;break;case 1054:if(4==k.biff){U[B++]=$[1];for(var se=0;se<B+163&&G_[se]!=$[1];++se);se>=163&&_A($[1],B+163)}else _A($[1],$[0]);break;case 30:U[B++]=$;for(var oe=0;oe<B+163&&G_[oe]!=$;++oe);oe>=163&&_A($,B+163);break;case 229:N=N.concat($);break;case 93:x[$.cmo[0]]=k.lastobj=$;break;case 438:k.lastobj.TxO=$;break;case 127:k.lastobj.ImData=$;break;case 440:for(l=$[0].s.r;l<=$[0].e.r;++l)for(o=$[0].s.c;o<=$[0].e.c;++o)(i=t.dense?(d[l]||[])[o]:d[gN({c:o,r:l})])&&(i.l=$[1]);break;case 2048:for(l=$[0].s.r;l<=$[0].e.r;++l)for(o=$[0].s.c;o<=$[0].e.c;++o)(i=t.dense?(d[l]||[])[o]:d[gN({c:o,r:l})])&&i.l&&(i.l.Tooltip=$[1]);break;case 28:if(k.biff<=5&&k.biff>=2)break;i=t.dense?(d[$[0].r]||[])[$[0].c]:d[gN($[0])];var le=x[$[2]];i||(t.dense?(d[$[0].r]||(d[$[0].r]=[]),i=d[$[0].r][$[0].c]={t:"z"}):i=d[gN($[0])]={t:"z"},p.e.r=Math.max(p.e.r,$[0].r),p.s.r=Math.min(p.s.r,$[0].r),p.e.c=Math.max(p.e.c,$[0].c),p.s.c=Math.min(p.s.c,$[0].c)),i.c||(i.c=[]),s={a:$[1],t:le.TxO.t},i.c.push(s);break;case 2173:S[$.ixfe],$.ext.forEach((function(e){e[0]}));break;case 125:if(!k.cellStyles)break;for(;$.e>=$.s;)D[$.e--]={width:$.w/256,level:$.level||0,hidden:!!(1&$.flags)},M||(M=!0,MR($.w/256)),OR(D[$.e+1]);break;case 520:var ce={};null!=$.level&&(R[$.r]=ce,ce.level=$.level),$.hidden&&(R[$.r]=ce,ce.hidden=!0),$.hpt&&(R[$.r]=ce,ce.hpt=$.hpt,ce.hpx=FR($.hpt));break;case 38:case 39:case 40:case 41:d["!margins"]||SO(d["!margins"]={}),d["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[z]]=$;break;case 161:d["!margins"]||SO(d["!margins"]={}),d["!margins"].header=$.header,d["!margins"].footer=$.footer;break;case 574:$.RTL&&(C.Views[0].RTL=!0);break;case 146:T=$;break;case 2198:h=$;break;case 140:u=$;break;case 442:v?_.CodeName=$||_.name:C.WBProps.CodeName=$||"ThisWorkbook"}}else Y||console.error("Missing Info for XLS Record 0x"+z.toString(16)),e.l+=W}return r.SheetNames=PA(f).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return f[e].name})),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&w["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=w)):r.Preamble=w,r.Sheets&&V.forEach((function(e,t){r.Sheets[r.SheetNames[t]]["!autofilter"]=e})),r.Strings=m,r.SSF=QA(G_),k.enc&&(r.Encryption=k.enc),h&&(r.Themes=h),r.Metadata={},void 0!==u&&(r.Metadata.Country=u),O.names.length>0&&(C.Names=O.names),r.Workbook=C,r}var nL="e0859ff2f94f6810ab9108002b27b3d9",aL="02d5cdd59c2e1b10939708002b2cf9ae",iL="05d5cdd59c2e1b10939708002b2cf9ae";function sL(e,t){var r,n,a,i;if(t||(t={}),hF(t),m_(),t.codepage&&p_(t.codepage),e.FullPaths){if(DA.find(e,"/encryption"))throw new Error("File is password-protected");r=DA.find(e,"!CompObj"),n=DA.find(e,"/Workbook")||DA.find(e,"/Book")}else{switch(t.type){case"base64":e=x_(__(e));break;case"binary":e=x_(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}eN(e,0),n={content:e}}if(r&&QP(r),t.bookProps&&!t.bookSheets)a={};else{var s=A_?"buffer":"array";if(n&&n.content)a=rL(n.content,t);else if((i=DA.find(e,"PerfectOffice_MAIN"))&&i.content)a=ZD.to_workbook(i.content,(t.type=s,t));else{if(!(i=DA.find(e,"NativeContent_MAIN"))||!i.content)throw(i=DA.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");a=ZD.to_workbook(i.content,(t.type=s,t))}t.bookVBA&&e.FullPaths&&DA.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=function(e){var t=DA.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(r,n){if("/"!==r.slice(-1)&&r.match(/_VBA_PROJECT_CUR/)){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");DA.utils.cfb_add(t,a,e.FileIndex[n].content)}})),DA.write(t)}(e))}var o={};return e.FullPaths&&function(e,t,r){var n=DA.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=Yx(n,JN,aL);for(var i in a)t[i]=a[i]}catch(qF){if(r.WTF)throw qF}var s=DA.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=Yx(s,ex,nL);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(qF){if(r.WTF)throw qF}t.HeadingPairs&&t.TitlesOfParts&&(Cx(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function oL(e,t){var r=t||{},n=DA.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return DA.utils.cfb_add(n,a,yL(e,r)),8==r.biff&&(e.Props||e.Custprops)&&function(e,t){var r,n=[],a=[],i=[],s=0,o=LA(JN,"n"),l=LA(ex,"n");if(e.Props)for(r=PA(e.Props),s=0;s<r.length;++s)(Object.prototype.hasOwnProperty.call(o,r[s])?n:Object.prototype.hasOwnProperty.call(l,r[s])?a:i).push([r[s],e.Props[r[s]]]);if(e.Custprops)for(r=PA(e.Custprops),s=0;s<r.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},r[s])||(Object.prototype.hasOwnProperty.call(o,r[s])?n:Object.prototype.hasOwnProperty.call(l,r[s])?a:i).push([r[s],e.Custprops[r[s]]]);var c=[];for(s=0;s<i.length;++s)Hx.indexOf(i[s][0])>-1||Tx.indexOf(i[s][0])>-1||null!=i[s][1]&&c.push(i[s]);a.length&&DA.utils.cfb_add(t,"/\x05SummaryInformation",Gx(a,nL,l,ex)),(n.length||c.length)&&DA.utils.cfb_add(t,"/\x05DocumentSummaryInformation",Gx(n,aL,o,JN,c.length?c:null,iL))}(e,n),8==r.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(r,n){if(0!=n){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&DA.utils.cfb_add(e,a,t.FileIndex[n].content)}}))}(n,DA.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}var lL={0:{f:function(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,7&i&&(r.level=7&i),16&i&&(r.hidden=!0),32&i&&(r.hpt=a/20),r}},1:{f:function(e){return[DN(e)]}},2:{f:function(e){return[DN(e),HN(e),"n"]}},3:{f:function(e){return[DN(e),e.read_shift(1),"e"]}},4:{f:function(e){return[DN(e),e.read_shift(1),"b"]}},5:{f:function(e){return[DN(e),$N(e),"n"]}},6:{f:function(e){return[DN(e),_N(e),"str"]}},7:{f:function(e){return[DN(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var n=e.l+t,a=DN(e);a.r=r["!row"];var i=[a,_N(e),"str"];if(r.cellFormula){e.l+=2;var s=lO(e,n-e.l,r);i[3]=tO(s,0,a,r.supbooks,r)}else e.l=n;return i}},9:{f:function(e,t,r){var n=e.l+t,a=DN(e);a.r=r["!row"];var i=[a,$N(e),"n"];if(r.cellFormula){e.l+=2;var s=lO(e,n-e.l,r);i[3]=tO(s,0,a,r.supbooks,r)}else e.l=n;return i}},10:{f:function(e,t,r){var n=e.l+t,a=DN(e);a.r=r["!row"];var i=[a,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var s=lO(e,n-e.l,r);i[3]=tO(s,0,a,r.supbooks,r)}else e.l=n;return i}},11:{f:function(e,t,r){var n=e.l+t,a=DN(e);a.r=r["!row"];var i=[a,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var s=lO(e,n-e.l,r);i[3]=tO(s,0,a,r.supbooks,r)}else e.l=n;return i}},12:{f:function(e){return[MN(e)]}},13:{f:function(e){return[MN(e),HN(e),"n"]}},14:{f:function(e){return[MN(e),e.read_shift(1),"e"]}},15:{f:function(e){return[MN(e),e.read_shift(1),"b"]}},16:{f:$O},17:{f:function(e){return[MN(e),_N(e),"str"]}},18:{f:function(e){return[MN(e),e.read_shift(4),"s"]}},19:{f:kN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=UN(e),s=cO(e,0,r),o=FN(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var i=e.read_shift(1);0!=i&&(n.underline=i);var s=e.read_shift(1);s>0&&(n.family=s);var o=e.read_shift(1);switch(o>0&&(n.charset=o),e.l++,n.color=function(e){var t={},r=e.read_shift(1)>>>1,n=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var l=ax[n];l&&(t.rgb=AR(l));break;case 2:t.rgb=AR([i,s,o]);break;case 3:t.theme=n}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=_N(e),n}},44:{f:function(e,t){return[e.read_shift(2),_N(e)]}},45:{f:$R},46:{f:QR},47:{f:function(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:HD},62:{f:function(e){return[DN(e),kN(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=gN(r);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:tN,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},n=e[e.l];return++e.l,r.above=!(64&n),r.left=!(128&n),e.l+=18,r.name=PN(e,t-19),r}},148:{f:YO,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?_N(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(65536&n),r.backupFile=!!(64&n),r.checkCompatibility=!!(4096&n),r.date1904=!!(1&n),r.filterPrivacy=!!(8&n),r.hidePivotFieldList=!!(1024&n),r.promptedSolutions=!!(16&n),r.publishItems=!!(2048&n),r.refreshAllConnections=!!(262144&n),r.saveExternalLinkValues=!!(128&n),r.showBorderUnselectedTables=!!(4&n),r.showInkAnnotation=!!(32&n),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(32768&n),r.updateLinks=["userSet","never","always"][n>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=VN(e,t-8),r.name=_N(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:YN},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:KO},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_N(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:VN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:FD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var n=e.l+t,a=WN(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=oO(e,n-e.l,r);s[1]=o}else e.l=n;return s}},427:{f:function(e,t,r){var n=e.l+t,a=[YN(e,16)];if(r.cellFormula){var i=uO(e,n-e.l,r);a[1]=i,e.l=n}else e.l=n;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return qO.forEach((function(r){t[r]=$N(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,n=YN(e,16),a=FN(e),i=_N(e),s=_N(e),o=_N(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:VN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:EM},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=YN(e,16);return t.rfx=r.s,t.ref=gN(r.s),e.l+=16,t}},636:{T:-1},637:{f:NN},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:_N(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},cL={6:{f:aO},10:{f:$x},12:{f:qx},13:{f:qx},14:{f:Kx},15:{f:Kx},16:{f:$N},17:{f:Kx},18:{f:Kx},19:{f:qx},20:{f:MD},21:{f:MD},23:{f:FD},24:{f:LD},25:{f:Kx},26:{},27:{},28:{f:function(e,t,r){return function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=iD(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}(e,0,r)}},29:{},34:{f:Kx},35:{f:OD},38:{f:$N},39:{f:$N},40:{f:$N},41:{f:$N},42:{f:Kx},43:{f:Kx},47:{f:function(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?CR(e,t-2,n):function(e,t,r,n){var a={key:qx(e),verificationBytes:qx(e)};r.password&&(a.verifier=ER(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=TR(r.password))}(e,r.biff,r,n),n}},49:{f:function(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return n.name=eD(e,0,r),n}},51:{f:qx},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:Kx},65:{f:function(){}},66:{f:qx},77:{},80:{},81:{},82:{},85:{f:qx},89:{},90:{},91:{},92:{f:function(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=iD(e,0,r);return e.read_shift(t+n-e.l),a}},93:{f:function(e,t,r){if(r&&r.biff<8)return function(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((UD[n]||tN)(e,t,r)),{cmo:[a,n,i],ft:s}}(e,t,r);var n=ED(e),a=function(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(TD[a](e,r-e.l))}catch(qF){return e.l=r,n}}return e.l!=r&&(e.l=r),n}(e,t-22,n[1]);return{cmo:n,ft:a}}},94:{},95:{f:Kx},96:{},97:{},99:{f:Kx},125:{f:HD},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,r){var n=r&&8==r.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&n,fBelow:64&n,fRight:128&n}}},130:{f:qx},131:{f:Kx},132:{f:Kx},133:{f:function(e,t,r){var n=e.read_shift(4),a=3&e.read_shift(1),i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule"}var s=eD(e,0,r);return 0===s.length&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}},134:{},140:{f:function(e){var t,r=[0,0];return t=e.read_shift(2),r[0]=tx[t]||t,t=e.read_shift(2),r[1]=tx[t]||t,r}},141:{f:qx},144:{},146:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(dD(e));return r}},151:{},152:{},153:{},154:{},155:{},156:{f:qx},157:{},158:{},160:{f:WD},161:{f:function(e,t){var r={};return t<32||(e.l+=16,r.header=$N(e),r.footer=$N(e),e.l+=2),r}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(mD(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}},190:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}},193:{f:$x},197:{},198:{},199:{},200:{},201:{},202:{f:Kx},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:qx},220:{},221:{f:Kx},222:{},224:{f:function(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,n.data=function(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=rx[o>>26],n.cellStyles?(a.alc=7&i,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=15&s,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=127&o,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=127&l,a.icvBack=l>>7&127,a.fsxButton=l>>14&1,a):a}(e,0,n.fStyle,r),n}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:$x},227:{},229:{f:function(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(vD(e));return r}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(tD(e));return i.Count=n,i.Unique=a,i}},253:{f:function(e){var t=fD(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Zx},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Kx},353:{f:$x},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,1025==i||14849==i)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=nD(e,i),o=[];n>e.l;)o.push(aD(e));return[i,a,s,o]}},431:{f:Kx},432:{},433:{},434:{},437:{},438:{f:function(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(i)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}(e);var s=e.read_shift(2);e.read_shift(2),qx(e);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-n!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((a+=nD(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?s:2*s))break}if(a.length!==s&&a.length!==2*s)throw new Error("cchText: "+s+" != "+a.length);return e.l=n+t,{t:a}}catch(qF){return e.l=n+t,{t:a}}}},439:{f:Kx},440:{f:function(e,t){var r=vD(e);e.l+=16;var n=function(e,t){var r=e.l+t,n=e.read_shift(4);if(2!==n)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c,u,h="";16&a&&(i=lD(e,e.l)),128&a&&(s=lD(e,e.l)),257===(257&a)&&(o=lD(e,e.l)),1===(257&a)&&(l=oD(e,e.l)),8&a&&(h=lD(e,e.l)),32&a&&(c=e.read_shift(16)),64&a&&(u=Dx(e)),e.l=r;var d=s||o||l||"";d&&h&&(d+="#"+h),d||(d="#"+h),2&a&&"/"==d.charAt(0)&&"/"!=d.charAt(1)&&(d="file://"+d);var f={Target:d};return c&&(f.guid=c),u&&(f.time=u),i&&(f.Tooltip=i),f}(e,t-24);return[r,n]}},441:{},442:{f:aD},443:{},444:{f:qx},445:{},446:{},448:{f:$x},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:$x},512:{f:xD},513:{f:zD},515:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var n=fD(e),a=$N(e);return n.val=a,n}},516:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5),e.l;var n=fD(e);2==r.biff&&e.l++;var a=aD(e,e.l,r);return n.val=a,n}},517:{f:RD},519:{f:YD},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,7&n&&(t.level=7&n),32&n&&(t.hidden=!0),64&n&&(t.hpt=r/20),t}},523:{},545:{f:BD},549:{f:ID},566:{},574:{f:function(e,t,r){return r&&r.biff>=2&&r.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=mD(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}},659:{},1048:{},1054:{f:function(e,t,r){return[e.read_shift(2),iD(e,0,r)]}},1084:{},1212:{f:function(e,t,r){var n=yD(e);e.l++;var a=e.read_shift(1);return[nO(e,t-=8,r),a,n]}},2048:{f:function(e,t){e.read_shift(2);var r=vD(e),n=e.read_shift((t-10)/2,"dbcs-cont");return[r,n=n.replace(P_,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:CD},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:$x},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),a=[];n-- >0;)a.push(fM(e,e.l));return{ixfe:r,ext:a}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Kx,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2);return[nD(e,n,r),nD(e,a,r)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,r){var n=e.l+t;if(124226!==e.read_shift(4))if(r.cellStyles){var a,i=e.slice(e.l);e.l=n;try{a=fI(i,{type:"array"})}catch(qF){return}var s=lI(a,"theme/theme/theme1.xml",!0);if(s)return uM(s,r)}else e.l=n},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:$x},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:qx},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,r){var n={area:!1};if(5!=r.biff)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,16&a&&(n.area=!0),n}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(dD(e));return r}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:xD},1:{},2:{f:function(e){var t=fD(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}},3:{f:function(e){var t=fD(e);++e.l;var r=$N(e);return t.t="n",t.val=r,t}},4:{f:function(e,t,r){r.biffguess&&5==r.biff&&(r.biff=2);var n=fD(e);++e.l;var a=iD(e,0,r);return n.t="str",n.val=a,n}},5:{f:RD},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:CD},11:{},22:{f:qx},30:{f:ND},31:{},32:{},33:{f:BD},36:{},37:{f:ID},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:qx},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,r){var n=e.l+t,a=fD(e),i=e.read_shift(2),s=nD(e,i,r);return e.l=n,a.t="str",a.val=s,a}},223:{},234:{},354:{},421:{},518:{f:aO},521:{f:CD},536:{f:LD},547:{f:OD},561:{},579:{},1030:{f:aO},1033:{f:CD},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function uL(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Vk(r)&&e.push(r)}}function hL(e,t,r){return e||(e=rN(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function dL(e,t,r,n){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?VA(XA(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?uL(e,2,function(e,t,r){var n=rN(9);return hL(n,e,t),n.write_shift(2,r),n}(r,n,a)):uL(e,3,function(e,t,r){var n=rN(15);return hL(n,e,t),n.write_shift(8,r,"f"),n}(r,n,a)));case"b":case"e":return void uL(e,5,function(e,t,r,n){var a=rN(9);return hL(a,e,t),Jx(r,n||"b",a),a}(r,n,t.v,t.t));case"s":case"str":return void uL(e,4,function(e,t,r){var n=rN(8+2*r.length);return hL(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(r,n,(t.v||"").slice(0,255)))}uL(e,1,hL(null,r,n))}function fL(e,t){var r=t||{};for(var n=aN(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(0==a&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return uL(n,4==r.biff?1033:3==r.biff?521:9,_D(0,16,r)),function(e,t,r,n){var a,i=Array.isArray(t),s=wN(t["!ref"]||"A1"),o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=vN(s)}for(var c=s.s.r;c<=s.e.r;++c){o=hN(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=fN(u)),a=l[u]+o;var h=i?(t[c]||[])[u]:t[a];h&&dL(e,h,c,u)}}}(n,e.Sheets[e.SheetNames[a]],0,r),uL(n,10),n.end()}function pL(e,t,r){uL(e,49,function(e,t){var r=e.name||"Arial",n=t&&5==t.biff,a=rN(n?15+r.length:16+2*r.length);return a.write_shift(2,20*(e.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function gL(e,t){if(t){var r=0;t.forEach((function(t,n){++r<=256&&t&&uL(e,125,function(e,t){var r=rN(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}(EO(n,t),n))}))}}function mL(e,t,r,n,a){var i=16+TO(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)uL(e,6,iO(t,r,n,0,i));else switch(t.t){case"d":case"n":uL(e,515,function(e,t,r,n){var a=rN(14);return pD(e,t,n,a),KN(r,a),a}(r,n,"d"==t.t?VA(XA(t.v)):t.v,i));break;case"b":case"e":uL(e,517,function(e,t,r,n,a,i){var s=rN(8);return pD(e,t,n,s),Jx(r,i,s),s}(r,n,t.v,i,0,t.t));break;case"s":case"str":if(a.bookSST)uL(e,253,function(e,t,r,n){var a=rN(10);return pD(e,t,n,a),a.write_shift(4,r),a}(r,n,bO(a.Strings,t.v,a.revStrings),i));else uL(e,516,function(e,t,r,n,a){var i=!a||8==a.biff,s=rN(+i+8+(1+i)*r.length);return pD(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}(r,n,(t.v||"").slice(0,255),i,a));break;default:uL(e,513,pD(r,n,i))}else uL(e,513,pD(r,n,i))}function vL(e,t,r){var n,a=aN(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=8==t.biff,h="",d=[],f=wN(s["!ref"]||"A1"),p=u?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}uL(a,2057,_D(0,16,t)),uL(a,13,Qx(1)),uL(a,12,Qx(100)),uL(a,15,Xx(!0)),uL(a,17,Xx(!1)),uL(a,16,KN(.001)),uL(a,95,Xx(!0)),uL(a,42,Xx(!1)),uL(a,43,Xx(!1)),uL(a,130,Qx(1)),uL(a,128,function(e){var t=rN(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),uL(a,131,Xx(!1)),uL(a,132,Xx(!1)),u&&gL(a,s["!cols"]),uL(a,512,function(e,t){var r=8!=t.biff&&t.biff?2:4,n=rN(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(f,t)),u&&(s["!links"]=[]);for(var g=f.s.r;g<=f.e.r;++g){h=hN(g);for(var m=f.s.c;m<=f.e.c;++m){g===f.s.r&&(d[m]=fN(m)),n=d[m]+h;var v=c?(s[g]||[])[m]:s[n];v&&(mL(a,v,g,m,t),u&&v.l&&s["!links"].push([n,v.l]))}}var w=l.CodeName||l.name||i;return u&&uL(a,574,function(e){var t=rN(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&uL(a,229,function(e){var t=rN(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)wD(e[r],t);return t}(s["!merges"])),u&&function(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];uL(e,440,VD(n)),n[1].Tooltip&&uL(e,2048,jD(n))}delete t["!links"]}(a,s),uL(a,442,sD(w)),u&&function(e,t){var r=rN(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),uL(e,2151,r),(r=rN(39)).write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),wD(wN(t["!ref"]||"A1"),r),r.write_shift(4,4),uL(e,2152,r)}(a,s),uL(a,10),a.end()}function wL(e,t,r){var n=aN(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=8==r.biff,l=5==r.biff;(uL(n,2057,_D(0,5,r)),"xla"==r.bookType&&uL(n,135),uL(n,225,o?Qx(1200):null),uL(n,193,function(e,t){t||(t=rN(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}(2)),l&&uL(n,191),l&&uL(n,192),uL(n,226),uL(n,92,function(e,t){var r=!t||8==t.biff,n=rN(r?112:54);for(n.write_shift(8==t.biff?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}(0,r)),uL(n,66,Qx(o?1200:1252)),o&&uL(n,353,Qx(0)),o&&uL(n,448),uL(n,317,function(e){for(var t=rN(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),o&&e.vbaraw&&uL(n,211),o&&e.vbaraw)&&uL(n,442,sD(s.CodeName||"ThisWorkbook"));uL(n,156,Qx(17)),uL(n,25,Xx(!1)),uL(n,18,Xx(!1)),uL(n,19,Qx(0)),o&&uL(n,431,Xx(!1)),o&&uL(n,444,Qx(0)),uL(n,61,function(){var e=rN(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),uL(n,64,Xx(!1)),uL(n,141,Qx(0)),uL(n,34,Xx("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&MI(e.Workbook.WBProps.date1904)?"true":"false"}(e))),uL(n,14,Xx(!0)),o&&uL(n,439,Xx(!1)),uL(n,218,Qx(0)),pL(n,0,r),function(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var a=n[0];a<=n[1];++a)null!=t[a]&&uL(e,1054,kD(a,t[a],r))}))}(n,e.SSF,r),function(e,t){for(var r=0;r<16;++r)uL(e,224,DD({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(r){uL(e,224,DD(r,0,t))}))}(n,r),o&&uL(n,352,Xx(!1));var c,u=n.end(),h=aN();o&&uL(h,140,(c||(c=rN(4)),c.write_shift(2,1),c.write_shift(2,1),c)),o&&r.Strings&&function(e,t,r,n){var a=n||(r||[]).length||0;if(a<=8224)return uL(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for((u=e.next(4)).write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}(h,252,function(e){var t=rN(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=rD(e[n]);var a=O_([t].concat(r));return a.parts=[t.length].concat(r.map((function(e){return e.length}))),a}(r.Strings)),uL(h,10);var d=h.end(),f=aN(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var m=u.length+p+d.length;for(g=0;g<e.SheetNames.length;++g){uL(f,133,AD({pos:m,hs:(i[g]||{}).Hidden||0,dt:0,name:e.SheetNames[g]},r)),m+=t[g].length}var v=f.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var w=[];return u.length&&w.push(u),v.length&&w.push(v),d.length&&w.push(d),O_(w)}function yL(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(n&&n["!ref"])mN(n["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=QA(G_)),e&&e.SSF&&(IA(),AA(e.SSF),r.revssf=BA(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,dF(r),r.cellXfs=[],TO(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=vL(a,r,e);return n.unshift(wL(e,n,r)),O_(n)}(e,t);case 4:case 3:case 2:return fL(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function bL(e,t){var r=t||{};var n=r.dense?[]:{},a=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=rI(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,d=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var g=l[s].trim(),m=g.slice(0,3).toLowerCase();if("<tr"!=m){if("<td"==m||"<th"==m){var v=g.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var w=v[o].trim();if(w.match(/<t[dh]/i)){for(var y=w,b=0;"<"==y.charAt(0)&&(b=y.indexOf(">"))>-1;)y=y.slice(b+1);for(var E=0;E<p.length;++E){var S=p[E];S.s.c==u&&S.s.r<c&&c<=S.e.r&&(u=S.e.c+1,E=-1)}var T=EI(w.slice(0,w.indexOf(">")));d=T.colspan?+T.colspan:1,((h=+T.rowspan)>1||d>1)&&p.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+d-1}});var C=T.t||T["data-t"]||"";if(y.length)if(y=jI(y),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),y.length){var _={t:"s",v:y};r.raw||!y.trim().length||"s"==C||("TRUE"===y?_={t:"b",v:!0}:"FALSE"===y?_={t:"b",v:!1}:isNaN(JA(y))?isNaN(tI(y).getDate())||(_={t:"d",v:XA(y)},r.cellDates||(_={t:"n",v:VA(_.v)}),_.z=r.dateNF||G_[14]):_={t:"n",v:JA(y)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=_):n[gN({r:c,c:u})]=_,u+=d}else u+=d;else u+=d}}}}else{if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0}}return n["!ref"]=vN(f),p.length&&(n["!merges"]=p),n}function EL(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=gN({r:r,c:s}),h=n.dense?(e[r]||[])[s]:e[u],d=h&&null!=h.v&&(h.h||DI(h.w||(bN(h),h.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",null!=h.v&&(f["data-v"]=h.v),null!=h.z&&(f["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(n.id||"sjs")+"-"+u,i.push(XI("td",d,f))}}return"<tr>"+i.join("")+"</tr>"}var SL='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',TL="</body></html>";function CL(e,t,r){return[].join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function _L(e,t){var r=t||{},n=null!=r.header?r.header:SL,a=null!=r.footer?r.footer:TL,i=[n],s=mN(e["!ref"]);r.dense=Array.isArray(e),i.push(CL(0,0,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(EL(e,s,o,r));return i.push("</table>"+a),i.join("")}function AL(e,t,r){var n=r||{};var a=0,i=0;if(null!=n.origin)if("number"==typeof n.origin)a=n.origin;else{var s="string"==typeof n.origin?pN(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=mN(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==a&&(c.e.r=a=u.e.r+1)}var h=[],d=0,f=e["!rows"]||(e["!rows"]=[]),p=0,g=0,m=0,v=0,w=0,y=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&g<l;++p){var b=o[p];if(kL(b)){if(n.display)continue;f[g]={hidden:!0}}var E=b.children;for(m=v=0;m<E.length;++m){var S=E[m];if(!n.display||!kL(S)){var T=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):jI(S.innerHTML),C=S.getAttribute("data-z")||S.getAttribute("z");for(d=0;d<h.length;++d){var _=h[d];_.s.c==v+i&&_.s.r<g+a&&g+a<=_.e.r&&(v=_.e.c+1-i,d=-1)}y=+S.getAttribute("colspan")||1,((w=+S.getAttribute("rowspan")||1)>1||y>1)&&h.push({s:{r:g+a,c:v+i},e:{r:g+a+(w||1)-1,c:v+i+(y||1)-1}});var A={t:"s",v:T},I=S.getAttribute("data-t")||S.getAttribute("t")||"";null!=T&&(0==T.length?A.t=I||"z":n.raw||0==T.trim().length||"s"==I||("TRUE"===T?A={t:"b",v:!0}:"FALSE"===T?A={t:"b",v:!1}:isNaN(JA(T))?isNaN(tI(T).getDate())||(A={t:"d",v:XA(T)},n.cellDates||(A={t:"n",v:VA(A.v)}),A.z=n.dateNF||G_[14]):A={t:"n",v:JA(T)})),void 0===A.z&&null!=C&&(A.z=C);var k="",N=S.getElementsByTagName("A");if(N&&N.length)for(var x=0;x<N.length&&(!N[x].hasAttribute("href")||"#"==(k=N[x].getAttribute("href")).charAt(0));++x);k&&"#"!=k.charAt(0)&&(A.l={Target:k}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][v+i]=A):e[gN({c:v+i,r:g+a})]=A,c.e.c<v+i&&(c.e.c=v+i),v+=y}}++g}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,g-1+a),e["!ref"]=vN(c),g>=l&&(e["!fullref"]=vN((c.e.r=o.length-p+g-1+a,c))),e}function IL(e,t){return AL((t||{}).dense?[]:{},e,t)}function kL(e){var t="",r=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function NL(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[_I(t.replace(/<[^>]*>/g,""))]}var xL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function DL(e,t){var r=t||{};var n,a,i,s,o,l,c=QI(e),u=[],h={name:""},d="",f=0,p={},g=[],m=r.dense?[]:{},v={value:""},w="",y=0,b=[],E=-1,S=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,_={},A=[],I={},k=[],N=1,x=1,D=[],R={Names:[]},M={},O=["",""],P=[],L={},F="",B=0,U=!1,V=!1,j=0;for(ZI.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");o=ZI.exec(c);)switch(o[3]=o[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===o[1]?(T.e.c>=T.s.c&&T.e.r>=T.s.r?m["!ref"]=vN(T):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(m["!fullref"]=m["!ref"],T.e.r=r.sheetRows-1,m["!ref"]=vN(T)),A.length&&(m["!merges"]=A),k.length&&(m["!rows"]=k),i.name=i["\u540d\u79f0"]||i.name,"undefined"!==typeof JSON&&JSON.stringify(i),g.push(i.name),p[i.name]=m,V=!1):"/"!==o[0].charAt(o[0].length-2)&&(i=EI(o[0],!1),E=S=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,m=r.dense?[]:{},A=[],k=[],V=!0);break;case"table-row-group":"/"===o[1]?--C:++C;break;case"table-row":case"\u884c":if("/"===o[1]){E+=N,N=1;break}if((s=EI(o[0],!1))["\u884c\u53f7"]?E=s["\u884c\u53f7"]-1:-1==E&&(E=0),(N=+s["number-rows-repeated"]||1)<10)for(j=0;j<N;++j)C>0&&(k[E+j]={level:C});S=-1;break;case"covered-table-cell":"/"!==o[1]&&++S,r.sheetStubs&&(r.dense?(m[E]||(m[E]=[]),m[E][S]={t:"z"}):m[gN({r:E,c:S})]={t:"z"}),w="",b=[];break;case"table-cell":case"\u6570\u636e":if("/"===o[0].charAt(o[0].length-2))++S,v=EI(o[0],!1),x=parseInt(v["number-columns-repeated"]||"1",10),l={t:"z",v:null},v.formula&&0!=r.cellFormula&&(l.f=pO(_I(v.formula))),"string"==(v["\u6570\u636e\u7c7b\u578b"]||v["value-type"])&&(l.t="s",l.v=_I(v["string-value"]||""),r.dense?(m[E]||(m[E]=[]),m[E][S]=l):m[gN({r:E,c:S})]=l),S+=x-1;else if("/"!==o[1]){w="",y=0,b=[],x=1;var H=N?E+N-1:E;if(++S>T.e.c&&(T.e.c=S),S<T.s.c&&(T.s.c=S),E<T.s.r&&(T.s.r=E),H>T.e.r&&(T.e.r=H),P=[],L={},l={t:(v=EI(o[0],!1))["\u6570\u636e\u7c7b\u578b"]||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=_I(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(I={s:{r:E,c:S},e:{r:E+(parseInt(v["number-matrix-rows-spanned"],10)||0)-1,c:S+(parseInt(v["number-matrix-columns-spanned"],10)||0)-1}},l.F=vN(I),D.push([I,l.F])),v.formula)l.f=pO(v.formula);else for(j=0;j<D.length;++j)E>=D[j][0].s.r&&E<=D[j][0].e.r&&S>=D[j][0].s.c&&S<=D[j][0].e.c&&(l.F=D[j][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(I={s:{r:E,c:S},e:{r:E+(parseInt(v["number-rows-spanned"],10)||0)-1,c:S+(parseInt(v["number-columns-spanned"],10)||0)-1}},A.push(I)),v["number-columns-repeated"]&&(x=parseInt(v["number-columns-repeated"],10)),l.t){case"boolean":l.t="b",l.v=MI(v["boolean-value"]);break;case"float":case"percentage":case"currency":l.t="n",l.v=parseFloat(v.value);break;case"date":l.t="d",l.v=XA(v["date-value"]),r.cellDates||(l.t="n",l.v=VA(l.v)),l.z="m/d/yy";break;case"time":l.t="n",l.v=YA(v["time-value"])/86400,r.cellDates&&(l.t="d",l.v=WA(l.v)),l.z="HH:MM:SS";break;case"number":l.t="n",l.v=parseFloat(v["\u6570\u636e\u6570\u503c"]);break;default:if("string"!==l.t&&"text"!==l.t&&l.t)throw new Error("Unsupported value type "+l.t);l.t="s",null!=v["string-value"]&&(w=_I(v["string-value"]),b=[])}}else{if(U=!1,"s"===l.t&&(l.v=w||"",b.length&&(l.R=b),U=0==y),M.Target&&(l.l=M),P.length>0&&(l.c=P,P=[]),w&&!1!==r.cellText&&(l.w=w),U&&(l.t="z",delete l.v),(!U||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var z=0;z<N;++z){if(x=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(m[E+z]||(m[E+z]=[]),m[E+z][S]=0==z?l:QA(l);--x>0;)m[E+z][S+x]=QA(l);else for(m[gN({r:E+z,c:S})]=l;--x>0;)m[gN({r:E+z,c:S+x})]=QA(l);T.e.c<=S&&(T.e.c=S)}S+=(x=parseInt(v["number-columns-repeated"]||"1",10))-1,x=0,l={},w="",b=[]}M={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===o[1]){if((n=u.pop())[0]!==o[3])throw"Bad state: "+n}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!0]);break;case"annotation":if("/"===o[1]){if((n=u.pop())[0]!==o[3])throw"Bad state: "+n;L.t=w,b.length&&(L.R=b),L.a=F,P.push(L)}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!1]);F="",B=0,w="",y=0,b=[];break;case"creator":"/"===o[1]?F=c.slice(B,o.index):B=o.index+o[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===o[1]){if((n=u.pop())[0]!==o[3])throw"Bad state: "+n}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!1]);w="",y=0,b=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===o[1]){if(_[h.name]=d,(n=u.pop())[0]!==o[3])throw"Bad state: "+n}else"/"!==o[0].charAt(o[0].length-2)&&(d="",h=EI(o[0],!1),u.push([o[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(u[u.length-1][0]){case"time-style":case"date-style":a=EI(o[0],!1),d+=xL[o[3]]["long"===a.style?1:0]}break;case"text":if("/>"===o[0].slice(-2))break;if("/"===o[1])switch(u[u.length-1][0]){case"number-style":case"date-style":case"time-style":d+=c.slice(f,o.index)}else f=o.index+o[0].length;break;case"named-range":O=gO((a=EI(o[0],!1))["cell-range-address"]);var W={Name:a.name,Ref:O[0]+"!"+O[1]};V&&(W.Sheet=g.length),R.Names.push(W);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(u[u.length-1][0])>-1)break;if("/"!==o[1]||v&&v["string-value"])EI(o[0],!1),y=o.index+o[0].length;else{var Y=NL(c.slice(y,o.index));w=(w.length>0?w+"\n":"")+Y[0]}break;case"database-range":if("/"===o[1])break;try{p[(O=gO(EI(o[0])["target-range-address"]))[0]]["!autofilter"]={ref:O[1]}}catch(qF){}break;case"a":if("/"!==o[1]){if(!(M=EI(o[0],!1)).href)break;M.Target=_I(M.href),delete M.href,"#"==M.Target.charAt(0)&&M.Target.indexOf(".")>-1?(O=gO(M.Target.slice(1)),M.Target="#"+O[0]+"!"+O[1]):M.Target.match(/^\.\.[\\\/]/)&&(M.Target=M.Target.slice(3))}break;default:switch(o[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(r.WTF)throw new Error(o)}}var G={Sheets:p,SheetNames:g,Workbook:R};return r.bookSheets&&delete G.Sheets,G}function RL(e,t){t=t||{},iI(e,"META-INF/manifest.xml")&&function(e,t){for(var r,n,a=QI(e);r=ZI.exec(a);)switch(r[3]){case"manifest":break;case"file-entry":if("/"==(n=EI(r[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==n.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}(oI(e,"META-INF/manifest.xml"),t);var r=lI(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=DL(BI(r),t);return iI(e,"meta.xml")&&(n.Props=yx(oI(e,"meta.xml"))),n}function ML(e,t){return DL(e,t)}var OL=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+KI({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return gI+t}}(),PL=function(){var e="          <table:table-cell />\n",t=function(t,r,n){var a=[];a.push('      <table:table table:name="'+kI(r.SheetNames[n])+'" table:style-name="ta1">\n');var i=0,s=0,o=mN(t["!ref"]||"A1"),l=t["!merges"]||[],c=0,u=Array.isArray(t);if(t["!cols"])for(s=0;s<=o.e.c;++s)a.push("        <table:table-column"+(t["!cols"][s]?' table:style-name="co'+t["!cols"][s].ods+'"':"")+"></table:table-column>\n");var h="",d=t["!rows"]||[];for(i=0;i<o.s.r;++i)h=d[i]?' table:style-name="ro'+d[i].ods+'"':"",a.push("        <table:table-row"+h+"></table:table-row>\n");for(;i<=o.e.r;++i){for(h=d[i]?' table:style-name="ro'+d[i].ods+'"':"",a.push("        <table:table-row"+h+">\n"),s=0;s<o.s.c;++s)a.push(e);for(;s<=o.e.c;++s){var f=!1,p={},g="";for(c=0;c!=l.length;++c)if(!(l[c].s.c>s)&&!(l[c].s.r>i)&&!(l[c].e.c<s)&&!(l[c].e.r<i)){l[c].s.c==s&&l[c].s.r==i||(f=!0),p["table:number-columns-spanned"]=l[c].e.c-l[c].s.c+1,p["table:number-rows-spanned"]=l[c].e.r-l[c].s.r+1;break}if(f)a.push("          <table:covered-table-cell/>\n");else{var m=gN({r:i,c:s}),v=u?(t[i]||[])[s]:t[m];if(v&&v.f&&(p["table:formula"]=kI(("of:="+v.f.replace(_M,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),v.F&&v.F.slice(0,m.length)==m)){var w=mN(v.F);p["table:number-matrix-columns-spanned"]=w.e.c-w.s.c+1,p["table:number-matrix-rows-spanned"]=w.e.r-w.s.r+1}if(v){switch(v.t){case"b":g=v.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=v.v?"true":"false";break;case"n":g=v.w||String(v.v||0),p["office:value-type"]="float",p["office:value"]=v.v||0;break;case"s":case"str":g=null==v.v?"":v.v,p["office:value-type"]="string";break;case"d":g=v.w||XA(v.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=XA(v.v).toISOString(),p["table:style-name"]="ce1";break;default:a.push(e);continue}var y=kI(g).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(v.l&&v.l.Target){var b=v.l.Target;"#"==(b="#"==b.charAt(0)?"#"+mO(b.slice(1)):b).charAt(0)||b.match(/^\w+:/)||(b="../"+b),y=XI("text:a",y,{"xlink:href":b.replace(/&/g,"&amp;")})}a.push("          "+XI("table:table-cell",XI("text:p",y,{}),p)+"\n")}else a.push(e)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")};return function(e,r){var n=[gI],a=KI({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),i=KI({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==r.bookType?(n.push("<office:document"+a+i+">\n"),n.push(mx().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+a+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var n=0;n<t["!cols"].length;++n)if(t["!cols"][n]){var a=t["!cols"][n];if(null==a.width&&null==a.wpx&&null==a.wch)continue;OR(a),a.ods=r;var i=t["!cols"][n].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}}));var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=n;var a=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+n+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++n}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var s=0;s!=e.SheetNames.length;++s)n.push(t(e.Sheets[e.SheetNames[s]],e,s));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==r.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function LL(e,t){if("fods"==t.bookType)return PL(e,t);var r=dI(),n="",a=[],i=[];return hI(r,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),hI(r,n="content.xml",PL(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),hI(r,n="styles.xml",OL(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),hI(r,n="meta.xml",gI+mx()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),hI(r,n="manifest.rdf",function(e){var t,r,n=[gI];n.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var a=0;a!=e.length;++a)n.push(gx(e[a][0],e[a][1])),n.push((t="",r=e[a][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+'"/>\n',"  </rdf:Description>\n"].join("")));return n.push(gx("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}(i)),a.push([n,"application/rdf+xml"]),hI(r,n="META-INF/manifest.xml",function(e){var t=[gI];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(a)),r}function FL(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function BL(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):BI(R_(e))}function UL(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):x_(UI(e))}function VL(e){var t=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(t),n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}function jL(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function HL(e,t){var r=t?t[0]:0,n=127&e[r];e:if(e[r++]>=128){if(n|=(127&e[r])<<7,e[r++]<128)break e;if(n|=(127&e[r])<<14,e[r++]<128)break e;if(n|=(127&e[r])<<21,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),n}function zL(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function WL(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function YL(e){for(var t=[],r=[0];r[0]<e.length;){var n,a=r[0],i=HL(e,r),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var l=r[0];e[r[0]++]>=128;);n=e.slice(l,r[0]);break;case 5:o=4,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=HL(e,r),n=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(a))}var c={data:n,type:s};null==t[i]?t[i]=[c]:t[i].push(c)}return t}function GL(e){var t=[];return e.forEach((function(e,r){e.forEach((function(e){e.data&&(t.push(zL(8*r+e.type)),2==e.type&&t.push(zL(e.data.length)),t.push(e.data))}))})),VL(t)}function $L(e,t){return(null==e?void 0:e.map((function(e){return t(e.data)})))||[]}function KL(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=HL(e,n),i=YL(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:WL(i[1][0].data),messages:[]};i[2].forEach((function(t){var r=YL(t.data),a=WL(r[3][0].data);s.messages.push({meta:r,data:e.slice(n[0],n[0]+a)}),n[0]+=a})),(null==(t=i[3])?void 0:t[0])&&(s.merge=WL(i[3][0].data)>>>0>0),r.push(s)}return r}function XL(e){var t=[];return e.forEach((function(e){var r=[];r[1]=[{data:zL(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:zL(+!!e.merge),type:0}]);var n=[];e.messages.forEach((function(e){n.push(e.data),e.meta[3]=[{type:0,data:zL(e.data.length)}],r[2].push({data:GL(e.meta),type:2})}));var a=GL(r);t.push(zL(a.length)),t.push(a),n.forEach((function(e){return t.push(e)}))})),VL(t)}function qL(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=HL(t,r),a=[];r[0]<t.length;){var i=3&t[r[0]];if(0!=i){var s=0,o=0;if(1==i?(o=4+(t[r[0]]>>2&7),s=(224&t[r[0]++])<<3,s|=t[r[0]++]):(o=1+(t[r[0]++]>>2),2==i?(s=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(s=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[VL(a)],0==s)throw new Error("Invalid offset 0");if(s>a[0].length)throw new Error("Invalid offset beyond length");if(o>=s)for(a.push(a[0].slice(-s)),o-=s;o>=a[a.length-1].length;)a.push(a[a.length-1]),o-=a[a.length-1].length;a.push(a[0].slice(-s,-s+o))}else{var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}a.push(t.slice(r[0],r[0]+l)),r[0]+=l}}var u=VL(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function QL(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(qL(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return VL(t)}function ZL(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=zL(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=255&s,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return VL(t)}function JL(e,t,r){var n,a=FL(e),i=a.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,h=new Date(2001,0,1);switch(1&i&&(c=function(e,t){for(var r=(127&e[t+15])<<7|e[t+14]>>1,n=1&e[t+14],a=t+13;a>=t;--a)n=256*n+e[a];return(128&e[t+15]?-n:n)*Math.pow(10,r-6176)}(e,s),s+=16),2&i&&(u=a.getFloat64(s,!0),s+=8),4&i&&(h.setTime(h.getTime()+1e3*a.getFloat64(s,!0)),s+=8),8&i&&(l=a.getUint32(s,!0),s+=4),16&i&&(o=a.getUint32(s,!0),s+=4),e[1]){case 0:break;case 2:case 10:n={t:"n",v:c};break;case 3:n={t:"s",v:t[l]};break;case 5:n={t:"d",v:h};break;case 6:n={t:"b",v:u>0};break;case 7:n={t:"n",v:u/86400};break;case 8:n={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&i," : ").concat(e.slice(0,4)));n={t:"s",v:r[o]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&i," : ").concat(e.slice(0,4)))}return n}function eF(e,t){var r=new Uint8Array(32),n=FL(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var n=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=255&a;e[t+15]|=r>=0?0:128}(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function tF(e,t){var r=new Uint8Array(32),n=FL(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function rF(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,r,n){var a,i=FL(e),s=i.getUint32(4,!0),o=(n>1?12:8)+4*jL(s&(n>1?3470:398)),l=-1,c=-1,u=NaN,h=new Date(2001,0,1);switch(512&s&&(l=i.getUint32(o,!0),o+=4),o+=4*jL(s&(n>1?12288:4096)),16&s&&(c=i.getUint32(o,!0),o+=4),32&s&&(u=i.getFloat64(o,!0),o+=8),64&s&&(h.setTime(h.getTime()+1e3*i.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:a={t:"n",v:u};break;case 3:a={t:"s",v:t[c]};break;case 5:a={t:"d",v:h};break;case 6:a={t:"b",v:u>0};break;case 7:a={t:"n",v:u/86400};break;case 8:a={t:"e",v:0};break;case 9:if(l>-1)a={t:"s",v:r[l]};else if(c>-1)a={t:"s",v:t[c]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));a={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return a}(e,t,r,e[0]);case 5:return JL(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function nF(e){return HL(YL(e)[1][0].data)}function aF(e,t){var r=YL(t.data),n=WL(r[1][0].data),a=r[3],i=[];return(a||[]).forEach((function(t){var r=YL(t.data),a=WL(r[1][0].data)>>>0;switch(n){case 1:i[a]=BL(r[3][0].data);break;case 8:var s=YL(e[nF(r[9][0].data)][0].data),o=e[nF(s[1][0].data)][0],l=WL(o.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=YL(o.data);i[a]=c[3].map((function(e){return BL(e.data)})).join("")}})),i}function iF(e,t){var r,n=YL(t.data),a=(null==(r=null==n?void 0:n[7])?void 0:r[0])?WL(n[7][0].data)>>>0>0?1:0:-1,i=$L(n[5],(function(e){return function(e,t){var r,n,a,i,s,o,l,c,u,h,d,f,p,g,m,v,w=YL(e),y=WL(w[1][0].data)>>>0,b=WL(w[2][0].data)>>>0,E=(null==(n=null==(r=w[8])?void 0:r[0])?void 0:n.data)&&WL(w[8][0].data)>0||!1;if((null==(i=null==(a=w[7])?void 0:a[0])?void 0:i.data)&&0!=t)m=null==(o=null==(s=w[7])?void 0:s[0])?void 0:o.data,v=null==(c=null==(l=w[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(h=null==(u=w[4])?void 0:u[0])?void 0:h.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");m=null==(f=null==(d=w[4])?void 0:d[0])?void 0:f.data,v=null==(g=null==(p=w[3])?void 0:p[0])?void 0:g.data}for(var S=E?4:1,T=FL(m),C=[],_=0;_<m.length/2;++_){var A=T.getUint16(2*_,!0);A<65535&&C.push([_,A])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var I=[];for(_=0;_<C.length-1;++_)I[C[_][0]]=v.subarray(C[_][1]*S,C[_+1][1]*S);return C.length>=1&&(I[C[C.length-1][0]]=v.subarray(C[C.length-1][1]*S)),{R:y,cells:I}}(e,a)}));return{nrows:WL(n[4][0].data)>>>0,data:i.reduce((function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach((function(r,n){if(e[t.R][n])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(n));e[t.R][n]=r})),e}),[])}}function sF(e,t){var r={"!ref":"A1"},n=e[nF(YL(t.data)[2][0].data)],a=WL(n[0].meta[1][0].data);if(6001!=a)throw new Error("6000 unexpected reference to ".concat(a));return function(e,t,r){var n,a=YL(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(WL(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(WL(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=vN(i);var s=YL(a[4][0].data),o=aF(e,e[nF(s[4][0].data)][0]),l=(null==(n=s[17])?void 0:n[0])?aF(e,e[nF(s[17][0].data)][0]):[],c=YL(s[3][0].data),u=0;c[1].forEach((function(t){var n=YL(t.data),a=e[nF(n[2][0].data)][0],i=WL(a.meta[1][0].data);if(6002!=i)throw new Error("6001 unexpected reference to ".concat(i));var s=iF(0,a);s.data.forEach((function(e,t){e.forEach((function(e,n){var a=gN({r:u+t,c:n}),i=rF(e,o,l);i&&(r[a]=i)}))})),u+=s.nrows}))}(e,n[0],r),r}function oF(e,t){var r={SheetNames:[],Sheets:{}};if($L(YL(t.data)[1],nF).forEach((function(t){e[t].forEach((function(t){if(2==WL(t.meta[1][0].data)){var n=function(e,t){var r,n=YL(t.data),a={name:(null==(r=n[1])?void 0:r[0])?BL(n[1][0].data):"",sheets:[]};return $L(n[2],nF).forEach((function(t){e[t].forEach((function(t){6e3==WL(t.meta[1][0].data)&&a.sheets.push(sF(e,t))}))})),a}(e,t);n.sheets.forEach((function(e,t){BF(r,e,0==t?n.name:n.name+"_"+t,!0)}))}}))})),0==r.SheetNames.length)throw new Error("Empty NUMBERS file");return r}function lF(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach((function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),e.FileIndex.forEach((function(e){if(e.name.match(/\.iwa$/)){var t,r;try{t=QL(e.content)}catch(qF){return console.log("?? "+e.content.length+" "+(qF.message||qF))}try{r=KL(t)}catch(qF){return console.log("## "+(qF.message||qF))}r.forEach((function(e){i[e.id]=e.messages,s.push(e.id)}))}})),!s.length)throw new Error("File has no messages");var o=(null==(a=null==(n=null==(r=null==(t=null==i?void 0:i[1])?void 0:t[0])?void 0:r.meta)?void 0:n[1])?void 0:a[0].data)&&1==WL(i[1][0].meta[1][0].data)&&i[1][0];if(o||s.forEach((function(e){i[e].forEach((function(e){if(1==WL(e.meta[1][0].data)>>>0){if(o)throw new Error("Document has multiple roots");o=e}}))})),!o)throw new Error("Cannot find Document root");return oF(i,o)}function cF(e,t,r){var n,a,i,s;if(!(null==(n=e[6])?void 0:n[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";if((null==(s=null==(i=e[8])?void 0:i[0])?void 0:s.data)&&WL(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=FL(e[7][0].data),c=0,u=[],h=FL(e[4][0].data),d=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var g,m;switch(l.setUint16(2*p,c,!0),h.setUint16(2*p,d,!0),typeof t[p]){case"string":g=eF({t:"s",v:t[p]},r),m=tF({t:"s",v:t[p]},r);break;case"number":g=eF({t:"n",v:t[p]},r),m=tF({t:"n",v:t[p]},r);break;case"boolean":g=eF({t:"b",v:t[p]},r),m=tF({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}u.push(g),c+=g.length,f.push(m),d+=m.length,++o}else l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535);for(e[2][0].data=zL(o);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535,!0);return e[6][0].data=VL(u),e[3][0].data=VL(f),o}function uF(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}function hF(e){uF([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function dF(e){uF([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function fF(e,t,r,n,a,i,s,o,l,c,u,h){try{i[n]=dx(lI(e,r,!0),t);var d,f=oI(e,t);switch(o){case"sheet":d=TP(f,t,a,l,i[n],c,u,h);break;case"chart":if(!(d=CP(f,t,a,l,i[n],c))||!d["!drawel"])break;var p=pI(d["!drawel"].Target,t),g=hx(p),m=function(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}(lI(e,p,!0),dx(lI(e,g,!0),p)),v=pI(m,p),w=hx(v);d=iP(lI(e,v,!0),0,0,dx(lI(e,w,!0),v),0,d);break;case"macro":b=t,i[n],b.slice(-4),d={"!type":"macro"};break;case"dialog":d=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,i[n]);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var y=[];i&&i[n]&&PA(i[n]).forEach((function(r){var a="";if(i[n][r].Type==ux.CMNT){a=pI(i[n][r].Target,t);var s=IP(oI(e,a,!0),a,l);if(!s||!s.length)return;wM(d,s,!1)}i[n][r].Type==ux.TCMNT&&(a=pI(i[n][r].Target,t),y=y.concat(function(e,t){var r=[],n=!1,a={},i=0;return e.replace(wI,(function(s,o){var l=EI(s);switch(SI(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":a={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=a.t&&r.push(a);break;case"<text>":case"<text":i=o+s.length;break;case"</text>":a.t=e.slice(i,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":n=!0;break;case"</mentions>":case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s})),r}(oI(e,a,!0),l)))})),y&&y.length&&wM(d,y,!0,l.people||[])}catch(qF){if(l.WTF)throw qF}var b}function pF(e){return"/"==e.charAt(0)?e.slice(1):e}function gF(e,t){if(IA(),hF(t=t||{}),iI(e,"META-INF/manifest.xml"))return RL(e,t);if(iI(e,"objectdata.xml"))return RL(e,t);if(iI(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(e.FileIndex)return lF(e);var r=DA.utils.cfb_new();return uI(e).forEach((function(t){hI(r,t,cI(e,t))})),lF(r)}if(!iI(e,"[Content_Types].xml")){if(iI(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(iI(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var n,a,i=uI(e),s=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var r={};if((e.match(wI)||[]).forEach((function(e){var n=EI(e);switch(n[0].replace(yI,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":void 0!==t[ox[n.ContentType]]&&t[ox[n.ContentType]].push(n.PartName)}})),t.xmlns!==rk)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}(lI(e,"[Content_Types].xml")),o=!1;if(0===s.workbooks.length&&oI(e,a="xl/workbook.xml",!0)&&s.workbooks.push(a),0===s.workbooks.length){if(!oI(e,a="xl/workbook.bin",!0))throw new Error("Could not find workbook");s.workbooks.push(a),o=!0}"bin"==s.workbooks[0].slice(-3)&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(vO=[],s.sst)try{vO=AP(oI(e,pF(s.sst)),s.sst,t)}catch(qF){if(t.WTF)throw qF}t.cellStyles&&s.themes.length&&(l=function(e,t,r){return uM(e,r)}(lI(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(c=_P(oI(e,pF(s.style)),s.style,l,t))}s.links.map((function(r){try{dx(lI(e,hx(pF(r))),r);return NP(oI(e,pF(r)),0,r,t)}catch(qF){}}));var u=SP(oI(e,pF(s.workbooks[0])),s.workbooks[0],t),h={},d="";s.coreprops.length&&((d=oI(e,pF(s.coreprops[0]),!0))&&(h=yx(d)),0!==s.extprops.length&&(d=oI(e,pF(s.extprops[0]),!0))&&function(e,t,r){var n={};t||(t={}),e=BI(e),Sx.forEach((function(r){var a=(e.match(VI(r[0]))||[])[1];switch(r[2]){case"string":a&&(t[r[1]]=_I(a));break;case"bool":t[r[1]]="true"===a;break;case"raw":var i=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));i&&i.length>0&&(n[r[1]]=i[1])}})),n.HeadingPairs&&n.TitlesOfParts&&Cx(n.HeadingPairs,n.TitlesOfParts,t,r)}(d,h,t));var f={};t.bookSheets&&!t.bookProps||0!==s.custprops.length&&(d=lI(e,pF(s.custprops[0]),!0))&&(f=function(e,t){var r={},n="",a=e.match(Ax);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=EI(s);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":n=_I(o.name);break;case"</property>":n=null;break;default:if(0===s.indexOf("<vt:")){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":r[n]=_I(u);break;case"bool":r[n]=MI(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=XA(u);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",s,c,l)}}else if("</"===s.slice(0,2));else if(t.WTF)throw new Error(s)}}return r}(d,t));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?n=u.Sheets.map((function(e){return e.name})):h.Worksheets&&h.SheetNames.length>0&&(n=h.SheetNames),t.bookProps&&(p.Props=h,p.Custprops=f),t.bookSheets&&"undefined"!==typeof n&&(p.SheetNames=n),t.bookSheets?p.SheetNames:t.bookProps))return p;n={};var g={};t.bookDeps&&s.calcchain&&(g=kP(oI(e,pF(s.calcchain)),s.calcchain));var m,v,w=0,y={},b=u.Sheets;h.Worksheets=b.length,h.SheetNames=[];for(var E=0;E!=b.length;++E)h.SheetNames[E]=b[E].name;var S=o?"bin":"xml",T=s.workbooks[0].lastIndexOf("/"),C=(s.workbooks[0].slice(0,T+1)+"_rels/"+s.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");iI(e,C)||(C="xl/_rels/workbook."+S+".rels");var _=dx(lI(e,C,!0),C.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=xP(oI(e,pF(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=function(e,t){var r=[],n=!1;return e.replace(wI,(function(e){var a=EI(e);switch(SI(a[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return e})),r}(oI(e,pF(s.people[0])),t)),_&&(_=function(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(r=e["!id"][t.id].Type,ux.WS.indexOf(r)>-1?"sheet":ux.CS&&r==ux.CS?"chart":ux.DS&&r==ux.DS?"dialog":ux.MS&&r==ux.MS?"macro":r&&r.length?r:"sheet")];var r}))}catch(qF){return null}return e&&0!==e.length?e:null}(_,u.Sheets));var A=oI(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=h.Worksheets;++w){var I="sheet";if(_&&_[w]?(m="xl/"+_[w][1].replace(/[\/]?xl\//,""),iI(e,m)||(m=_[w][1]),iI(e,m)||(m=C.replace(/_rels\/.*$/,"")+_[w][1]),I=_[w][2]):m=(m="xl/worksheets/sheet"+(w+1-A)+"."+S).replace(/sheet0\./,"sheet."),v=m.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(h.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var k=!1,N=0;N!=t.sheets.length;++N)"number"==typeof t.sheets[N]&&t.sheets[N]==w&&(k=1),"string"==typeof t.sheets[N]&&t.sheets[N].toLowerCase()==h.SheetNames[w].toLowerCase()&&(k=1);if(!k)continue e}}fF(e,m,v,h.SheetNames[w],w,y,n,I,t,u,l,c)}return p={Directory:s,Workbook:u,Props:h,Custprops:f,Deps:g,Sheets:n,SheetNames:h.SheetNames,Strings:vO,Styles:c,Themes:l,SSF:QA(G_)},t&&t.bookFiles&&(e.files?(p.keys=i,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach((function(t,r){t=t.replace(/^Root Entry[\/]/,""),p.keys.push(t),p.files[t]=e.FileIndex[r]})))),t&&t.bookVBA&&(s.vba.length>0?p.vbaraw=oI(e,pF(s.vba[0]),!0):s.defaults&&"application/vnd.ms-office.vbaProject"===s.defaults.bin&&(p.vbaraw=oI(e,"xl/vbaProject.bin",!0))),p}function mF(e,t){var r=t||{},n="Workbook",a=DA.find(e,n);try{if(n="/!DataSpaces/Version",!(a=DA.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(function(e){var t={};t.id=e.read_shift(0,"lpp4"),t.R=fR(e,4),t.U=fR(e,4),t.W=fR(e,4)}(a.content),n="/!DataSpaces/DataSpaceMap",!(a=DA.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(pR(e));return t}(a.content);if(1!==i.length||1!==i[0].comps.length||0!==i[0].comps[0].t||"StrongEncryptionDataSpace"!==i[0].name||"EncryptedPackage"!==i[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(a=DA.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(a.content);if(1!=s.length||"StrongEncryptionTransform"!=s[0])throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(a=DA.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);gR(a.content)}catch(qF){}if(n="/EncryptionInfo",!(a=DA.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=function(e){var t=fR(e);switch(t.Minor){case 2:return[t.Minor,wR(e)];case 3:return[t.Minor,yR()];case 4:return[t.Minor,bR(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(a.content);if(n="/EncryptedPackage",!(a=DA.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(4==o[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(o[1],a.content,r.password||"",r);if(2==o[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function vF(e,t){return"ods"==t.bookType?LL(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=mN(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(vN(n)));var i=xF(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&s.push(e)}))}));var o={},l=[],c=DA.read(t.numbers,{type:"base64"});c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0],r=e[1];2==t.type&&t.name.match(/\.iwa/)&&KL(QL(t.content)).forEach((function(e){l.push(e.id),o[e.id]={deps:[],location:r,type:WL(e.messages[0].meta[1][0].data)}}))})),l.sort((function(e,t){return e-t}));var u=l.filter((function(e){return e>1})).map((function(e){return[e,zL(e)]}));c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&KL(QL(t.content)).forEach((function(e){e.messages.forEach((function(t){u.forEach((function(t){e.messages.some((function(e){return 11006!=WL(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}(e.data,t[1])}))&&o[t[0]].deps.push(e.id)}))}))}))}));for(var h,d=DA.find(c,o[1].location),f=KL(QL(d.content)),p=0;p<f.length;++p){var g=f[p];1==g.id&&(h=g)}var m=nF(YL(h.messages[0].data)[1][0].data);for(f=KL(QL((d=DA.find(c,o[m].location)).content)),p=0;p<f.length;++p)(g=f[p]).id==m&&(h=g);for(m=nF(YL(h.messages[0].data)[2][0].data),f=KL(QL((d=DA.find(c,o[m].location)).content)),p=0;p<f.length;++p)(g=f[p]).id==m&&(h=g);for(m=nF(YL(h.messages[0].data)[2][0].data),f=KL(QL((d=DA.find(c,o[m].location)).content)),p=0;p<f.length;++p)(g=f[p]).id==m&&(h=g);var v=YL(h.messages[0].data);v[6][0].data=zL(n.e.r+1),v[7][0].data=zL(n.e.c+1);for(var w=nF(v[46][0].data),y=DA.find(c,o[w].location),b=KL(QL(y.content)),E=0;E<b.length&&b[E].id!=w;++E);if(b[E].id!=w)throw"Bad ColumnRowUIDMapArchive";var S=YL(b[E].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var T=0;T<=n.e.c;++T){var C=[];C[1]=C[2]=[{type:0,data:zL(T+420690)}],S[1].push({type:2,data:GL(C)}),S[2].push({type:0,data:zL(T)}),S[3].push({type:0,data:zL(T)})}S[4]=[],S[5]=[],S[6]=[];for(var _=0;_<=n.e.r;++_)(C=[])[1]=C[2]=[{type:0,data:zL(_+726270)}],S[4].push({type:2,data:GL(C)}),S[5].push({type:0,data:zL(_)}),S[6].push({type:0,data:zL(_)});b[E].messages[0].data=GL(S),y.content=ZL(XL(b)),y.size=y.content.length,delete v[46];var A=YL(v[4][0].data);A[7][0].data=zL(n.e.r+1);var I=nF(YL(A[1][0].data)[2][0].data);if((b=KL(QL((y=DA.find(c,o[I].location)).content)))[0].id!=I)throw"Bad HeaderStorageBucket";var k=YL(b[0].messages[0].data);for(_=0;_<i.length;++_){var N=YL(k[2][0].data);N[1][0].data=zL(_),N[4][0].data=zL(i[_].length),k[2][_]={type:k[2][0].type,data:GL(N)}}b[0].messages[0].data=GL(k),y.content=ZL(XL(b)),y.size=y.content.length;var x=nF(A[2][0].data);if((b=KL(QL((y=DA.find(c,o[x].location)).content)))[0].id!=x)throw"Bad HeaderStorageBucket";for(k=YL(b[0].messages[0].data),T=0;T<=n.e.c;++T)(N=YL(k[2][0].data))[1][0].data=zL(T),N[4][0].data=zL(n.e.r+1),k[2][T]={type:k[2][0].type,data:GL(N)};b[0].messages[0].data=GL(k),y.content=ZL(XL(b)),y.size=y.content.length;var D=nF(A[4][0].data);!function(){for(var e,t=DA.find(c,o[D].location),r=KL(QL(t.content)),n=0;n<r.length;++n){var a=r[n];a.id==D&&(e=a)}var i=YL(e.messages[0].data);i[3]=[];var l=[];s.forEach((function(e,t){l[1]=[{type:0,data:zL(t)}],l[2]=[{type:0,data:zL(1)}],l[3]=[{type:2,data:UL(e)}],i[3].push({type:2,data:GL(l)})})),e.messages[0].data=GL(i);var u=ZL(XL(r));t.content=u,t.size=t.content.length}();var R=YL(A[3][0].data),M=R[1][0];delete R[2];var O=YL(M.data),P=nF(O[2][0].data);!function(){for(var e,t=DA.find(c,o[P].location),r=KL(QL(t.content)),a=0;a<r.length;++a){var l=r[a];l.id==P&&(e=l)}var u=YL(e.messages[0].data);delete u[6],delete R[7];var h=new Uint8Array(u[5][0].data);u[5]=[];for(var d=0,f=0;f<=n.e.r;++f){var p=YL(h);d+=cF(p,i[f],s),p[1][0].data=zL(f),u[5].push({data:GL(p),type:2})}u[1]=[{type:0,data:zL(n.e.c+1)}],u[2]=[{type:0,data:zL(n.e.r+1)}],u[3]=[{type:0,data:zL(d)}],u[4]=[{type:0,data:zL(n.e.r+1)}],e.messages[0].data=GL(u);var g=ZL(XL(r));t.content=g,t.size=t.content.length}(),M.data=GL(O),A[3][0].data=GL(R),v[4][0].data=GL(A),h.messages[0].data=GL(v);var L=ZL(XL(f));return d.content=L,d.size=d.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){mM=1024,e&&!e.SSF&&(e.SSF=QA(G_));e&&e.SSF&&(IA(),AA(e.SSF),t.revssf=BA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,yO?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",n=TM.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};dF(t=t||{});var i=dI(),s="",o=0;t.cellXfs=[],TO(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(hI(i,s="docProps/core.xml",Ex(e.Props,t)),a.coreprops.push(s),px(t.rels,2,s,ux.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,hI(i,s,_x(e.Props)),a.extprops.push(s),px(t.rels,3,s,ux.EXT_PROPS),e.Custprops!==e.Props&&PA(e.Custprops||{}).length>0&&(hI(i,s="docProps/custom.xml",Ix(e.Custprops)),a.custprops.push(s),px(t.rels,4,s,ux.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},h=e.Sheets[e.SheetNames[o-1]];(h||{})["!type"];if(hI(i,s="xl/worksheets/sheet"+o+"."+r,DP(o-1,s,t,e,u)),a.sheets.push(s),px(t.wbrels,-1,"worksheets/sheet"+o+"."+r,ux.WS[0]),h){var d=h["!comments"],f=!1,p="";d&&d.length>0&&(hI(i,p="xl/comments"+o+"."+r,RP(d,p,t)),a.comments.push(p),px(u,-1,"../comments"+o+"."+r,ux.CMNT),f=!0),h["!legacy"]&&f&&hI(i,"xl/drawings/vmlDrawing"+o+".vml",vM(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&hI(i,hx(s),fx(u))}null!=t.Strings&&t.Strings.length>0&&(hI(i,s="xl/sharedStrings."+r,function(e,t,r){return(".bin"===t.slice(-4)?hR:cR)(e,r)}(t.Strings,s,t)),a.strs.push(s),px(t.wbrels,-1,"sharedStrings."+r,ux.SST));hI(i,s="xl/workbook."+r,function(e,t,r){return(".bin"===t.slice(-4)?EP:vP)(e,r)}(e,s,t)),a.workbooks.push(s),px(t.rels,1,s,ux.WB),hI(i,s="xl/theme/theme1.xml",hM(e.Themes,t)),a.themes.push(s),px(t.wbrels,-1,"theme/theme1.xml",ux.THEME),hI(i,s="xl/styles."+r,function(e,t,r){return(".bin"===t.slice(-4)?tM:HR)(e,r)}(e,s,t)),a.styles.push(s),px(t.wbrels,-1,"styles."+r,ux.STY),e.vbaraw&&n&&(hI(i,s="xl/vbaProject.bin",e.vbaraw),a.vba.push(s),px(t.wbrels,-1,"vbaProject.bin",ux.VBA));return hI(i,s="xl/metadata."+r,function(e){return(".bin"===e.slice(-4)?pM:gM)()}(s)),a.metadata.push(s),px(t.wbrels,-1,"metadata."+r,ux.XLMETA),hI(i,"[Content_Types].xml",cx(a,t)),hI(i,"_rels/.rels",fx(t.rels)),hI(i,"xl/_rels/workbook."+r+".rels",fx(t.wbrels)),delete t.revssf,delete t.ssf,i}(e,t):wF(e,t)}function wF(e,t){mM=1024,e&&!e.SSF&&(e.SSF=QA(G_)),e&&e.SSF&&(IA(),AA(e.SSF),t.revssf=BA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,yO?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=TM.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};dF(t=t||{});var i=dI(),s="",o=0;if(t.cellXfs=[],TO(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),hI(i,s="docProps/core.xml",Ex(e.Props,t)),a.coreprops.push(s),px(t.rels,2,s,ux.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,hI(i,s,_x(e.Props)),a.extprops.push(s),px(t.rels,3,s,ux.EXT_PROPS),e.Custprops!==e.Props&&PA(e.Custprops||{}).length>0&&(hI(i,s="docProps/custom.xml",Ix(e.Custprops)),a.custprops.push(s),px(t.rels,4,s,ux.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},d=e.Sheets[e.SheetNames[o-1]];(d||{})["!type"];if(hI(i,s="xl/worksheets/sheet"+o+"."+r,zO(o-1,t,e,h)),a.sheets.push(s),px(t.wbrels,-1,"worksheets/sheet"+o+"."+r,ux.WS[0]),d){var f=d["!comments"],p=!1,g="";if(f&&f.length>0){var m=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(m=!0)}))})),m&&(hI(i,g="xl/threadedComments/threadedComment"+o+"."+r,bM(f,u,t)),a.threadedcomments.push(g),px(h,-1,"../threadedComments/threadedComment"+o+"."+r,ux.TCMNT)),hI(i,g="xl/comments"+o+"."+r,yM(f)),a.comments.push(g),px(h,-1,"../comments"+o+"."+r,ux.CMNT),p=!0}d["!legacy"]&&p&&hI(i,"xl/drawings/vmlDrawing"+o+".vml",vM(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&hI(i,hx(s),fx(h))}return null!=t.Strings&&t.Strings.length>0&&(hI(i,s="xl/sharedStrings."+r,cR(t.Strings,t)),a.strs.push(s),px(t.wbrels,-1,"sharedStrings."+r,ux.SST)),hI(i,s="xl/workbook."+r,vP(e)),a.workbooks.push(s),px(t.rels,1,s,ux.WB),hI(i,s="xl/theme/theme1.xml",hM(e.Themes,t)),a.themes.push(s),px(t.wbrels,-1,"theme/theme1.xml",ux.THEME),hI(i,s="xl/styles."+r,HR(e,t)),a.styles.push(s),px(t.wbrels,-1,"styles."+r,ux.STY),e.vbaraw&&n&&(hI(i,s="xl/vbaProject.bin",e.vbaraw),a.vba.push(s),px(t.wbrels,-1,"vbaProject.bin",ux.VBA)),hI(i,s="xl/metadata."+r,gM()),a.metadata.push(s),px(t.wbrels,-1,"metadata."+r,ux.XLMETA),u.length>1&&(hI(i,s="xl/persons/person.xml",function(e){var t=[gI,XI("personList",null,{xmlns:ak,"xmlns:x":dk[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,r){t.push(XI("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(u)),a.people.push(s),px(t.wbrels,-1,"persons/person.xml",ux.PEOPLE)),hI(i,"[Content_Types].xml",cx(a,t)),hI(i,"_rels/.rels",fx(t.rels)),hI(i,"xl/_rels/workbook.xml.rels",fx(t.wbrels)),delete t.revssf,delete t.ssf,i}function yF(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=__(e.slice(0,12));break;case"binary":r=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function bF(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return WP(e.slice(r),t);default:break e}return QD.to_workbook(e,t)}function EF(e,t,r,n){return n?(r.type="string",QD.to_workbook(e,r)):QD.to_workbook(t,r)}function SF(e,t){m_();var r=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return SF(new Uint8Array(e),((r=QA(r)).type="array",r));"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&!r.type&&(r.type="undefined"!==typeof Deno?"buffer":"array");var n,a=e,i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),wO={},r.dateNF&&(wO.dateNF=r.dateNF),r.type||(r.type=A_&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==r.type&&(r.type=A_?"buffer":"binary",a=function(e){if("undefined"!==typeof RA)return RA.readFileSync(e);if("undefined"!==typeof Deno)return Deno.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(qF){if(!qF.message||!qF.message.match(/onstruct/))throw qF}throw new Error("Cannot access file "+e)}(e),"undefined"===typeof Uint8Array||A_||(r.type="array")),"string"==r.type&&(i=!0,r.type="binary",r.codepage=65001,a=function(e){return e.match(/[^\x00-\x7F]/)?UI(e):e}(e)),"array"==r.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return(r=QA(r)).type="array",SF(M_(a),r)}switch((n=yF(a,r))[0]){case 208:if(207===n[1]&&17===n[2]&&224===n[3]&&161===n[4]&&177===n[5]&&26===n[6]&&225===n[7])return function(e,t){return DA.find(e,"EncryptedPackage")?mF(e,t):sL(e,t)}(DA.read(a,r),r);break;case 9:if(n[1]<=8)return sL(a,r);break;case 60:return WP(a,r);case 73:if(73===n[1]&&42===n[2]&&0===n[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===n[1])return function(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=KD.to_workbook(e,r);return r.WTF=n,a}catch(qF){if(r.WTF=n,!qF.message.match(/SYLK bad record ID/)&&n)throw qF;return QD.to_workbook(e,t)}}(a,r);break;case 84:if(65===n[1]&&66===n[2]&&76===n[3])return XD.to_workbook(a,r);break;case 80:return 75===n[1]&&n[2]<9&&n[3]<9?function(e,t){var r=e,n=t||{};return n.type||(n.type=A_&&Buffer.isBuffer(e)?"buffer":"base64"),gF(fI(r,n),n)}(a,r):EF(e,a,r,i);case 239:return 60===n[3]?WP(a,r):EF(e,a,r,i);case 255:if(254===n[1])return function(e,t){var r=e;return"base64"==t.type&&(r=__(r)),r=y_.utils.decode(1200,r.slice(2),"str"),t.type="binary",bF(r,t)}(a,r);if(0===n[1]&&2===n[2]&&0===n[3])return ZD.to_workbook(a,r);break;case 0:if(0===n[1]){if(n[2]>=2&&0===n[3])return ZD.to_workbook(a,r);if(0===n[2]&&(8===n[3]||9===n[3]))return ZD.to_workbook(a,r)}break;case 3:case 131:case 139:case 140:return $D.to_workbook(a,r);case 123:if(92===n[1]&&114===n[2]&&116===n[3])return _R.to_workbook(a,r);break;case 10:case 13:case 32:return function(e,t){var r="",n=yF(e,t);switch(t.type){case"base64":r=__(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=qA(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]&&(r=BI(r)),t.type="binary",bF(r,t)}(a,r);case 137:if(80===n[1]&&78===n[2]&&71===n[3])throw new Error("PNG Image File is not a spreadsheet")}return GD.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?$D.to_workbook(a,r):EF(e,a,r,i)}function TF(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return OA(t.file,DA.write(e,{type:A_?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return DA.write(e,t)}function CF(e,t){var r={},n=A_?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?DA.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!==typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array(D_(a))}return t.password&&"undefined"!==typeof encrypt_agile?TF(encrypt_agile(a,t.password),t):"file"===t.type?OA(t.file,a):"string"==t.type?BI(a):a}function _F(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return C_(UI(n));case"binary":return UI(n);case"string":return e;case"file":return OA(t.file,n,"utf8");case"buffer":return A_?I_(n,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(n):_F(n,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function AF(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return"base64"==t.type?C_(r):"string"==t.type?BI(r):r;case"file":return OA(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function IF(e,t){m_(),gP(e);var r=QA(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var n=IF(e,r);return r.type="array",D_(n)}var a=0;if(r.sheet&&(a="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return _F(qP(e,r),r);case"slk":case"sylk":return _F(KD.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return _F(_L(e.Sheets[e.SheetNames[a]],r),r);case"txt":return function(e,t){switch(t.type){case"base64":return C_(e);case"binary":case"string":return e;case"file":return OA(t.file,e,"binary");case"buffer":return A_?I_(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(OF(e.Sheets[e.SheetNames[a]],r),r);case"csv":return _F(MF(e.Sheets[e.SheetNames[a]],r),r,"\ufeff");case"dif":return _F(XD.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return AF($D.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return _F(QD.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return _F(_R.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return _F(qD.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return _F(LL(e,r),r);case"wk1":return AF(ZD.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return AF(ZD.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),AF(yL(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),function(e,t){var r=t||{};return TF(oL(e,r),r)}(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var r=QA(t||{});return CF(vF(e,r),r)}(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function kF(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function NF(e,t,r,n,a,i,s,o){var l=hN(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch(qF){d.__rowNum__=r}else d.__rowNum__=r;if(!s||e[r])for(var f=t.s.c;f<=t.e.c;++f){var p=s?e[r][f]:e[n[f]+l];if(void 0!==p&&void 0!==p.t){var g=p.v;switch(p.t){case"z":if(null==g)break;continue;case"e":g=0==g?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=i[f]){if(null==g)if("e"==p.t&&null===g)d[i[f]]=null;else if(void 0!==c)d[i[f]]=c;else{if(!u||null!==g)continue;d[i[f]]=null}else d[i[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==o.rawNumbers)?g:bN(p,g,o);null!=g&&(h=!1)}}else{if(void 0===c)continue;null!=i[f]&&(d[i[f]]=c)}}return{row:d,isempty:h}}function xF(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?n=1:"A"===c.header?n=2:Array.isArray(c.header)?n=3:null==c.header&&(n=0),typeof u){case"string":l=wN(u);break;case"number":(l=wN(e["!ref"])).s.r=u;break;default:l=u}n>0&&(a=0);var h=hN(l.s.r),d=[],f=[],p=0,g=0,m=Array.isArray(e),v=l.s.r,w=0,y={};m&&!e[v]&&(e[v]=[]);var b=c.skipHidden&&e["!cols"]||[],E=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(b[w]||{}).hidden)switch(d[w]=fN(w),r=m?e[v][w]:e[d[w]+h],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=d[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),o=s=bN(r,null,c),g=y[s]||0){do{o=s+"_"+g++}while(y[o]);y[s]=g,y[o]=1}else y[s]=1;i[w]=o}for(v=l.s.r+a;v<=l.e.r;++v)if(!(E[v]||{}).hidden){var S=NF(e,l,v,d,n,i,m,c);(!1===S.isempty||(1===n?!1!==c.blankrows:c.blankrows))&&(f[p++]=S.row)}return f.length=p,f}var DF=/"/g;function RF(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",h=hN(r),d=t.s.c;d<=t.e.c;++d)if(n[d]){var f=o.dense?(e[r]||[])[d]:e[n[d]+h];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(o.rawNumbers&&"n"==f.t?f.v:bN(f,null,o));for(var p=0,g=0;p!==u.length;++p)if((g=u.charCodeAt(p))===a||g===i||34===g||o.forceQuotes){u='"'+u.replace(DF,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(DF,'""')+'"'));c.push(u)}return!1===o.blankrows&&l?null:c.join(s)}function MF(e,t){var r=[],n=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=wN(e["!ref"]),i=void 0!==n.FS?n.FS:",",s=i.charCodeAt(0),o=void 0!==n.RS?n.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==i?"\\|":i)+"+$"),u="",h=[];n.dense=Array.isArray(e);for(var d=n.skipHidden&&e["!cols"]||[],f=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(d[p]||{}).hidden||(h[p]=fN(p));for(var g=0,m=a.s.r;m<=a.e.r;++m)(f[m]||{}).hidden||null!=(u=RF(e,a,m,h,s,l,i,n))&&(n.strip&&(u=u.replace(c,"")),(u||!1!==n.blankrows)&&r.push((g++?o:"")+u));return delete n.dense,r.join("")}function OF(e,t){t||(t={}),t.FS="\t",t.RS="\n";var r=MF(e,t);if("undefined"==typeof y_||"string"==t.type)return r;var n=y_.utils.encode(1200,r,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function PF(e,t,r){var n,a=r||{},i=+!a.skipHeader,s=e||{},o=0,l=0;if(s&&null!=a.origin)if("number"==typeof a.origin)o=a.origin;else{var c="string"==typeof a.origin?pN(a.origin):a.origin;o=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+i}};if(s["!ref"]){var h=wN(s["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==o&&(o=h.e.r+1,u.e.r=o+t.length-1+i)}else-1==o&&(o=0,u.e.r=t.length-1+i);var d=a.header||[],f=0;t.forEach((function(e,t){PA(e).forEach((function(r){-1==(f=d.indexOf(r))&&(d[f=d.length]=r);var c=e[r],u="z",h="",p=gN({c:l+f,r:o+t+i});n=LF(s,p),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",a.cellDates||(u="n",c=VA(c)),h=a.dateNF||G_[14]):null===c&&a.nullError&&(u="e",c=0),n?(n.t=u,n.v=c,delete n.w,delete n.R,h&&(n.z=h)):s[p]=n={t:u,v:c},h&&(n.z=h)):s[p]=c}))})),u.e.c=Math.max(u.e.c,l+d.length-1);var p=hN(o);if(i)for(f=0;f<d.length;++f)s[fN(f+l)+p]={t:"s",v:d[f]};return s["!ref"]=vN(u),s}function LF(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var n=pN(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return LF(e,gN("number"!=typeof t?t:{r:t,c:r||0}))}function FF(){return{SheetNames:[],Sheets:{}}}function BF(e,t,r,n){var a=1;if(!r)for(;a<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+a);++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(r=s+a);++a);}if(pP(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function UF(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}var VF={encode_col:fN,encode_row:hN,encode_cell:gN,encode_range:vN,decode_col:dN,decode_row:uN,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:pN,decode_range:mN,format_cell:bN,sheet_add_aoa:SN,sheet_add_json:PF,sheet_add_dom:AL,aoa_to_sheet:TN,json_to_sheet:function(e,t){return PF(null,e,t)},table_to_sheet:IL,table_to_book:function(e,t){return EN(IL(e,t),t)},sheet_to_csv:MF,sheet_to_txt:OF,sheet_to_json:xF,sheet_to_html:_L,sheet_to_formulae:function(e){var t,r="",n="";if(null==e||null==e["!ref"])return[];var a,i=wN(e["!ref"]),s="",o=[],l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)o[a]=fN(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=hN(u),a=i.s.c;a<=i.e.c;++a)if(r=o[a]+s,n="",void 0!==(t=c?(e[u]||[])[a]:e[r])){if(null!=t.F){if(r=t.F,!t.f)continue;n=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)n=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)n=""+t.v;else if("b"==t.t)n=t.v?"TRUE":"FALSE";else if(void 0!==t.w)n="'"+t.w;else{if(void 0===t.v)continue;n="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=r+"="+n}return l},sheet_to_row_object_array:xF,sheet_get_cell:LF,book_new:FF,book_append_sheet:BF,book_set_sheet_visibility:function(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:UF,cell_set_internal_link:function(e,t,r){return UF(e,"#"+t,r)},cell_add_comment:function(e,t,r){e.c||(e.c=[]),e.c.push({t:t,a:r||"SheetJS"})},sheet_set_array_formula:function(e,t,r,n){for(var a="string"!=typeof t?t:wN(t),i="string"==typeof t?t:vN(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=LF(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};c_.version;function jF(){const t=(0,e.useRef)(null),[r,n]=(0,e.useState)([]),[a,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(1),[u,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(""),[p,g]=(0,e.useState)([]),[m,v]=(0,e.useState)(""),w=10,y=ee(),b=Hs();(0,e.useEffect)((()=>{(async()=>{const e=(await Mm(Rg(jm,"events"))).docs.map((e=>({id:e.id,...e.data()})));g(e)})();const e=b.onAuthStateChanged((async e=>{if(e){const t=Mg(jm,"admins",e.uid),r=await Dm(t);if(r.exists()){const e=r.data();h(`${e.firstName} ${e.lastName}`),f(e.phone)}else f(e.phoneNumber||""),h("Bilinmeyen Admin")}}));return()=>e()}),[]);const E=r.slice((l-1)*w,l*w),S=a.slice((l-1)*w,l*w),T=S.every((e=>e)),C=Math.ceil(r.length/w);return(0,e.useEffect)((()=>{const e=a.length>0&&a.every((e=>e));o(e)}),[a]),(0,zm.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,zm.jsxs)("div",{className:"w-full max-w-6xl bg-white rounded-2xl shadow-xl p-6",children:[(0,zm.jsx)("div",{className:"flex justify-center mb-4",children:(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim Kurumlar\u0131",className:"h-20"})}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"\ud83d\udce4 Excel ile Davetli Y\xfckle"}),(0,zm.jsxs)("div",{className:"mb-4",children:[(0,zm.jsx)("label",{className:"block font-medium text-gray-700 mb-1",children:"Etkinlik Se\xe7in:"}),(0,zm.jsxs)("select",{value:m,onChange:e=>v(e.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[(0,zm.jsx)("option",{value:"",children:"-- Etkinlik Se\xe7in --"}),p.map((e=>(0,zm.jsx)("option",{value:e.id,children:e.title},e.id)))]})]}),(0,zm.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:[(0,zm.jsx)("button",{onClick:()=>{const e=VF.aoa_to_sheet([["name","surname","phone","school","reference"]]),t=VF.book_new();VF.book_append_sheet(t,e,"\u015eablon"),function(e,t,r){var n=r||{};n.type="file",n.file=t,kF(n),IF(e,n)}(t,"davetli_sablon.xlsx")},className:"bg-amber-500 text-white py-2 px-4 rounded-xl hover:bg-amber-600 transition",children:"\ud83d\udcc4 \u015eablon \u0130ndir"}),(0,zm.jsx)("button",{onClick:()=>t.current.click(),className:"bg-gray-800 text-white py-2 px-4 rounded-xl hover:bg-gray-900 transition",children:"\ud83d\udcc2 Excel Y\xfckle"}),(0,zm.jsx)("button",{onClick:async()=>{if(!m)return void alert("L\xfctfen bir etkinlik se\xe7in.");const e=r.filter(((e,t)=>a[t])),t=[],n=p.find((e=>e.id===m));for(const r of e)try{const e=String(r.phone).startsWith("+90")?r.phone:"+90"+String(r.phone).replace(/^0/,""),n=vm(Rg(jm,"guests"),ym("eventId","==",m),ym("phone","==",e));if(!(await Mm(n)).empty){console.warn(`\u274c ${r.name} zaten kay\u0131tl\u0131, atland\u0131`);continue}const a=`${r.name} ${r.surname} - ${e}`,i=await HT.toDataURL(a);await Lm(Rg(jm,"guests"),{...r,phone:e,qrCode:i,eventId:m,addedBy:d,addedByName:u}),t.push({...r,phone:e,qrCode:i})}catch(i){console.error("Kay\u0131t hatas\u0131:",i)}if(t.length>0&&window.confirm("Yeni eklenen davetlilere davetiye g\xf6nderilsin mi?"))for(const r of t){const e=`${r.name} ${r.surname} - ${r.phone}`,t=`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(e)}&size=250x250`,a=`${n.title} Etkinli\u011fine davetlisiniz! \n\n${r.name} ${r.surname}\n Tarih: ${WT(n.date)}\n Saat: ${zT(n.time)}\n Adres: ${n.location||""}\n\n QR Kodunuz: ${t}\n QR Kodunuzu giri\u015fte g\xf6steriniz.`;try{await fetch("https://pusulaeventapi.onrender.com/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:r.phone,message:a})})}catch(s){console.error("SMS g\xf6nderim hatas\u0131:",s)}}alert("Se\xe7ilen davetliler ba\u015far\u0131yla eklendi."),y("/dashboard")},disabled:0===r.length,className:"bg-green-600 text-white py-2 px-4 rounded-xl hover:bg-green-700 transition disabled:opacity-50",children:"\u2705 \u0130\xe7e Aktar"}),(0,zm.jsx)("button",{onClick:()=>{y("/dashboard")},className:"bg-red-600 text-white py-2 px-4 rounded-xl hover:bg-red-700 transition",children:"\u274c Vazge\xe7"}),(0,zm.jsx)("input",{type:"file",accept:".xlsx,.xls",ref:t,onChange:e=>{const t=e.target.files[0];if(!t)return;const r=new FileReader;r.onload=e=>{const t=SF(e.target.result,{type:"binary"}),r=t.SheetNames[0],a=t.Sheets[r],s=VF.sheet_to_json(a);n(s),i(Array(s.length).fill(!0)),c(1)},r.readAsBinaryString(t)},className:"hidden"})]}),r.length>0&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsxs)("div",{className:"overflow-x-auto",children:[(0,zm.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,zm.jsxs)("h3",{className:"font-semibold text-gray-700 flex items-center gap-2",children:["\ud83d\udcca \xd6n \u0130zleme",(0,zm.jsxs)("label",{className:"text-sm flex items-center gap-1 font-normal",children:[(0,zm.jsx)("input",{type:"checkbox",checked:s,onChange:e=>{return t=e.target.checked,void i(Array(r.length).fill(t));var t}}),"T\xfcm\xfcn\xfc Se\xe7 (T\xfcm Sayfalar)"]})]})}),(0,zm.jsxs)("table",{className:"min-w-full border border-gray-300 text-sm",children:[(0,zm.jsx)("thead",{className:"bg-gray-100 text-left",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"p-2 border-b border-gray-300",children:(0,zm.jsx)("input",{type:"checkbox",checked:T,onChange:e=>(e=>{const t=[...a],n=(l-1)*w,s=Math.min(n+w,r.length);for(let r=n;r<s;r++)t[r]=e;i(t)})(e.target.checked)})}),Object.keys(r[0]).map((e=>(0,zm.jsx)("th",{className:"p-2 border-b border-gray-300 capitalize",children:e},e)))]})}),(0,zm.jsx)("tbody",{children:E.map(((e,t)=>(0,zm.jsxs)("tr",{className:"even:bg-gray-50",children:[(0,zm.jsx)("td",{className:"p-2 border-b border-gray-200",children:(0,zm.jsx)("input",{type:"checkbox",checked:S[t],onChange:()=>(e=>{const t=[...a],r=(l-1)*w+e;t[r]=!t[r],i(t)})(t)})}),Object.values(e).map(((e,t)=>(0,zm.jsx)("td",{className:"p-2 border-b border-gray-200",children:e},t)))]},t)))})]})]}),(0,zm.jsxs)("div",{className:"mt-4 flex justify-center space-x-2",children:[(0,zm.jsx)("button",{onClick:()=>c((e=>Math.max(e-1,1))),disabled:1===l,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"\u2b05\ufe0f Prev"}),Array.from({length:C},((e,t)=>(0,zm.jsx)("button",{onClick:()=>c(t+1),className:"px-3 py-1 rounded "+(l===t+1?"bg-amber-500 text-white":"bg-gray-200 hover:bg-gray-300"),children:t+1},t))),(0,zm.jsx)("button",{onClick:()=>c((e=>Math.min(e+1,C))),disabled:l===C,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"Next \u27a1\ufe0f"})]})]})]})})}function HF(){const t=ee(),[r,n]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=(await Mm(Rg(jm,"events"))).docs.map((e=>({id:e.id,...e.data()})));n(e)}catch(e){console.error("Etkinlikler al\u0131namad\u0131:",e)}})()}),[]);return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,zm.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,zm.jsx)("div",{className:"flex justify-center",children:(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim Kurumlar\u0131",className:"h-20 object-contain"})}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"\ud83d\udccb Etkinlikler"}),(0,zm.jsx)("div",{className:"text-left",children:(0,zm.jsx)("button",{onClick:()=>t("/dashboard"),className:"bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 rounded-xl transition",children:"\u2b05\ufe0f Geri D\xf6n"})}),(0,zm.jsx)("div",{className:"grid gap-6",children:r.map((e=>{var r,a;return(0,zm.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow border border-gray-200 cursor-pointer hover:bg-amber-50 transition",onClick:()=>t(`/events/${e.id}/guests`),children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-amber-600 mb-2",children:e.title}),(0,zm.jsxs)("p",{className:"text-gray-600 mb-1",children:["\ud83d\udccd ",e.location]}),(0,zm.jsxs)("p",{className:"text-gray-600 mb-1",children:["\ud83d\udcc5 ",null!==(r=e.date)&&void 0!==r&&null!==(a=r.toDate)&&void 0!==a&&a.call(r)?e.date.toDate().toLocaleDateString():"",e.time?` \u23f0 ${zT(e.time)}`:""]}),(0,zm.jsx)("p",{className:"text-gray-600 mt-2 mb-4",children:e.description}),(0,zm.jsxs)("div",{className:"flex gap-4",children:[(0,zm.jsx)("button",{onClick:r=>{r.stopPropagation(),t(`/edit-event/${e.id}`)},className:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-xl transition",children:"\u270f\ufe0f D\xfczenle"}),(0,zm.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("Bu etkinli\u011fi silmek istedi\u011finize emin misiniz?"))try{await Pm(Mg(jm,"events",e)),n((t=>t.filter((t=>t.id!==e)))),alert("Etkinlik silindi.")}catch(t){alert("Silme i\u015flemi ba\u015far\u0131s\u0131z."),console.error(t)}})(e.id)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl transition",children:"\u274c Sil"})]})]},e.id)}))})]})})}function zF(){const{id:t}=te(),r=ee(),[n,a]=(0,e.useState)({title:"",date:null,time:"",location:""}),[i,s]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(null),[h,d]=(0,e.useState)({name:"",surname:"",phone:"",school:"",reference:""}),[f,p]=(0,e.useState)(1);(0,e.useEffect)((()=>{(async()=>{try{const e=vm(Rg(jm,"guests"),ym("eventId","==",t)),r=(await Mm(e)).docs.map((e=>({id:e.id,...e.data()})));s(r)}catch(e){console.error("Davetliler al\u0131namad\u0131:",e)}})()}),[t]),(0,e.useEffect)((()=>{(async()=>{try{const e=await Dm(Mg(jm,"events",t));if(e.exists()){const t=e.data();a({title:t.title||"",date:t.date||null,time:t.time||"",location:t.location||""})}}catch(e){console.error("Etkinlik bilgisi al\u0131namad\u0131:",e)}})()}),[t]);const g=e=>{d({...h,[e.target.name]:e.target.value})},m=async e=>{e.preventDefault();try{const e=Mg(jm,"guests",c);await Om(e,h),s((e=>e.map((e=>e.id===c?{...e,...h}:e)))),u(null),alert("Davetli g\xfcncellendi.")}catch(t){console.error("G\xfcncelleme hatas\u0131:",t),alert("Davetli g\xfcncellenemedi.")}},v=i.filter((e=>`${e.name} ${e.surname} ${e.phone} ${e.school} ${e.reference}`.toLowerCase().includes(o.toLowerCase()))),w=Math.ceil(v.length/10),y=v.slice(10*(f-1),10*f);return(0,zm.jsxs)("div",{className:"min-h-screen bg-indigo-50 p-6",children:[(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"\ud83d\udc65 Davetli Listesi"}),(0,zm.jsx)("div",{className:"max-w-2xl mx-auto mb-4",children:(0,zm.jsx)("input",{type:"text",placeholder:"\u0130sim, okul, telefon veya referans ile ara...",value:o,onChange:e=>{l(e.target.value),p(1)},className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm"})}),(0,zm.jsxs)("div",{className:"max-w-2xl mx-auto bg-white p-6 rounded-xl shadow space-y-6",children:[0===y.length?(0,zm.jsx)("p",{className:"text-center text-gray-600",children:"Arad\u0131\u011f\u0131n\u0131z kriterlere uygun davetli bulunamad\u0131."}):y.map((e=>(0,zm.jsx)("div",{className:"border-b pb-4 text-gray-700",children:c===e.id?(0,zm.jsxs)("form",{onSubmit:m,className:"space-y-3",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,zm.jsx)("input",{name:"name",value:h.name,onChange:g,placeholder:"Ad",className:"p-2 border border-gray-300 rounded",required:!0}),(0,zm.jsx)("input",{name:"surname",value:h.surname,onChange:g,placeholder:"Soyad",className:"p-2 border border-gray-300 rounded",required:!0}),(0,zm.jsx)("input",{name:"phone",value:h.phone,onChange:g,placeholder:"Telefon",className:"p-2 border border-gray-300 rounded col-span-2",required:!0}),(0,zm.jsx)("input",{name:"school",value:h.school,onChange:g,placeholder:"Okul",className:"p-2 border border-gray-300 rounded col-span-2",required:!0}),(0,zm.jsx)("input",{name:"reference",value:h.reference,onChange:g,placeholder:"Referans (opsiyonel)",className:"p-2 border border-gray-300 rounded col-span-2"})]}),(0,zm.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,zm.jsx)("button",{type:"submit",className:"bg-amber-500 text-white px-4 py-2 rounded hover:bg-amber-600",children:"\ud83d\udcbe Kaydet"}),(0,zm.jsx)("button",{type:"button",onClick:()=>u(null),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400",children:"\u274c Vazge\xe7"})]})]}):(0,zm.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("p",{className:"font-semibold",children:[e.name," ",e.surname]}),(0,zm.jsxs)("p",{className:"text-sm",children:["\ud83c\udf93 ",e.school]}),e.reference&&(0,zm.jsxs)("p",{className:"text-sm",children:["\ud83d\udccc Referans: ",e.reference]}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500",children:["\ud83d\udcf1 ",e.phone]})]}),(0,zm.jsxs)("div",{className:"flex flex-col gap-2 min-w-[120px] items-end",children:[(0,zm.jsx)("button",{onClick:()=>(e=>{u(e.id),d({name:e.name,surname:e.surname,phone:e.phone,school:e.school,reference:e.reference||""})})(e),className:"bg-amber-500 hover:bg-amber-600 text-white text-sm px-3 py-1 rounded w-full",children:"\u270f\ufe0f D\xfczenle"}),(0,zm.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Bu davetliyi silmek istiyor musunuz?"))try{await Pm(Mg(jm,"guests",e)),s((t=>t.filter((t=>t.id!==e))))}catch(t){console.error("Silme hatas\u0131:",t),alert("Silme i\u015flemi ba\u015far\u0131s\u0131z.")}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white text-sm px-3 py-1 rounded w-full",children:"\u274c Sil"}),(0,zm.jsx)("button",{onClick:()=>(async e=>{const t=String(e.phone),r=t.startsWith("+90")?t:"+90"+t.replace(/^0/,""),a=`${e.name} ${e.surname} - ${r}`,i=`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(a)}&size=250x250`,s=`${n.title} Etkinli\u011fine davetlisiniz!\n\n ${e.name} ${e.surname} Saat: ${zT(n.time)} Tarih: ${WT(n.date)} Adres: ${n.location}\n QR Kodunuz: ${i}\n QR Kodunuzu giri\u015fte g\xf6steriniz.`;try{const t=await fetch("https://pusulaeventapi.onrender.com/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:r,message:s})}),n=await t.json();n.success?alert("\u2705 SMS g\xf6nderildi: "+e.name+" "+e.surname):alert("SMS g\xf6nderilemedi: "+(n.error||n.message||"Bilinmeyen hata"))}catch(o){console.error("Davetli SMS g\xf6nderim hatas\u0131:",o),alert("SMS g\xf6nderimi ba\u015far\u0131s\u0131z.")}})(e),className:"bg-green-500 hover:bg-green-600 text-white text-sm px-3 py-1 rounded w-full",children:"\ud83d\udce8 Davetiye"})]})]})},e.id))),w>1&&(0,zm.jsxs)("div",{className:"flex justify-center gap-2 pt-4",children:[(0,zm.jsx)("button",{onClick:()=>p((e=>Math.max(1,e-1))),disabled:1===f,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"\u2b05\ufe0f"}),Array.from({length:w},((e,t)=>(0,zm.jsx)("button",{onClick:()=>p(t+1),className:"px-3 py-1 rounded "+(f===t+1?"bg-amber-500 text-white":"bg-gray-200 hover:bg-gray-300"),children:t+1},t+1))),(0,zm.jsx)("button",{onClick:()=>p((e=>Math.min(w,e+1))),disabled:f===w,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"\u27a1\ufe0f"})]}),(0,zm.jsx)("div",{className:"pt-4",children:(0,zm.jsx)("button",{onClick:()=>r("/events"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-xl",children:"\u2b05\ufe0f Geri D\xf6n"})})]})]})}function WF(){const[t,r]=(0,e.useState)(""),[n,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(60),[h,d]=(0,e.useState)(!1),[f,p]=(0,e.useState)(""),g=ee(),m=e=>{let t=e.replace(/\D/g,"");return t.startsWith("0")&&(t=t.slice(1)),"+90"+t.slice(0,10)};(0,e.useEffect)((()=>{if(i&&c>0){const e=setTimeout((()=>u(c-1)),1e3);return()=>clearTimeout(e)}i&&0===c&&(alert("Kod s\xfcresi doldu. L\xfctfen tekrar deneyin."),s(!1),l(""),u(60))}),[i,c]);return(0,zm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:(0,zm.jsxs)("form",{className:"bg-white shadow-xl rounded-3xl p-8 max-w-md w-full space-y-6 border border-gray-200",children:[(0,zm.jsx)("div",{className:"flex justify-center",children:(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim",className:"h-20"})}),(0,zm.jsx)("h2",{className:"text-xl font-bold text-center text-gray-800",children:"\ud83d\udd10 \u015eifre S\u0131f\u0131rlama"}),!i&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"text-sm text-gray-600 block mb-1",children:"Kendi Telefon Numaran\u0131z"}),(0,zm.jsxs)("div",{className:"flex",children:[(0,zm.jsx)("span",{className:"inline-flex items-center px-3 text-gray-700 bg-gray-200 border border-r-0 border-gray-300 rounded-l-xl text-sm",children:"+90"}),(0,zm.jsx)("input",{type:"tel",placeholder:"5xxxxxxxxx",value:t.replace("+90",""),onChange:e=>r(e.target.value),className:"w-full p-3 border border-gray-300 rounded-r-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"text-sm text-gray-600 block mb-1",children:"Onaylayacak Admin Numaras\u0131"}),(0,zm.jsxs)("div",{className:"flex",children:[(0,zm.jsx)("span",{className:"inline-flex items-center px-3 text-gray-700 bg-gray-200 border border-r-0 border-gray-300 rounded-l-xl text-sm",children:"+90"}),(0,zm.jsx)("input",{type:"tel",placeholder:"5xxxxxxxxx",value:n.replace("+90",""),onChange:e=>a(e.target.value),className:"w-full p-3 border border-gray-300 rounded-r-xl focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]})]}),(0,zm.jsx)("button",{type:"button",onClick:async()=>{const e=approverPhone.startsWith("+90")?approverPhone:"+90"+approverPhone.replace(/^0/,""),t=Math.floor(1e5+9e5*Math.random()).toString();setGeneratedCode(t),s(!0),u(60);try{const r=await fetch("https://pusulaeventapi.onrender.com/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,message:`\ud83d\udccc Pusula E\u011fitim: Onay kodunuz: ${t}`})}),n=await r.json();n.success?alert("Kod ba\u015far\u0131yla g\xf6nderildi!"):alert("SMS g\xf6nderilemedi: "+(n.message||"Bilinmeyen hata"))}catch(r){console.error("Fetch hatas\u0131:",r),alert("SMS g\xf6nderimi ba\u015far\u0131s\u0131z.")}},className:"w-full bg-amber-600 text-white py-3 rounded-xl font-semibold hover:bg-amber-700 transition duration-300",children:"SMS Kod G\xf6nder"})]}),i&&!h&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("input",{type:"text",placeholder:"Gelen SMS kodu",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,zm.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Kalan s\xfcre: ",(0,zm.jsx)("span",{className:"font-semibold",children:c})," saniye"]}),(0,zm.jsx)("button",{type:"button",onClick:()=>{"1234"===o?d(!0):alert("Kod hatal\u0131. L\xfctfen tekrar deneyin.")},className:"w-full bg-green-600 text-white py-3 rounded-xl hover:bg-green-700 transition duration-300",children:"\u2705 Kodu Do\u011frula"})]}),h&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("input",{type:"password",placeholder:"Yeni \u015eifre",value:f,onChange:e=>p(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,zm.jsx)("button",{type:"button",onClick:()=>{f.length<6?alert("\u015eifre en az 6 karakter olmal\u0131."):(console.log("\ud83d\udd12 Yeni \u015fifre ayarland\u0131:",{phone:m(t),password:f}),alert("\u015eifreniz ba\u015far\u0131yla g\xfcncellendi."),g("/"))},className:"w-full bg-green-600 text-white py-3 rounded-xl hover:bg-green-700 transition duration-300",children:"\ud83d\udd12 \u015eifreyi G\xfcncelle"})]}),(0,zm.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,zm.jsx)("button",{type:"button",onClick:()=>g("/"),className:"w-full text-gray-800 border border-gray-800 py-2 rounded-xl font-medium hover:bg-gray-800 hover:text-white transition",children:"\ud83d\udd19 Giri\u015fe D\xf6n"})})]})})}function YF(){const[t,r]=(0,e.useState)(""),[n,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(null),[o,l]=(0,e.useState)(""),c=ee();(0,e.useEffect)((()=>{if(console.log("auth nesnesi:",Vm),!window.recaptchaVerifier)try{window.recaptchaVerifier=new $i(Vm,"recaptcha-container",{size:"invisible",callback:e=>{console.log("\u2705 reCAPTCHA ba\u015far\u0131l\u0131:",e)},"expired-callback":()=>{console.log("\u26a0\ufe0f reCAPTCHA s\xfcresi doldu")}})}catch(e){console.error("\u274c reCAPTCHA tan\u0131mlanamad\u0131:",e)}}),[]);return(0,zm.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100",children:(0,zm.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md space-y-4 max-w-sm w-full",children:[(0,zm.jsx)("h2",{className:"text-xl font-bold text-center",children:"\ud83d\udcf2 \u015eifreyi S\u0131f\u0131rla"}),i?Vm.currentUser?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("input",{type:"password",placeholder:"Yeni \u015eifre",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 border rounded"}),(0,zm.jsx)("button",{onClick:async()=>{if(o.length<6)alert("\u015eifre en az 6 karakter olmal\u0131.");else try{await function(e,t){return pi(Dt(e),null,t)}(Vm.currentUser,o),alert("\u015eifre ba\u015far\u0131yla g\xfcncellendi."),c("/")}catch(e){alert("\u015eifre g\xfcncellenemedi: "+e.message)}},className:"w-full bg-purple-600 text-white py-2 rounded",children:"\ud83d\udd12 \u015eifreyi G\xfcncelle"})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("input",{type:"text",placeholder:"SMS Kodu",value:n,onChange:e=>a(e.target.value),className:"w-full p-3 border rounded"}),(0,zm.jsx)("button",{onClick:async()=>{try{await i.confirm(n);alert("Do\u011frulama ba\u015far\u0131l\u0131! \u015eimdi \u015fifreyi g\xfcncelleyin.")}catch(e){alert("Kod hatal\u0131: "+e.message)}},className:"w-full bg-green-600 text-white py-2 rounded",children:"\u2705 Do\u011frula"})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("input",{type:"tel",placeholder:"Telefon (+905xx...)",value:t,onChange:e=>r(e.target.value),className:"w-full p-3 border rounded"}),(0,zm.jsx)("button",{onClick:async()=>{const e=t.startsWith("+90")?t:"+90"+t.replace(/^0/,"");try{const t=await async function(e,t,r){if(zr(e.app))return Promise.reject(mn(e));const n=Ta(e),a=await Xi(n,t,Dt(r));return new Ki(a,(e=>di(n,e)))}(Vm,e,window.recaptchaVerifier);s(t),alert("Kod g\xf6nderildi!")}catch(r){alert("Kod g\xf6nderilemedi: "+r.message)}},className:"w-full bg-blue-600 text-white py-2 rounded",children:"SMS Kod G\xf6nder"})]}),(0,zm.jsx)("div",{id:"recaptcha-container"})]})})}function GF(){const{id:t}=te(),r=ee(),[n,a]=(0,e.useState)(null),[i,s]=(0,e.useState)(""),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(null),[f,p]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{const e=Mg(jm,"events",t),n=await Dm(e);if(n.exists()){const e=n.data();a(e)}else alert("Etkinlik bulunamad\u0131"),r("/events")})()}),[t,r]),(0,e.useEffect)((()=>{if(n){var e,t;s(n.title||""),l(n.description||""),u(n.location||"");const r=null!==(e=n.date)&&void 0!==e&&e.seconds?new Date(1e3*n.date.seconds):new Date(n.date);let a;if(null!==(t=n.time)&&void 0!==t&&t.seconds)a=new Date(1e3*n.time.seconds);else if("string"===typeof n.time&&n.time.includes(":")){const[e,t]=n.time.split(":").map(Number);a=new Date,a.setHours(e),a.setMinutes(t),a.setSeconds(0),a.setMilliseconds(0)}else a=new Date;d(r),p(a)}}),[n]);return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,zm.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i&&h&&f&&c)try{const e=Mg(jm,"events",t);await Om(e,{title:i,description:o,location:c,date:h,time:f}),alert("Etkinlik ba\u015far\u0131yla g\xfcncellendi!"),r("/events")}catch(n){console.error("G\xfcncelleme hatas\u0131:",n),alert("Etkinlik g\xfcncellenemedi!")}else alert("L\xfctfen t\xfcm alanlar\u0131 doldurun")},className:"bg-white shadow-xl rounded-3xl p-8 max-w-md w-full space-y-6 border border-gray-200",children:[(0,zm.jsx)("div",{className:"flex justify-center mb-2",children:(0,zm.jsx)("img",{src:Hm,alt:"Pusula E\u011fitim Kurumlar\u0131",className:"h-20 object-contain"})}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"\u270f\ufe0f Etkinlik D\xfczenle"}),(0,zm.jsx)("input",{type:"text",placeholder:"Etkinlik Ba\u015fl\u0131\u011f\u0131",value:i,onChange:e=>s(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,zm.jsx)("textarea",{placeholder:"A\xe7\u0131klama",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",rows:"3"}),(0,zm.jsx)(xT,{selected:h,onChange:e=>d(e),locale:"tr",dateFormat:"dd/MM/yyyy",placeholderText:"Tarih se\xe7in",className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,zm.jsx)(xT,{selected:f,onChange:e=>p(e),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Saat",locale:"tr",dateFormat:"HH:mm",placeholderText:"Saat se\xe7in",className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,zm.jsx)("input",{type:"text",placeholder:"\ud83d\udccd Adres",value:c,onChange:e=>u(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,zm.jsx)("button",{type:"submit",className:"w-full bg-amber-500 text-white text-lg py-3 rounded-xl font-semibold hover:bg-amber-600 transition duration-300",children:"\u2705 G\xfcncelle"}),(0,zm.jsx)("button",{type:"button",onClick:()=>r("/events"),className:"w-full bg-gray-300 text-gray-800 text-lg py-3 rounded-xl font-medium hover:bg-gray-400 transition duration-300",children:"\u274c Vazge\xe7"})]})})}bS("tr",UT);const $F=e=>null!==e&&void 0!==e&&e.seconds?new Date(1e3*e.seconds).toLocaleString("tr-TR"):"Hen\xfcz giri\u015f yap\u0131lmad\u0131";function KF(){const t=ee(),[r,n]=(0,e.useState)([]),[a,i]=(0,e.useState)(""),[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(1),[u,h]=(0,e.useState)("all");(0,e.useEffect)((()=>{(async()=>{const e=(await Mm(Rg(jm,"events"))).docs.map((e=>({id:e.id,...e.data()})));n(e)})()}),[]),(0,e.useEffect)((()=>{(async()=>{if(!a)return;const e=vm(Rg(jm,"guests"),ym("eventId","==",a)),t=(await Mm(e)).docs.map((e=>({id:e.id,...e.data()})));o(t),c(1)})()}),[a]);const d=s.filter((e=>"checkedIn"===u?e.checkInTime:"notCheckedIn"!==u||!e.checkInTime)),f=d.slice(10*(l-1),10*l),p=Math.ceil(d.length/10),g=s.filter((e=>e.checkInTime)).length,m=s.length-g;return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-100 p-4",children:(0,zm.jsxs)("div",{className:"max-w-5xl mx-auto bg-white rounded-2xl shadow p-6 space-y-6",children:[(0,zm.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"\ud83d\udcca Etkinlik Analizi"}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Etkinlik Se\xe7in:"}),(0,zm.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[(0,zm.jsx)("option",{value:"",children:"-- Etkinlik Se\xe7 --"}),r.map((e=>(0,zm.jsx)("option",{value:e.id,children:e.title},e.id)))]})]}),a&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsxs)("div",{className:"flex flex-wrap justify-center gap-6 bg-gray-100 p-4 rounded-xl text-center text-gray-800 text-sm sm:text-base font-medium",children:[(0,zm.jsxs)("div",{children:["\u2705 Giri\u015f Yapan: ",(0,zm.jsx)("span",{className:"font-bold text-green-600",children:g})]}),(0,zm.jsxs)("div",{children:["\u23f3 Giri\u015f Yapmayan: ",(0,zm.jsx)("span",{className:"font-bold text-red-600",children:m})]}),(0,zm.jsxs)("div",{children:["\ud83d\udc65 Toplam Davetli: ",(0,zm.jsx)("span",{className:"font-bold text-gray-700",children:s.length})]})]}),(0,zm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-center items-start sm:items-center gap-4 sm:gap-6 text-sm sm:text-base text-gray-700 font-medium",children:[(0,zm.jsxs)("label",{className:"flex items-center gap-2",children:[(0,zm.jsx)("input",{type:"radio",name:"filter",value:"all",checked:"all"===u,onChange:()=>h("all")})," T\xfcm\xfc"]}),(0,zm.jsxs)("label",{className:"flex items-center gap-2",children:[(0,zm.jsx)("input",{type:"radio",name:"filter",value:"checkedIn",checked:"checkedIn"===u,onChange:()=>h("checkedIn")})," Giri\u015f Yapanlar"]}),(0,zm.jsxs)("label",{className:"flex items-center gap-2",children:[(0,zm.jsx)("input",{type:"radio",name:"filter",value:"notCheckedIn",checked:"notCheckedIn"===u,onChange:()=>h("notCheckedIn")})," Giri\u015f Yapmayanlar"]})]})]}),a&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"w-full text-sm border border-gray-300 rounded",children:[(0,zm.jsx)("thead",{className:"bg-gray-100 text-left",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"p-2",children:"Ad"}),(0,zm.jsx)("th",{className:"p-2",children:"Soyad"}),(0,zm.jsx)("th",{className:"p-2",children:"Telefon"}),(0,zm.jsx)("th",{className:"p-2",children:"Okul"}),(0,zm.jsx)("th",{className:"p-2",children:"Referans"}),(0,zm.jsx)("th",{className:"p-2",children:"Giri\u015f Zaman\u0131"}),(0,zm.jsx)("th",{className:"p-2",children:"Kontrol Eden"})]})}),(0,zm.jsx)("tbody",{children:f.map((e=>(0,zm.jsxs)("tr",{className:"border-t",children:[(0,zm.jsx)("td",{className:"p-2",children:e.name}),(0,zm.jsx)("td",{className:"p-2",children:e.surname}),(0,zm.jsx)("td",{className:"p-2",children:e.phone}),(0,zm.jsx)("td",{className:"p-2",children:e.school}),(0,zm.jsx)("td",{className:"p-2",children:e.reference||"-"}),(0,zm.jsx)("td",{className:"p-2",children:$F(e.checkInTime)}),(0,zm.jsx)("td",{className:"p-2",children:e.checkedInByName||e.checkedInBy||"-"})]},e.id)))})]})}),(0,zm.jsxs)("div",{className:"flex justify-between items-center mt-4 flex-wrap gap-3",children:[(0,zm.jsxs)("div",{className:"text-sm text-gray-600",children:["Sayfa ",l," / ",p]}),(0,zm.jsxs)("div",{className:"flex gap-2",children:[(0,zm.jsx)("button",{disabled:1===l,onClick:()=>c(l-1),className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"\u2b05\ufe0f \xd6nceki"}),(0,zm.jsx)("button",{disabled:l===p,onClick:()=>c(l+1),className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"Sonraki \u27a1\ufe0f"})]}),(0,zm.jsx)("button",{onClick:()=>{const e=[["Ad","Soyad","Telefon","Okul","Referans","Giri\u015f Zaman\u0131","Kontrol Eden"],...d.map((e=>[e.name,e.surname,e.phone,e.school,e.reference||"-",$F(e.checkInTime),e.checkedInByName||e.checkedInBy||"-"]))].map((e=>e.join(";"))).join("\n"),t=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="davetli_analizi.csv",n.click()},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"\ud83d\udce5 Excel'e Aktar"})]})]}),(0,zm.jsx)("div",{className:"pt-6",children:(0,zm.jsx)("button",{onClick:()=>t("/dashboard"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-xl",children:"\u2b05\ufe0f Geri D\xf6n"})})]})})}const XF=function(){return(0,zm.jsx)(Ze,{children:(0,zm.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,zm.jsxs)(we,{children:[(0,zm.jsx)(me,{path:"/",element:(0,zm.jsx)(Wm,{})}),(0,zm.jsx)(me,{path:"/register-sms",element:(0,zm.jsx)(Gm,{})}),(0,zm.jsx)(me,{path:"/dashboard",element:(0,zm.jsx)($m,{})}),(0,zm.jsx)(me,{path:"/create-event",element:(0,zm.jsx)(VT,{})}),(0,zm.jsx)(me,{path:"/invite",element:(0,zm.jsx)(YT,{})}),(0,zm.jsx)(me,{path:"/check-in",element:(0,zm.jsx)(l_,{})}),(0,zm.jsx)(me,{path:"/import",element:(0,zm.jsx)(jF,{})}),(0,zm.jsx)(me,{path:"/events",element:(0,zm.jsx)(HF,{})}),(0,zm.jsx)(me,{path:"/events/:id/guests",element:(0,zm.jsx)(zF,{})}),(0,zm.jsx)(me,{path:"/reset-password",element:(0,zm.jsx)(WF,{})}),(0,zm.jsx)(me,{path:"/reset-password-auth",element:(0,zm.jsx)(YF,{})}),(0,zm.jsx)(me,{path:"/edit-event/:id",element:(0,zm.jsx)(GF,{})}),(0,zm.jsx)(me,{path:"/analytics",element:(0,zm.jsx)(KF,{})})]})})})};n.createRoot(document.getElementById("root")).render((0,zm.jsx)(e.StrictMode,{children:(0,zm.jsx)(XF,{})}))})()})();
//# sourceMappingURL=main.6aefc3ef.js.map